/*! For license information please see main.c9fb35a4.js.LICENSE.txt */
(()=>{var e={740:e=>{"use strict";e.exports=function(e,t,n,r,i,s,o,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},381:(e,t,n)=>{var r="Expected a function",i=NaN,s="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,h="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,f=h||d||Function("return this")(),p=Object.prototype.toString,m=Math.max,g=Math.min,v=function(){return f.Date.now()};function y(e,t,n){var i,s,o,a,l,c,u=0,h=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(r);function p(t){var n=i,r=s;return i=s=void 0,u=t,a=e.apply(r,n)}function y(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=o}function _(){var e=v();if(y(e))return E(e);l=setTimeout(_,function(e){var n=t-(e-c);return d?g(n,o-(e-u)):n}(e))}function E(e){return l=void 0,f&&i?p(e):(i=s=void 0,a)}function I(){var e=v(),n=y(e);if(i=arguments,s=this,c=e,n){if(void 0===l)return function(e){return u=e,l=setTimeout(_,t),h?p(e):a}(c);if(d)return l=setTimeout(_,t),p(c)}return void 0===l&&(l=setTimeout(_,t)),a}return t=b(t)||0,w(n)&&(h=!!n.leading,o=(d="maxWait"in n)?m(b(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),I.cancel=function(){void 0!==l&&clearTimeout(l),u=0,i=c=s=l=void 0},I.flush=function(){return void 0===l?a:E(v())},I}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==s}(e))return i;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?i:+e}e.exports=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError(r);return w(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),y(e,t,{leading:i,maxWait:t,trailing:s})}},197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(534),s=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,s,o){var a=i||"<<anonymous>>",l=o||r;if(null==n[r])return t?new Error("Required "+s+" `"+l+"` was not specified in `"+a+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),h=6;h<c;h++)u[h-6]=arguments[h];return e.apply(void 0,[n,r,a,s,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case E:return"Portal";case T:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function $(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function se(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ie=null,Se=null;function Te(e){if(e=wi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ee(e.stateNode,e.type,t))}}function ke(e){Ie?Se?Se.push(e):Se=[e]:Ie=e}function Ce(){if(Ie){var e=Ie,t=Se;if(Se=Ie=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return xe(e,t,n)}finally{Ae=!1,(null!==Ie||null!==Se)&&(Ne(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Re=!1}function Le(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,s,o,a,l){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Et,It,St,Tt,kt=!1,Ct=[],xt=null,Nt=null,At=null,Pt=new Map,Dt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){kt=!1,null!==xt&&jt(xt)&&(xt=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Pt.forEach(Ut),Dt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&zt(xt,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Ht(e,t,n,r)}finally{wt=i,qt.transition=s}}function Gt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Ht(e,t,n,r)}finally{wt=i,qt.transition=s}}function Ht(e,t,n,r){if(Kt){var i=Jt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dt.set(s,Mt(Dt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Jt(e,t,n,r))&&Kr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Tn(){return Sn}var kn=F({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(kn),xn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Pn),Rn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!On||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){ke(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){jr(e,0)}function Jn(e){if(H(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Jn(Hn)){var t=[];Wn(t,Hn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Hn)}function sr(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Ir={},Sr={};function Tr(e){if(Ir[e])return Ir[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Ir[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var kr=Tr("animationend"),Cr=Tr("animationiteration"),xr=Tr("animationstart"),Nr=Tr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),l(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Or=Pr[Rr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(kr,"onAnimationEnd"),Dr(Cr,"onAnimationIteration"),Dr(xr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=Fe;Me=!1,Fe=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,c),s=l}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=s,i=_e(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case kr:case Cr:case xr:l=vn;break;case Nr:l=An;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=De(p,d))&&u.push(Wr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Hr(f))p++;for(f=0,m=d;m;m=Hr(m))f++;for(;0<p-f;)u=Hr(u),p--;for(;0<f-p;)d=Hr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Hr(u),d=Hr(d)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==h&&Qr(o,h,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(Kn(a))if(Xn)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(Kn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(y=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Gr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=zn(n))&&(w.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=$t=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=De(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=De(n,s))&&o.unshift(Wr(n,l,a)):i||null!=(l=De(n,s))&&o.push(Wr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ei=[],Ii=-1;function Si(e){return{current:e}}function Ti(e){0>Ii||(e.current=Ei[Ii],Ei[Ii]=null,Ii--)}function ki(e,t){Ii++,Ei[Ii]=e.current,e.current=t}var Ci={},xi=Si(Ci),Ni=Si(!1),Ai=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Ni),Ti(xi)}function Oi(e,t,n){if(xi.current!==Ci)throw Error(s(168));ki(xi,t),ki(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=xi.current,ki(xi,e),ki(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(xi),ki(xi,e)):Ti(Ni),ki(Ni,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=wt;try{var n=ji;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He(Ze,Bi),i}finally{wt=t,Vi=!1}}return null}var qi=[],Ki=0,Wi=null,Gi=0,Hi=[],Qi=0,Ji=null,Yi=1,Xi="";function $i(e,t){qi[Ki++]=Gi,qi[Ki++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=Ji,Ji=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=qi[--Ki],qi[Ki]=null,Gi=qi[--Ki],qi[Ki]=null;for(;e===Ji;)Ji=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Si(null),ys=null,ws=null,bs=null;function _s(){bs=ws=ys=null}function Es(e){var t=vs.current;Ti(vs),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){ys=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===ys)throw Error(s(308));ws=e,ys.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var ks=null;function Cs(e){null===ks?ks=[e]:ks.push(e)}function xs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Cs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,Cs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:As=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=h}}function js(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zs={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Rs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rc(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Rs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rc(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Rs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Os(e,i,r))&&(rc(t,e,r,n),Ls(t,e,r))}};function Bs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(i=Di(t)?Ai:xi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ks(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Ws(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,Ps(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ts(s):(s=Di(t)?Ai:xi.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Vs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zs.enqueueReplaceState(i,i.state,null),Fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Hs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Js(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===I?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Gs(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Gs(e,null,t),n.return=e,n;case E:return(t=Uc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Hs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Hs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Hs(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),is&&$i(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&$i(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&$i(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?u=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),is&&$i(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return is&&$i(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&$i(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===I&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===I){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===I?((s=Mc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Lc(o.type,o.key,o.props,null,r.mode,l)).ref=Gs(r,s,o),l.return=r,r=l)}return a(r);case E:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(o,r.mode,l)).return=r,r=s}return a(r);case D:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(L(o))return g(r,s,o,l);Hs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=jc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Ys=Js(!0),Xs=Js(!1),$s={},Zs=Si($s),eo=Si($s),to=Si($s);function no(e){if(e===$s)throw Error(s(174));return e}function ro(e,t){switch(ki(to,t),ki(eo,e),ki(Zs,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Zs),ki(Zs,t)}function io(){Ti(Zs),Ti(eo),Ti(to)}function so(e){no(to.current);var t=no(Zs.current),n=le(t,e.type);t!==n&&(ki(eo,e),ki(Zs,n))}function oo(e){eo.current===e&&(Ti(Zs),Ti(eo))}var ao=Si(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,wo=!1,bo=0,_o=0;function Eo(){throw Error(s(321))}function Io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(s(301));o+=1,vo=go=null,t.updateQueue=null,ho.current=ca,e=n(r,i)}while(wo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,t)throw Error(s(300));return e}function To(){var e=0!==bo;return bo=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function Co(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function xo(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,mo.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Fl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Do(e,t){var n=mo,r=Co(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fo(e){var t=Ns(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Co().memoizedState}function zo(e,t,n,r){var i=ko();mo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Co();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&Io(r,o.deps))return void(i.memoizedState=Uo(t,n,s,r))}mo.flags|=e,i.memoizedState=Uo(1|t,n,s,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ko(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ho.bind(null,t,e),n)}function Jo(){}function Yo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{wt=n,fo.transition=r}}function ea(){return Co().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=xs(e,t,n,r))){rc(n,e,r,tc()),sa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Cs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=xs(e,t,i,r))&&(rc(n,e,r,i=tc()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){wo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var oa={readContext:Ts,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useInsertionEffect:Eo,useLayoutEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useMutableSource:Eo,useSyncExternalStore:Eo,useId:Eo,unstable_isNewReconciler:!1},aa={readContext:Ts,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:jo,useDebugValue:Jo,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=ko();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=Al.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Ts,useCallback:Yo,useContext:Ts,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(xo)},useDebugValue:Jo,useDeferredValue:function(e){return $o(Co(),go.memoizedState,e)},useTransition:function(){return[No(xo)[0],Co().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Ts,useCallback:Yo,useContext:Ts,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(xo)},useDebugValue:Jo,useDeferredValue:function(e){var t=Co();return null===go?t.memoizedState=e:$o(t,go.memoizedState,e)},useTransition:function(){return[Ao(xo)[0],Co().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Rs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=r),da(0,t)},n}function ma(e,t,n){(n=Rs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Rs(-1,1)).tag=2,Os(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function _a(e,t,n,r){t.child=null===e?Xs(t,null,n,r):Ys(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return Ss(t,i),r=So(e,t,n,r,s,i),n=To(),null===e||ba?(is&&n&&es(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ia(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Rc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Oc(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ca(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Ol,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Ol,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Ol,Rl),Rl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Ol,Rl),Rl|=r;return _a(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var s=Di(n)?Ai:xi.current;return s=Pi(t,s),Ss(t,i),n=So(e,t,n,r,s,i),r=To(),null===e||ba?(is&&r&&es(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function xa(e,t,n,r,i){if(Di(n)){var s=!0;Mi(t)}else s=!1;if(Ss(t,i),null===t.stateNode)Ka(e,t),qs(t,n,r),Ws(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ts(c):c=Pi(t,c=Di(n)?Ai:xi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&Ks(t,o,r,c),As=!1;var d=t.memoizedState;o.state=d,Fs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ni.current||As?("function"===typeof u&&(Vs(t,n,u,r),l=t.memoizedState),(a=As||Bs(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ds(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:gs(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ts(l):l=Pi(t,l=Di(n)?Ai:xi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Ks(t,o,r,l),As=!1,d=t.memoizedState,o.state=d,Fs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||As?("function"===typeof f&&(Vs(t,n,f,r),p=t.memoizedState),(c=As||Bs(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,s,i)}function Na(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wa(e,t,s);r=t.stateNode,wa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ys(t,e.child,null,s),t.child=Ys(t,null,a,s)):_a(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Pa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_a(e,t,n,r),t.child}var Da,Ra,Oa,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Ma,e):Ua(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ys(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Al)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ns(e,i),rc(r,e,i,-1))}return gc(),Va(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=Ji,Yi=e.id,Xi=e.overflow,Ji=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Oc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Oc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&ps(r),Ys(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function Ba(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,s);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ka(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Di(t.type)&&Ri(),Ha(t),null;case 3:return r=t.stateNode,io(),Ti(Ni),Ti(xi),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Ra(e,t),Ha(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ha(t),null}if(e=no(Zs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Da(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=J(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&w(e,o,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ha(t),null;case 13:if(Ti(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ha(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return io(),Ra(e,t),null===e&&Br(t.stateNode.containerInfo),Ha(t),null;case 10:return Es(t.type._context),Ha(t),null;case 19:if(Ti(ao),null===(o=t.memoizedState))return Ha(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ga(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ga(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>ql&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ha(t),null}else 2*Xe()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ao.current,ki(ao,r?1&n|2:1&n),t):(Ha(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ha(t),6&t.subtreeFlags&&(t.flags|=8192)):Ha(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ja(e,t){switch(ts(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Ni),Ti(xi),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ao),null;case 4:return io(),null;case 10:return Es(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Da=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Xa=!1,$a="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xa&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fl(e,t,n),Xa=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Tc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Tc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Tc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),we(l,a);var u=we(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(l){case"input":$(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Tc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Tc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Xe())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||h,gl(t,e),Xa=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,Za=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Tc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){Tc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ya;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ya;var c=Xa;if(Ya=o,(Xa=l)&&!c)for(Za=i;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?Il(i):null!==l?(l.return=o,Za=l):Il(i);for(;null!==s;)Za=s,bl(s,t,n),s=s.sibling;Za=i,Ya=a,Xa=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):_l(e)}}function _l(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&js(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}js(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&sl(t)}catch(f){Tc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function El(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Il(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Tc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){Tc(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){Tc(t,o,l)}}}catch(l){Tc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Sl,Tl=Math.ceil,kl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,xl=b.ReactCurrentBatchConfig,Nl=0,Al=null,Pl=null,Dl=0,Rl=0,Ol=Si(0),Ll=0,Ml=null,Fl=0,jl=0,Ul=0,Vl=null,zl=null,Bl=0,ql=1/0,Kl=null,Wl=!1,Gl=null,Hl=null,Ql=!1,Jl=null,Yl=0,Xl=0,$l=null,Zl=-1,ec=0;function tc(){return 0!==(6&Nl)?Xe():-1!==Zl?Zl:Zl=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Dl?Dl&-Dl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(s(185));vt(e,n,r),0!==(2&Nl)&&e===Al||(e===Al&&(0===(2&Nl)&&(jl|=n),4===Ll&&lc(e,Dl)),ic(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(ql=Xe()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Al?Dl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Nl)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(Ic()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Nl;Nl|=2;var o=mc();for(Al===e&&Dl===t||(Kl=null,ql=Xe()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}_s(),kl.current=o,Nl=i,null!==Pl?t=0:(Al=null,Dl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,fc(e,0),lc(e,r),ic(e,Xe()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ml,fc(e,0),lc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ec(e,zl,Kl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,zl,Kl),t);break}Ec(e,zl,Kl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,zl,Kl),r);break}Ec(e,zl,Kl);break;default:throw Error(s(329))}}}return ic(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&ac(t)),e}function ac(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Ul,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nl))throw Error(s(327));Ic();var t=dt(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),ic(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,zl,Kl),ic(e,Xe()),null}function uc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(ql=Xe()+500,Ui&&Bi())}}function hc(e){null!==Jl&&0===Jl.tag&&0===(6&Nl)&&Ic();var t=Nl;Nl|=1;var n=xl.transition,r=wt;try{if(xl.transition=null,wt=1,e)return e()}finally{wt=r,xl.transition=n,0===(6&(Nl=t))&&Bi()}}function dc(){Rl=Ol.current,Ti(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ti(Ni),Ti(xi),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(ao);break;case 10:Es(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,Pl=e=Oc(e.current,null),Dl=Rl=t,Ll=0,Ml=null,Ul=jl=Fl=0,zl=Vl=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(_s(),ho.current=oa,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,vo=go=mo=null,wo=!1,bo=0,Cl.current=null,null===n||null===n.return){Ll=1,Ml=t,Pl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==Ll&&(Ll=2),null===Vl?Vl=[o]:Vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,pa(0,c,t));break e;case 1:l=c;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Hl||!Hl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}_c(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mc(){var e=kl.current;return kl.current=oa,null===e?oa:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Al||0===(268435455&Fl)&&0===(268435455&jl)||lc(Al,Dl)}function vc(e,t){var n=Nl;Nl|=2;var r=mc();for(Al===e&&Dl===t||(Kl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(_s(),Nl=n,kl.current=r,null!==Pl)throw Error(s(261));return Al=null,Dl=0,Ll}function yc(){for(;null!==Pl;)bc(Pl)}function wc(){for(;null!==Pl&&!Je();)bc(Pl)}function bc(e){var t=Sl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?_c(e):Pl=t,Cl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Rl)))return void(Pl=n)}else{if(null!==(n=Ja(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Ec(e,t,n){var r=wt,i=xl.transition;try{xl.transition=null,wt=1,function(e,t,n,r){do{Ic()}while(null!==Jl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Al&&(Pl=Al=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ac(tt,(function(){return Ic(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=xl.transition,xl.transition=null;var a=wt;wt=1;var l=Nl;Nl|=4,Cl.current=null,function(e,t){if(ei=Kt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){Tc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Ye(),Nl=l,wt=a,xl.transition=o}else e.current=n;if(Ql&&(Ql=!1,Jl=e,Yl=i),o=e.pendingLanes,0===o&&(Hl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;0!==(1&Yl)&&0!==e.tag&&Ic(),o=e.pendingLanes,0!==(1&o)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,Bi()}(e,t,n,r)}finally{xl.transition=i,wt=r}return null}function Ic(){if(null!==Jl){var e=bt(Yl),t=xl.transition,n=wt;try{if(xl.transition=null,wt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Yl=0,0!==(6&Nl))throw Error(s(331));var i=Nl;for(Nl|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(ol(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break e}Za=o.return}}var w=e.current;for(Za=w;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=w;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){Tc(l,l.return,E)}if(l===a){Za=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Za=_;break e}Za=l.return}}if(Nl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{wt=n,xl.transition=t}}return!1}function Sc(e,t,n){e=Os(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Tc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=Os(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Dl&n)===n&&(4===Ll||3===Ll&&(130023424&Dl)===Dl&&500>Xe()-Bl?fc(e,0):Ul|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ns(e,t))&&(vt(e,t,n),ic(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Ac(e,t){return He(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Rc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case I:return Mc(n.children,i,o,t);case S:a=8,i|=8;break;case T:return(e=Dc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case N:return(e=Dc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case C:a=9;break e;case x:a=11;break e;case P:a=14;break e;case D:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Dc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,s,o,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Dc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ps(s),e}function Bc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,s,o,a,l){return(e=zc(n,r,!0,e,0,s,0,a,l)).context=Bc(null),n=e.current,(s=Rs(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Os(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,s=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Rs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Os(i,t,o))&&(rc(e,i,o,s),Ls(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),fs();break;case 5:so(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(ki(ao,1&ao.current),null!==(e=Wa(e,t,n))?e.sibling:null);ki(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ka(e,t),e=t.pendingProps;var i=Pi(t,xi.current);Ss(t,n),i=So(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ps(t),i.updater=zs,t.stateNode=i,i._reactInternals=t,Ws(t,r,e,n),t=Na(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ka(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===P)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Ia(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ds(e,t),Fs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Wa(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return ja(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ys(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(vs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Wa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Rs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ss(t,n),r=r(i=Ts(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Ia(e,t,r,i=gs(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Ka(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Ss(t,n),qs(t,r,i),Ws(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Ta(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Wc(o);a.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wc(o);s.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){Kc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(o)}Yc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Kc(e,t,null,null)},Yc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Nl)&&(ql=Xe()+500,Bi()))}break;case 13:hc((function(){var t=Ns(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Hc(e,1)}},Et=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)rc(t,e,134217728,tc());Hc(e,134217728)}},It=function(e){if(13===e.tag){var t=nc(e),n=Ns(e,t);if(null!==n)rc(n,e,t,tc());Hc(e,t)}},St=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ee=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));H(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=uc,Ne=hc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,_i,ke,Ce,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},488:(e,t,n)=>{e.exports=n(604)},400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43);t.LeftArrow=function(e){var t=e.customLeftArrow,n=e.getState,i=e.previous,s=e.disabled,o=e.rtl;if(t)return r.cloneElement(t,{onClick:function(){return i()},carouselState:n(),disabled:s,rtl:o});var a=o?"rtl":"";return r.createElement("button",{"aria-label":"Go to previous slide",className:"react-multiple-carousel__arrow react-multiple-carousel__arrow--left "+a,onClick:function(){return i()},type:"button",disabled:s})};t.RightArrow=function(e){var t=e.customRightArrow,n=e.getState,i=e.next,s=e.disabled,o=e.rtl;if(t)return r.cloneElement(t,{onClick:function(){return i()},carouselState:n(),disabled:s,rtl:o});var a=o?"rtl":"";return r.createElement("button",{"aria-label":"Go to next slide",className:"react-multiple-carousel__arrow react-multiple-carousel__arrow--right "+a,onClick:function(){return i()},type:"button",disabled:s})}},364:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(43),s=n(694),o=n(257),a=n(406),l=n(400),c=n(834),u=n(673),h=400,d="transform 400ms ease-in-out",f=function(e){function t(t){var n=e.call(this,t)||this;return n.containerRef=i.createRef(),n.listRef=i.createRef(),n.state={itemWidth:0,slidesToShow:0,currentSlide:0,totalItems:i.Children.count(t.children),deviceType:"",domLoaded:!1,transform:0,containerWidth:0},n.onResize=n.onResize.bind(n),n.handleDown=n.handleDown.bind(n),n.handleMove=n.handleMove.bind(n),n.handleOut=n.handleOut.bind(n),n.onKeyUp=n.onKeyUp.bind(n),n.handleEnter=n.handleEnter.bind(n),n.setIsInThrottle=n.setIsInThrottle.bind(n),n.next=s.throttle(n.next.bind(n),t.transitionDuration||h,n.setIsInThrottle),n.previous=s.throttle(n.previous.bind(n),t.transitionDuration||h,n.setIsInThrottle),n.goToSlide=s.throttle(n.goToSlide.bind(n),t.transitionDuration||h,n.setIsInThrottle),n.onMove=!1,n.initialX=0,n.lastX=0,n.isAnimationAllowed=!1,n.direction="",n.initialY=0,n.isInThrottle=!1,n.transformPlaceHolder=0,n}return r(t,e),t.prototype.resetTotalItems=function(){var e=this,t=i.Children.count(this.props.children),n=s.notEnoughChildren(this.state)?0:Math.max(0,Math.min(this.state.currentSlide,t));this.setState({totalItems:t,currentSlide:n},(function(){e.setContainerAndItemWidth(e.state.slidesToShow,!0)}))},t.prototype.setIsInThrottle=function(e){void 0===e&&(e=!1),this.isInThrottle=e},t.prototype.setTransformDirectly=function(e,t){var n=this.props.additionalTransfrom;this.transformPlaceHolder=e;var r=u.getTransform(this.state,this.props,this.transformPlaceHolder);this.listRef&&this.listRef.current&&(this.setAnimationDirectly(t),this.listRef.current.style.transform="translate3d("+(r+n)+"px,0,0)")},t.prototype.setAnimationDirectly=function(e){this.listRef&&this.listRef.current&&(this.listRef.current.style.transition=e?this.props.customTransition||d:"none")},t.prototype.componentDidMount=function(){this.setState({domLoaded:!0}),this.setItemsToShow(),window.addEventListener("resize",this.onResize),this.onResize(!0),this.props.keyBoardControl&&window.addEventListener("keyup",this.onKeyUp),this.props.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},t.prototype.setClones=function(e,t,n,r){var o=this;void 0===r&&(r=!1),this.isAnimationAllowed=!1;var a=i.Children.toArray(this.props.children),l=s.getInitialSlideInInfiniteMode(e||this.state.slidesToShow,a),c=s.getClones(this.state.slidesToShow,a),u=a.length<this.state.slidesToShow?0:this.state.currentSlide;this.setState({totalItems:c.length,currentSlide:n&&!r?u:l},(function(){o.correctItemsPosition(t||o.state.itemWidth)}))},t.prototype.setItemsToShow=function(e,t){var n=this,r=this.props.responsive;Object.keys(r).forEach((function(i){var s=r[i],o=s.breakpoint,a=s.items,l=o.max,c=o.min,u=[window.innerWidth];window.screen&&window.screen.width&&u.push(window.screen.width);var h=Math.min.apply(Math,u);c<=h&&h<=l&&(n.setState({slidesToShow:a,deviceType:i}),n.setContainerAndItemWidth(a,e,t))}))},t.prototype.setContainerAndItemWidth=function(e,t,n){var r=this;if(this.containerRef&&this.containerRef.current){var i=this.containerRef.current.offsetWidth,o=s.getItemClientSideWidth(this.props,e,i);this.setState({containerWidth:i,itemWidth:o},(function(){r.props.infinite&&r.setClones(e,o,t,n)})),t&&this.correctItemsPosition(o)}},t.prototype.correctItemsPosition=function(e,t,n){t&&(this.isAnimationAllowed=!0),!t&&this.isAnimationAllowed&&(this.isAnimationAllowed=!1);var r=this.state.totalItems<this.state.slidesToShow?0:-e*this.state.currentSlide;n&&this.setTransformDirectly(r,!0),this.setState({transform:r})},t.prototype.onResize=function(e){var t;t=!!this.props.infinite&&("boolean"!=typeof e||!e),this.setItemsToShow(t)},t.prototype.componentDidUpdate=function(e,n){var r=this,i=e.keyBoardControl,o=e.autoPlay,a=e.children,l=n.containerWidth,c=n.domLoaded,u=n.currentSlide;if(this.containerRef&&this.containerRef.current&&this.containerRef.current.offsetWidth!==l&&(this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout),this.itemsToShowTimeout=setTimeout((function(){r.setItemsToShow(!0)}),this.props.transitionDuration||h)),i&&!this.props.keyBoardControl&&window.removeEventListener("keyup",this.onKeyUp),!i&&this.props.keyBoardControl&&window.addEventListener("keyup",this.onKeyUp),o&&!this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),o||!this.props.autoPlay||this.autoPlay||(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed)),a.length!==this.props.children.length?t.clonesTimeout=setTimeout((function(){r.props.infinite?r.setClones(r.state.slidesToShow,r.state.itemWidth,!0,!0):r.resetTotalItems()}),this.props.transitionDuration||h):this.props.infinite&&this.state.currentSlide!==u&&this.correctClonesPosition({domLoaded:c}),this.transformPlaceHolder!==this.state.transform&&(this.transformPlaceHolder=this.state.transform),this.props.autoPlay&&this.props.rewind&&!this.props.infinite&&s.isInRightEnd(this.state)){var d=this.props.transitionDuration||h;t.isInThrottleTimeout=setTimeout((function(){r.setIsInThrottle(!1),r.resetAutoplayInterval(),r.goToSlide(0,void 0,!!r.props.rewindWithAnimation)}),d+this.props.autoPlaySpeed)}},t.prototype.correctClonesPosition=function(e){var n=this,r=e.domLoaded,o=i.Children.toArray(this.props.children),a=s.checkClonesPosition(this.state,o,this.props),l=a.isReachingTheEnd,c=a.isReachingTheStart,u=a.nextSlide,d=a.nextPosition;this.state.domLoaded&&r&&(l||c)&&(this.isAnimationAllowed=!1,t.transformTimeout=setTimeout((function(){n.setState({transform:d,currentSlide:u})}),this.props.transitionDuration||h))},t.prototype.next=function(e){var n=this;void 0===e&&(e=0);var r=this.props,i=r.afterChange,o=r.beforeChange;if(!s.notEnoughChildren(this.state)){var a=s.populateNextSlides(this.state,this.props,e),l=a.nextSlides,c=a.nextPosition,u=this.state.currentSlide;void 0!==l&&void 0!==c&&("function"==typeof o&&o(l,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:c,currentSlide:l},(function(){"function"==typeof i&&(t.afterChangeTimeout=setTimeout((function(){i(u,n.getState())}),n.props.transitionDuration||h))})))}},t.prototype.previous=function(e){var n=this;void 0===e&&(e=0);var r=this.props,i=r.afterChange,o=r.beforeChange;if(!s.notEnoughChildren(this.state)){var a=s.populatePreviousSlides(this.state,this.props,e),l=a.nextSlides,c=a.nextPosition;if(void 0!==l&&void 0!==c){var u=this.state.currentSlide;"function"==typeof o&&o(l,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:c,currentSlide:l},(function(){"function"==typeof i&&(t.afterChangeTimeout2=setTimeout((function(){i(u,n.getState())}),n.props.transitionDuration||h))}))}}},t.prototype.resetAutoplayInterval=function(){this.props.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize),this.props.keyBoardControl&&window.removeEventListener("keyup",this.onKeyUp),this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout),t.clonesTimeout&&clearTimeout(t.clonesTimeout),t.isInThrottleTimeout&&clearTimeout(t.isInThrottleTimeout),t.transformTimeout&&clearTimeout(t.transformTimeout),t.afterChangeTimeout&&clearTimeout(t.afterChangeTimeout),t.afterChangeTimeout2&&clearTimeout(t.afterChangeTimeout2),t.afterChangeTimeout3&&clearTimeout(t.afterChangeTimeout3)},t.prototype.resetMoveStatus=function(){this.onMove=!1,this.initialX=0,this.lastX=0,this.direction="",this.initialY=0},t.prototype.getCords=function(e){var t=e.clientX,n=e.clientY;return{clientX:u.parsePosition(this.props,t),clientY:u.parsePosition(this.props,n)}},t.prototype.handleDown=function(e){if(!(!o.isMouseMoveEvent(e)&&!this.props.swipeable||o.isMouseMoveEvent(e)&&!this.props.draggable||this.isInThrottle)){var t=this.getCords(o.isMouseMoveEvent(e)?e:e.touches[0]),n=t.clientX,r=t.clientY;this.onMove=!0,this.initialX=n,this.initialY=r,this.lastX=n,this.isAnimationAllowed=!1}},t.prototype.handleMove=function(e){if(!(!o.isMouseMoveEvent(e)&&!this.props.swipeable||o.isMouseMoveEvent(e)&&!this.props.draggable||s.notEnoughChildren(this.state))){var t=this.getCords(o.isMouseMoveEvent(e)?e:e.touches[0]),n=t.clientX,r=t.clientY,i=this.initialX-n,a=this.initialY-r;if(this.onMove){if(!(Math.abs(i)>Math.abs(a)))return;var l=s.populateSlidesOnMouseTouchMove(this.state,this.props,this.initialX,this.lastX,n,this.transformPlaceHolder),c=l.direction,u=l.nextPosition,h=l.canContinue;c&&(this.direction=c,h&&void 0!==u&&this.setTransformDirectly(u)),this.lastX=n}}},t.prototype.handleOut=function(e){this.props.autoPlay&&!this.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed));var t="touchend"===e.type&&!this.props.swipeable,n=("mouseleave"===e.type||"mouseup"===e.type)&&!this.props.draggable;if(!t&&!n&&this.onMove){if(this.setAnimationDirectly(!0),"right"===this.direction)if(this.initialX-this.lastX>=this.props.minimumTouchDrag){var r=Math.round((this.initialX-this.lastX)/this.state.itemWidth);this.next(r)}else this.correctItemsPosition(this.state.itemWidth,!0,!0);"left"===this.direction&&(this.lastX-this.initialX>this.props.minimumTouchDrag?(r=Math.round((this.lastX-this.initialX)/this.state.itemWidth),this.previous(r)):this.correctItemsPosition(this.state.itemWidth,!0,!0)),this.resetMoveStatus()}},t.prototype.isInViewport=function(e){var t=e.getBoundingClientRect(),n=t.top,r=void 0===n?0:n,i=t.left,s=void 0===i?0:i,o=t.bottom,a=void 0===o?0:o,l=t.right,c=void 0===l?0:l;return 0<=r&&0<=s&&a<=(window.innerHeight||document.documentElement.clientHeight)&&c<=(window.innerWidth||document.documentElement.clientWidth)},t.prototype.isChildOfCarousel=function(e){return!!(e instanceof Element&&this.listRef&&this.listRef.current)&&this.listRef.current.contains(e)},t.prototype.onKeyUp=function(e){var t=e.target;switch(e.keyCode){case 37:if(this.isChildOfCarousel(t))return this.previous();break;case 39:if(this.isChildOfCarousel(t))return this.next();break;case 9:if(this.isChildOfCarousel(t)&&t instanceof HTMLInputElement&&this.isInViewport(t))return this.next()}},t.prototype.handleEnter=function(e){o.isMouseMoveEvent(e)&&this.autoPlay&&this.props.autoPlay&&this.props.pauseOnHover&&(clearInterval(this.autoPlay),this.autoPlay=void 0)},t.prototype.goToSlide=function(e,n,r){var i=this;if(void 0===r&&(r=!0),!this.isInThrottle){var s=this.state.itemWidth,o=this.props,a=o.afterChange,l=o.beforeChange,c=this.state.currentSlide;"function"!=typeof l||n&&("object"!=typeof n||n.skipBeforeChange)||l(e,this.getState()),this.isAnimationAllowed=r,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({currentSlide:e,transform:-s*e},(function(){i.props.infinite&&i.correctClonesPosition({domLoaded:!0}),"function"!=typeof a||n&&("object"!=typeof n||n.skipAfterChange)||(t.afterChangeTimeout3=setTimeout((function(){a(c,i.getState())}),i.props.transitionDuration||h))}))}},t.prototype.getState=function(){return this.state},t.prototype.renderLeftArrow=function(e){var t=this,n=this.props,r=n.customLeftArrow,s=n.rtl;return i.createElement(l.LeftArrow,{customLeftArrow:r,getState:function(){return t.getState()},previous:this.previous,disabled:e,rtl:s})},t.prototype.renderRightArrow=function(e){var t=this,n=this.props,r=n.customRightArrow,s=n.rtl;return i.createElement(l.RightArrow,{customRightArrow:r,getState:function(){return t.getState()},next:this.next,disabled:e,rtl:s})},t.prototype.renderButtonGroups=function(){var e=this,t=this.props.customButtonGroup;return t?i.cloneElement(t,{previous:function(){return e.previous()},next:function(){return e.next()},goToSlide:function(t,n){return e.goToSlide(t,n)},carouselState:this.getState()}):null},t.prototype.renderDotsList=function(){var e=this;return i.createElement(a.default,{state:this.state,props:this.props,goToSlide:this.goToSlide,getState:function(){return e.getState()}})},t.prototype.renderCarouselItems=function(){var e=[];if(this.props.infinite){var t=i.Children.toArray(this.props.children);e=s.getClones(this.state.slidesToShow,t)}return i.createElement(c.default,{clones:e,goToSlide:this.goToSlide,state:this.state,notEnoughChildren:s.notEnoughChildren(this.state),props:this.props})},t.prototype.render=function(){var e=this.props,t=e.deviceType,n=e.arrows,r=e.renderArrowsWhenDisabled,o=e.removeArrowOnDeviceType,a=e.infinite,l=e.containerClass,c=e.sliderClass,h=e.customTransition,f=e.additionalTransfrom,p=e.renderDotsOutside,m=e.renderButtonGroupOutside,g=e.className,v=e.rtl,y=s.getInitialState(this.state,this.props),w=y.shouldRenderOnSSR,b=y.shouldRenderAtAll,_=s.isInLeftEnd(this.state),E=s.isInRightEnd(this.state),I=n&&!(o&&(t&&-1<o.indexOf(t)||this.state.deviceType&&-1<o.indexOf(this.state.deviceType)))&&!s.notEnoughChildren(this.state)&&b,S=!a&&_,T=!a&&E,k=u.getTransform(this.state,this.props);return i.createElement(i.Fragment,null,i.createElement("div",{className:"react-multi-carousel-list "+l+" "+g,dir:v?"rtl":"ltr",ref:this.containerRef},i.createElement("ul",{ref:this.listRef,className:"react-multi-carousel-track "+c,style:{transition:this.isAnimationAllowed?h||d:"none",overflow:w?"hidden":"unset",transform:"translate3d("+(k+f)+"px,0,0)"},onMouseMove:this.handleMove,onMouseDown:this.handleDown,onMouseUp:this.handleOut,onMouseEnter:this.handleEnter,onMouseLeave:this.handleOut,onTouchStart:this.handleDown,onTouchMove:this.handleMove,onTouchEnd:this.handleOut},this.renderCarouselItems()),I&&(!S||r)&&this.renderLeftArrow(S),I&&(!T||r)&&this.renderRightArrow(T),b&&!m&&this.renderButtonGroups(),b&&!p&&this.renderDotsList()),b&&p&&this.renderDotsList(),b&&m&&this.renderButtonGroups())},t.defaultProps={slidesToSlide:1,infinite:!1,draggable:!0,swipeable:!0,arrows:!0,renderArrowsWhenDisabled:!1,containerClass:"",sliderClass:"",itemClass:"",keyBoardControl:!0,autoPlaySpeed:3e3,showDots:!1,renderDotsOutside:!1,renderButtonGroupOutside:!1,minimumTouchDrag:80,className:"",dotListClass:"",focusOnSelect:!1,centerMode:!1,additionalTransfrom:0,pauseOnHover:!0,shouldResetAutoplay:!0,rewind:!1,rtl:!1,rewindWithAnimation:!1},t}(i.Component);t.default=f},834:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(694);t.default=function(e){var t=e.props,n=e.state,s=e.goToSlide,o=e.clones,a=e.notEnoughChildren,l=n.itemWidth,c=t.children,u=t.infinite,h=t.itemClass,d=t.itemAriaLabel,f=t.partialVisbile,p=t.partialVisible,m=i.getInitialState(n,t),g=m.flexBisis,v=m.shouldRenderOnSSR,y=m.domFullyLoaded,w=m.partialVisibilityGutter;return m.shouldRenderAtAll?(f&&console.warn('WARNING: Please correct props name: "partialVisible" as old typo will be removed in future versions!'),r.createElement(r.Fragment,null,(u?o:r.Children.toArray(c)).map((function(e,o){return r.createElement("li",{key:o,"data-index":o,onClick:function(){t.focusOnSelect&&s(o)},"aria-hidden":i.getIfSlideIsVisbile(o,n)?"false":"true","aria-label":d||(e.props.ariaLabel?e.props.ariaLabel:null),style:{flex:v?"1 0 "+g+"%":"auto",position:"relative",width:y?((f||p)&&w&&!a?l-w:l)+"px":"auto"},className:"react-multi-carousel-item "+(i.getIfSlideIsVisbile(o,n)?"react-multi-carousel-item--active":"")+" "+h},e)})))):null}},406:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(526),s=n(232),o=n(673);t.default=function(e){var t=e.props,n=e.state,a=e.goToSlide,l=e.getState,c=t.showDots,u=t.customDot,h=t.dotListClass,d=t.infinite,f=t.children;if(!c||o.notEnoughChildren(n))return null;var p,m=n.currentSlide,g=n.slidesToShow,v=o.getSlidesToSlide(n,t),y=r.Children.toArray(f);p=d?Math.ceil(y.length/v):Math.ceil((y.length-g)/v)+1;var w=s.getLookupTableForNextSlides(p,n,t,y),b=i.getOriginalIndexLookupTableByClones(g,y),_=b[m];return r.createElement("ul",{className:"react-multi-carousel-dot-list "+h},Array(p).fill(0).map((function(e,t){var n,i;if(d){i=w[t];var s=b[i];n=_===s||s<=_&&_<s+v}else{var o=y.length-g,c=t*v;n=(i=o<c?o:c)===m||i<m&&m<i+v&&m<y.length-g}return u?r.cloneElement(u,{index:t,active:n,key:t,onClick:function(){return a(i)},carouselState:l()}):r.createElement("li",{"data-index":t,key:t,className:"react-multi-carousel-dot "+(n?"react-multi-carousel-dot--active":"")},r.createElement("button",{"aria-label":"Go to slide "+(t+1),onClick:function(){return a(i)}}))})))}},604:(e,t,n)=>{"use strict";var r=n(364);t.default=r.default},257:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(43);t.isMouseMoveEvent=function(e){return"clientY"in e};var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(i.Component);t.default=s},526:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOriginalCounterPart=function(e,t,n){var r=t.slidesToShow,i=t.currentSlide;return n.length>2*r?e+2*r:i>=n.length?n.length+e:e},t.getOriginalIndexLookupTableByClones=function(e,t){if(t.length>2*e){for(var n={},r=t.length-2*e,i=t.length-r,s=r,o=0;o<i;o++)n[o]=s,s++;var a=t.length+i,l=a+t.slice(0,2*e).length,c=0;for(o=a;o<=l;o++)n[o]=c,c++;var u=a,h=0;for(o=i;o<u;o++)n[o]=h,h++;return n}n={};var d=3*t.length,f=0;for(o=0;o<d;o++)n[o]=f,++f===t.length&&(f=0);return n},t.getClones=function(e,t){return t.length<e?t:t.length>2*e?t.slice(t.length-2*e,t.length).concat(t,t.slice(0,2*e)):t.concat(t,t)},t.getInitialSlideInInfiniteMode=function(e,t){return t.length>2*e?2*e:t.length},t.checkClonesPosition=function(e,t,n){var r,i=e.currentSlide,s=e.slidesToShow,o=e.itemWidth,a=e.totalItems,l=0,c=0,u=0===i,h=t.length-(t.length-2*s);return t.length<s?(c=l=0,u=r=!1):t.length>2*s?((r=i>=h+t.length)&&(c=-o*(l=i-t.length)),u&&(c=-o*(l=h+(t.length-2*s)))):((r=i>=2*t.length)&&(c=-o*(l=i-t.length)),u&&(c=n.showDots?-o*(l=t.length):-o*(l=a/3))),{isReachingTheEnd:r,isReachingTheStart:u,nextSlide:l,nextPosition:c}}},673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(624);function i(e){var t=e.slidesToShow;return e.totalItems<t}function s(e,t,n){var r=n||e.transform;return!t.infinite&&0===e.currentSlide||i(e)?r:r+e.itemWidth/2}function o(e){var t=e.currentSlide,n=e.totalItems;return!(t+e.slidesToShow<n)}function a(e,t,n,r){void 0===t&&(t=0);var s=e.currentSlide,a=e.slidesToShow,l=o(e),c=!n.infinite&&l,u=r||e.transform;if(i(e))return u;var h=u+s*t;return c?h+(e.containerWidth-(e.itemWidth-t)*a):h}function l(e,t){return e.rtl?-1*t:t}t.notEnoughChildren=i,t.getInitialState=function(e,t){var n,i=e.domLoaded,s=e.slidesToShow,o=e.containerWidth,a=e.itemWidth,l=t.deviceType,c=t.responsive,u=t.ssr,h=t.partialVisbile,d=t.partialVisible,f=Boolean(i&&s&&o&&a);u&&l&&!f&&(n=r.getWidthFromDeviceType(l,c));var p=Boolean(u&&l&&!f&&n);return{shouldRenderOnSSR:p,flexBisis:n,domFullyLoaded:f,partialVisibilityGutter:r.getPartialVisibilityGutter(c,h||d,l,e.deviceType),shouldRenderAtAll:p||f}},t.getIfSlideIsVisbile=function(e,t){var n=t.currentSlide,r=t.slidesToShow;return n<=e&&e<n+r},t.getTransformForCenterMode=s,t.isInLeftEnd=function(e){return!(0<e.currentSlide)},t.isInRightEnd=o,t.getTransformForPartialVsibile=a,t.parsePosition=l,t.getTransform=function(e,t,n){var i=t.partialVisbile,o=t.partialVisible,c=t.responsive,u=t.deviceType,h=t.centerMode,d=n||e.transform,f=r.getPartialVisibilityGutter(c,i||o,u,e.deviceType);return l(t,o||i?a(e,f,t,n):h?s(e,t,n):d)},t.getSlidesToSlide=function(e,t){var n=e.domLoaded,r=e.slidesToShow,i=e.containerWidth,s=e.itemWidth,o=t.deviceType,a=t.responsive,l=t.slidesToSlide||1,c=Boolean(n&&r&&i&&s);return t.ssr&&t.deviceType&&!c&&Object.keys(a).forEach((function(e){var t=a[e].slidesToSlide;o===e&&t&&(l=t)})),c&&Object.keys(a).forEach((function(e){var t=a[e],n=t.breakpoint,r=t.slidesToSlide,i=n.max,s=n.min;r&&window.innerWidth>=s&&window.innerWidth<=i&&(l=r)})),l}},232:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(526),i=n(673);t.getLookupTableForNextSlides=function(e,t,n,s){var o={},a=i.getSlidesToSlide(t,n);return Array(e).fill(0).forEach((function(e,n){var i=r.getOriginalCounterPart(n,t,s);if(0===n)o[0]=i;else{var l=o[n-1]+a;o[n]=l}})),o}},624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getPartialVisibilityGutter=function(e,t,n,r){var i=0,s=r||n;return t&&s&&(i=e[s].partialVisibilityGutter||e[s].paritialVisibilityGutter),i},t.getWidthFromDeviceType=function(e,t){var n;return t[e]&&(n=(100/t[e].items).toFixed(1)),n},t.getItemClientSideWidth=function(e,t,n){return Math.round(n/(t+(e.centerMode?1:0)))}},694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(526);t.getOriginalCounterPart=r.getOriginalCounterPart,t.getClones=r.getClones,t.checkClonesPosition=r.checkClonesPosition,t.getInitialSlideInInfiniteMode=r.getInitialSlideInInfiniteMode;var i=n(624);t.getWidthFromDeviceType=i.getWidthFromDeviceType,t.getPartialVisibilityGutter=i.getPartialVisibilityGutter,t.getItemClientSideWidth=i.getItemClientSideWidth;var s=n(673);t.getInitialState=s.getInitialState,t.getIfSlideIsVisbile=s.getIfSlideIsVisbile,t.getTransformForCenterMode=s.getTransformForCenterMode,t.getTransformForPartialVsibile=s.getTransformForPartialVsibile,t.isInLeftEnd=s.isInLeftEnd,t.isInRightEnd=s.isInRightEnd,t.notEnoughChildren=s.notEnoughChildren,t.getSlidesToSlide=s.getSlidesToSlide;var o=n(548);t.throttle=o.default;var a=n(174);t.throwError=a.default;var l=n(337);t.populateNextSlides=l.populateNextSlides;var c=n(365);t.populatePreviousSlides=c.populatePreviousSlides;var u=n(528);t.populateSlidesOnMouseTouchMove=u.populateSlidesOnMouseTouchMove},528:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.populateSlidesOnMouseTouchMove=function(e,t,n,r,i,s){var o,a,l=e.itemWidth,c=e.slidesToShow,u=e.totalItems,h=e.currentSlide,d=t.infinite,f=!1,p=Math.round((n-r)/l),m=Math.round((r-n)/l),g=n<i;if(i<n&&p<=c){o="right";var v=Math.abs(-l*(u-c)),y=s-(r-i),w=h===u-c;(Math.abs(y)<=v||w&&d)&&(a=y,f=!0)}return g&&m<=c&&(o="left",((y=s+(i-r))<=0||0===h&&d)&&(f=!0,a=y)),{direction:o,nextPosition:a,canContinue:f}}},337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(673);t.populateNextSlides=function(e,t,n){void 0===n&&(n=0);var i,s,o=e.slidesToShow,a=e.currentSlide,l=e.itemWidth,c=e.totalItems,u=r.getSlidesToSlide(e,t),h=a+1+n+o+(0<n?0:u);return s=h<=c?-l*(i=a+n+(0<n?0:u)):c<h&&a!==c-o?-l*(i=c-o):i=void 0,{nextSlides:i,nextPosition:s}}},365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(673),s=n(673);t.populatePreviousSlides=function(e,t,n){void 0===n&&(n=0);var o,a,l=e.currentSlide,c=e.itemWidth,u=e.slidesToShow,h=t.children,d=t.showDots,f=t.infinite,p=i.getSlidesToSlide(e,t),m=l-n-(0<n?0:p),g=(r.Children.toArray(h).length-u)%p;return a=0<=m?(o=m,d&&!f&&0<g&&s.isInRightEnd(e)&&(o=l-g),-c*o):o=m<0&&0!==l?0:void 0,{nextSlides:o,nextPosition:a}}},548:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var r;return function(){var i=arguments;r||(e.apply(this,i),r=!0,"function"==typeof n&&n(!0),setTimeout((function(){r=!1,"function"==typeof n&&n(!1)}),t))}}},174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.partialVisbile,r=t.partialVisible,i=t.centerMode,s=t.ssr,o=t.responsive;if((n||r)&&i)throw new Error("center mode can not be used at the same time with partialVisible");if(!o)throw s?new Error("ssr mode need to be used in conjunction with responsive prop"):new Error("Responsive prop is needed for deciding the amount of items to show on the screen");if(o&&"object"!=typeof o)throw new Error("responsive prop must be an object")}},501:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(43)),i=a(n(173)),s=a(n(381)),o=a(n(324));function a(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var c=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).isVisible=function(e,t,r){var i=e.top,s=e.left,o=e.bottom,a=e.right,l=e.width,c=e.height,u=n.props,h=u.offset,d=u.partialVisibility;if(i+a+o+s===0)return!1;var f=0-h,p=0-h,m=t+h,g=r+h;return d?i+c>=f&&s+l>=p&&o-c<=g&&a-l<=m:i>=f&&s>=p&&o<=g&&a<=m},n.isComponentVisible=function(){setTimeout((function(){if(n.nodeRef&&n.nodeRef.getBoundingClientRect){var e=document.documentElement,t=n.props.once,r=n.nodeRef.getBoundingClientRect(),i=window.innerWidth||e.clientWidth,s=window.innerHeight||e.clientHeight,o=n.isVisible(r,i,s);o&&t&&n.removeListener(),n.setState({isVisible:o})}}),0)},n.setNodeRef=function(e){return n.nodeRef=e},n.ownProps=Object.keys(i.propTypes),n.state={isVisible:!1},n.throttleCb=(0,s.default)(n.isComponentVisible,n.props.throttleInterval),t.nodeRef&&n.setNodeRef(t.nodeRef),n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=i.prototype;return a.componentDidMount=function(){this.attachListener(),this.isComponentVisible()},a.componentDidUpdate=function(e){(0,o.default)(this.getChildProps(this.props),this.getChildProps(e))||this.isComponentVisible()},a.componentWillUnmount=function(){this.removeListener()},a.attachListener=function(){window.addEventListener("scroll",this.throttleCb),window.addEventListener("resize",this.throttleCb)},a.removeListener=function(){window.removeEventListener("scroll",this.throttleCb),window.removeEventListener("resize",this.throttleCb)},a.getChildProps=function(e){var t=this;void 0===e&&(e=this.props);var n={};return Object.keys(e).forEach((function(r){-1===t.ownProps.indexOf(r)&&(n[r]=e[r])})),n},a.getChildren=function(){var e=this;return"function"===typeof this.props.children?this.props.children(l({},this.getChildProps(),{isVisible:this.state.isVisible})):r.default.Children.map(this.props.children,(function(t){return r.default.cloneElement(t,l({},e.getChildProps(),{isVisible:e.state.isVisible}))}))},a.render=function(){var e=this.props,t=e.className,n=e.style,i=e.nodeRef,s=e.tag,o=l({},t&&{className:t},n&&{style:n});return r.default.createElement(s,l({ref:!i&&this.setNodeRef},o),this.getChildren())},i}(r.PureComponent);t.default=c,c.propTypes={once:i.default.bool,throttleInterval:function(e,t,n){var r=e[t];return!Number.isInteger(r)||r<0?new Error("The "+t+" prop you provided to "+n+" is not a valid integer >= 0."):null},children:i.default.oneOfType([i.default.func,i.default.element,i.default.arrayOf(i.default.element)]),style:i.default.object,className:i.default.string,offset:i.default.number,partialVisibility:i.default.bool,nodeRef:i.default.object,tag:i.default.string},c.defaultProps={once:!1,throttleInterval:150,offset:0,partialVisibility:!1,tag:"div"}},930:(e,t,n)=>{"use strict";var r;t.A=void 0;var i=((r=n(501))&&r.__esModule?r:{default:r}).default;t.A=i},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,I={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:I.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+x(l,0):s,_(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+x(a=e[c],c);l+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=s+x(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:I};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=I.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,R(E);else{var t=r(u);null!==t&&O(_,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var s=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&O(_,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,S=!1,T=null,k=-1,C=5,x=-1;function N(){return!(t.unstable_now()-x<C)}function A(){if(null!==T){var e=t.unstable_now();x=e;var n=!0;try{n=T(!0,e)}finally{n?I():(S=!1,T=null)}}else S=!1}if("function"===typeof w)I=function(){w(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=A,I=function(){D.postMessage(null)}}else I=function(){v(A,0)};function R(e){T=e,S||(S=!0,I())}function O(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(k),k=-1):g=!0,O(_,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,R(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<s.length;l++){var c=s[l];if(!a(c))return!1;var u=e[c],h=t[c];if(!1===(i=n?n.call(r,u,h,c):void 0)||void 0===i&&u!==h)return!1}return!0}},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".aac68abc.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="portfolio-website:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/portfolio-website/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkportfolio_website=self.webpackChunkportfolio_website||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Wi,SDK_VERSION:()=>Io,_DEFAULT_ENTRY_NAME:()=>oo,_addComponent:()=>ho,_addOrOverwriteComponent:()=>fo,_apps:()=>lo,_clearComponents:()=>wo,_components:()=>uo,_getProvider:()=>mo,_isFirebaseApp:()=>vo,_isFirebaseServerApp:()=>yo,_registerComponent:()=>po,_removeServiceInstance:()=>go,_serverApps:()=>co,deleteApp:()=>xo,getApp:()=>ko,getApps:()=>Co,initializeApp:()=>So,initializeServerApp:()=>To,onLog:()=>Ao,registerVersion:()=>No,setLogLevel:()=>Po});var t=n(43),r=n.t(t,2),i=n(391);n.p;var s=n(139),o=n.n(s);const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},l=t.createContext(null);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(740);function h(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function d(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function f(e,n){return Object.keys(n).reduce((function(r,i){var s,o=r,a=o[h(i)],l=o[i],f=u(o,[h(i),i].map(d)),p=n[i],m=function(e,n,r){var i=(0,t.useRef)(void 0!==e),s=(0,t.useState)(n),o=s[0],a=s[1],l=void 0!==e,c=i.current;return i.current=l,!l&&c&&o!==n&&a(n),[l?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),a(e)}),[r])]}(l,a,e[p]),g=m[0],v=m[1];return c({},f,((s={})[i]=g,s[p]=v,s))}),e)}function p(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function m(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function g(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}p.__suppressDeprecationWarning=!0,m.__suppressDeprecationWarning=!0,g.__suppressDeprecationWarning=!0;var v=n(579);const y=["xxl","xl","lg","md","sm","xs"],w="xs",b=t.createContext({prefixes:{},breakpoints:y,minBreakpoint:w}),{Consumer:_,Provider:E}=b;function I(e,n){const{prefixes:r}=(0,t.useContext)(b);return e||r[n]||n}function S(){const{breakpoints:e}=(0,t.useContext)(b);return e}function T(){const{minBreakpoint:e}=(0,t.useContext)(b);return e}const k=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i,...s}=e;n=I(n,"navbar-brand");const a=i||(s.href?"a":"span");return(0,v.jsx)(a,{...s,ref:t,className:o()(r,n)})}));k.displayName="NavbarBrand";const C=k;function x(e){return e&&e.ownerDocument||document}function N(e,t){return function(e){var t=x(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var A=/([A-Z])/g;var P=/^ms-/;function D(e){return function(e){return e.replace(A,"-$1").toLowerCase()}(e).replace(P,"-ms-")}var R=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const O=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(D(t))||N(e).getPropertyValue(D(t));Object.keys(t).forEach((function(i){var s=t[i];s||0===s?!function(e){return!(!e||!R.test(e))}(i)?n+=D(i)+": "+s+";":r+=i+"("+s+") ":e.style.removeProperty(D(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}var M=n(950),F=n.t(M,2);const j=!1,U=t.createContext(null);var V="unmounted",z="exited",B="entering",q="entered",K="exiting",W=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=z,r.appearStatus=B):i=q:i=t.unmountOnExit||t.mountOnEnter?V:z,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,L(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===V?{status:z}:null};var s=i.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==B&&n!==q&&(t=B):n!==B&&n!==q||(t=K)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===B){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:M.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===z&&this.setState({status:V})},s.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[M.findDOMNode(this),r],s=i[0],o=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||j?this.safeSetState({status:q},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,o),this.safeSetState({status:B},(function(){t.props.onEntering(s,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:q},(function(){t.props.onEntered(s,o)}))}))})))},s.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:M.findDOMNode(this);t&&!j?(this.props.onExit(r),this.safeSetState({status:K},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:z},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:z},(function(){e.props.onExited(r)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:M.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],o=i[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===V)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,u(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(U.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function G(){}W.contextType=U,W.propTypes={},W.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:G,onEntering:G,onEntered:G,onExit:G,onExiting:G,onExited:G},W.UNMOUNTED=V,W.EXITED=z,W.ENTERING=B,W.ENTERED=q,W.EXITING=K;const H=W,Q=!("undefined"===typeof window||!window.document||!window.document.createElement);var J=!1,Y=!1;try{var X={get passive(){return J=!0},get once(){return Y=J=!0}};Q&&(window.addEventListener("test",X,X),window.removeEventListener("test",X,!0))}catch(Hx){}const $=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Y){var i=r.once,s=r.capture,o=n;!Y&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=o),e.addEventListener(t,o,J?r:s)}e.addEventListener(t,n,r)};const Z=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const ee=function(e,t,n,r){return $(e,t,n,r),function(){Z(e,t,n,r)}};function te(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),s=ee(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),s()}}function ne(e,t,n,r){null==n&&(n=function(e){var t=O(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=te(e,n,r),s=ee(e,"transitionend",t);return function(){i(),s()}}function re(e,t){const n=O(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function ie(e,t){const n=re(e,"transitionDuration"),r=re(e,"transitionDelay"),i=ne(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}const se=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function oe(e){e.offsetHeight}const ae=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const le=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=ae(e),r=ae(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])};const ce=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:i,onEntered:s,onExit:o,onExiting:a,onExited:l,addEndListener:c,children:u,childRef:h,...d}=e;const f=(0,t.useRef)(null),p=le(f,h),m=e=>{var t;p((t=e)&&"setState"in t?M.findDOMNode(t):null!=t?t:null)},g=e=>t=>{e&&f.current&&e(f.current,t)},y=(0,t.useCallback)(g(r),[r]),w=(0,t.useCallback)(g(i),[i]),b=(0,t.useCallback)(g(s),[s]),_=(0,t.useCallback)(g(o),[o]),E=(0,t.useCallback)(g(a),[a]),I=(0,t.useCallback)(g(l),[l]),S=(0,t.useCallback)(g(c),[c]);return(0,v.jsx)(H,{ref:n,...d,onEnter:y,onEntered:b,onEntering:w,onExit:_,onExited:I,onExiting:E,addEndListener:S,nodeRef:f,children:"function"===typeof u?(e,t)=>u(e,{...t,ref:m}):t.cloneElement(u,{ref:m})})})),ue=ce,he={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function de(e,t){const n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=he[e];return n+parseInt(O(t,r[0]),10)+parseInt(O(t,r[1]),10)}const fe={[z]:"collapse",[K]:"collapsing",[B]:"collapsing",[q]:"collapse show"},pe=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:i,onEntered:s,onExit:a,onExiting:l,className:c,children:u,dimension:h="height",in:d=!1,timeout:f=300,mountOnEnter:p=!1,unmountOnExit:m=!1,appear:g=!1,getDimensionValue:y=de,...w}=e;const b="function"===typeof h?h():h,_=(0,t.useMemo)((()=>se((e=>{e.style[b]="0"}),r)),[b,r]),E=(0,t.useMemo)((()=>se((e=>{const t="scroll".concat(b[0].toUpperCase()).concat(b.slice(1));e.style[b]="".concat(e[t],"px")}),i)),[b,i]),I=(0,t.useMemo)((()=>se((e=>{e.style[b]=null}),s)),[b,s]),S=(0,t.useMemo)((()=>se((e=>{e.style[b]="".concat(y(b,e),"px"),oe(e)}),a)),[a,y,b]),T=(0,t.useMemo)((()=>se((e=>{e.style[b]=null}),l)),[b,l]);return(0,v.jsx)(ue,{ref:n,addEndListener:ie,...w,"aria-expanded":w.role?d:null,onEnter:_,onEntering:E,onEntered:I,onExit:S,onExiting:T,childRef:u.ref,in:d,timeout:f,mountOnEnter:p,unmountOnExit:m,appear:g,children:(e,n)=>t.cloneElement(u,{...n,className:o()(c,u.props.className,fe[e],"width"===b&&"collapse-horizontal")})})})),me=pe,ge=t.createContext(null);ge.displayName="NavbarContext";const ve=ge,ye=t.forwardRef(((e,n)=>{let{children:r,bsPrefix:i,...s}=e;i=I(i,"navbar-collapse");const o=(0,t.useContext)(ve);return(0,v.jsx)(me,{in:!(!o||!o.expanded),...s,children:(0,v.jsx)("div",{ref:n,className:i,children:r})})}));ye.displayName="NavbarCollapse";const we=ye;const be=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function _e(e){const n=be(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const Ee=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:s,label:a="Toggle navigation",as:l="button",onClick:c,...u}=e;r=I(r,"navbar-toggler");const{onToggle:h,expanded:d}=(0,t.useContext)(ve)||{},f=_e((e=>{c&&c(e),h&&h()}));return"button"===l&&(u.type="button"),(0,v.jsx)(l,{...u,ref:n,onClick:f,"aria-label":a,className:o()(i,r,!d&&"collapsed"),children:s||(0,v.jsx)("span",{className:"".concat(r,"-icon")})})}));Ee.displayName="NavbarToggle";const Ie=Ee,Se="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Te="undefined"!==typeof document||Se?t.useLayoutEffect:t.useEffect,ke=new WeakMap,Ce=(e,t)=>{if(!e||!t)return;const n=ke.get(t)||new Map;ke.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function xe(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const r=Ce(e,n),[i,s]=(0,t.useState)((()=>!!r&&r.matches));return Te((()=>{let t=Ce(e,n);if(!t)return s(!1);let r=ke.get(n);const i=()=>{s(t.matches)};return t.refCount++,t.addListener(i),i(),()=>{t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),i}const Ne=function(e){const n=Object.keys(e);function r(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function i(t){const r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t);let i=e[r];return i="number"===typeof i?"".concat(i-.2,"px"):"calc(".concat(i," - 0.2px)"),"(max-width: ".concat(i,")")}return function(n,s,o){let a;"object"===typeof n?(a=n,o=s,s=!0):(s=s||!0,a={[n]:s});let l=(0,t.useMemo)((()=>Object.entries(a).reduce(((t,n)=>{let[s,o]=n;return"up"!==o&&!0!==o||(t=r(t,function(t){let n=e[t];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(s))),"down"!==o&&!0!==o||(t=r(t,i(s))),t}),"")),[JSON.stringify(a)]);return xe(l,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Ae=Ne;function Pe(e){void 0===e&&(e=x());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(Hx){return e.body}}function De(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Re(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}const Oe="data-rr-ui-";function Le(e){return"".concat(Oe).concat(e)}const Me=Le("modal-open");const Fe=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(O(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Me,""),O(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Me),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},je=(0,t.createContext)(Q?window:void 0);je.Provider;function Ue(){return(0,t.useContext)(je)}const Ve=(e,t)=>Q?null==e?(t||x()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const ze=function(e){let{children:n,in:r,onExited:i,mountOnEnter:s,unmountOnExit:o}=e;const a=(0,t.useRef)(null),l=(0,t.useRef)(r),c=_e(i);(0,t.useEffect)((()=>{r?l.current=!0:c(a.current)}),[r,c]);const u=le(a,n.ref),h=(0,t.cloneElement)(n,{ref:u});return r?h:o||!l.current&&s?null:h},Be=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function qe(e){let{onEnter:n,onEntering:r,onEntered:i,onExit:s,onExiting:o,onExited:a,addEndListener:l,children:c}=e,u=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Be);const h=(0,t.useRef)(null),d=le(h,"function"===typeof c?null:c.ref),f=e=>t=>{e&&h.current&&e(h.current,t)},p=(0,t.useCallback)(f(n),[n]),m=(0,t.useCallback)(f(r),[r]),g=(0,t.useCallback)(f(i),[i]),v=(0,t.useCallback)(f(s),[s]),y=(0,t.useCallback)(f(o),[o]),w=(0,t.useCallback)(f(a),[a]),b=(0,t.useCallback)(f(l),[l]);return Object.assign({},u,{nodeRef:h},n&&{onEnter:p},r&&{onEntering:m},i&&{onEntered:g},s&&{onExit:v},o&&{onExiting:y},a&&{onExited:w},l&&{addEndListener:b},{children:"function"===typeof c?(e,t)=>c(e,Object.assign({},t,{ref:d})):(0,t.cloneElement)(c,{ref:d})})}const Ke=["component"];const We=t.forwardRef(((e,t)=>{let{component:n}=e;const r=qe(function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Ke));return(0,v.jsx)(n,Object.assign({ref:t},r))})),Ge=We;function He(e){let{children:n,in:r,onExited:i,onEntered:s,transition:o}=e;const[a,l]=(0,t.useState)(!r);r&&a&&l(!1);const c=function(e){let{in:n,onTransition:r}=e;const i=(0,t.useRef)(null),s=(0,t.useRef)(!0),o=_e(r);return Te((()=>{if(!i.current)return;let e=!1;return o({in:n,element:i.current,initial:s.current,isStale:()=>e}),()=>{e=!0}}),[n,o]),Te((()=>(s.current=!1,()=>{s.current=!0})),[]),i}({in:!!r,onTransition:e=>{Promise.resolve(o(e)).then((()=>{e.isStale()||(e.in?null==s||s(e.element,e.initial):(l(!0),null==i||i(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),u=le(c,n.ref);return a&&!r?null:(0,t.cloneElement)(n,{ref:u})}function Qe(e,t,n){return e?(0,v.jsx)(Ge,Object.assign({},n,{component:e})):t?(0,v.jsx)(He,Object.assign({},n,{transition:t})):(0,v.jsx)(ze,Object.assign({},n))}const Je=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Ye;function Xe(e){const n=Ue(),r=e||function(e){return Ye||(Ye=new Fe({ownerDocument:null==e?void 0:e.document})),Ye}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,t.useCallback)((e=>{i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((e=>{i.current.backdrop=e}),[])})}const $e=(0,t.forwardRef)(((e,n)=>{let{show:r=!1,role:i="dialog",className:s,style:o,children:a,backdrop:l=!0,keyboard:c=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:d,runTransition:f,backdropTransition:p,runBackdropTransition:m,autoFocus:g=!0,enforceFocus:y=!0,restoreFocus:w=!0,restoreFocusOptions:b,renderDialog:_,renderBackdrop:E=(e=>(0,v.jsx)("div",Object.assign({},e))),manager:I,container:S,onShow:T,onHide:k=(()=>{}),onExit:C,onExited:x,onExiting:N,onEnter:A,onEntering:P,onEntered:D}=e,R=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Je);const O=Ue(),L=function(e,n){const r=Ue(),[i,s]=(0,t.useState)((()=>Ve(e,null==r?void 0:r.document)));if(!i){const t=Ve(e);t&&s(t)}return(0,t.useEffect)((()=>{n&&i&&n(i)}),[n,i]),(0,t.useEffect)((()=>{const t=Ve(e);t!==i&&s(t)}),[e,i]),i}(S),F=Xe(I),j=function(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}(),U=function(e){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{n.current=e})),n.current}(r),[V,z]=(0,t.useState)(!r),B=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>F),[F]),Q&&!U&&r&&(B.current=Pe(null==O?void 0:O.document)),r&&V&&z(!1);const q=_e((()=>{if(F.add(),Y.current=ee(document,"keydown",H),J.current=ee(document,"focus",(()=>setTimeout(W)),!0),T&&T(),g){var e,t;const n=Pe(null!=(e=null==(t=F.dialog)?void 0:t.ownerDocument)?e:null==O?void 0:O.document);F.dialog&&n&&!De(F.dialog,n)&&(B.current=n,F.dialog.focus())}})),K=_e((()=>{var e;(F.remove(),null==Y.current||Y.current(),null==J.current||J.current(),w)&&(null==(e=B.current)||null==e.focus||e.focus(b),B.current=null)}));(0,t.useEffect)((()=>{r&&L&&q()}),[r,L,q]),(0,t.useEffect)((()=>{V&&K()}),[V,K]),Re((()=>{K()}));const W=_e((()=>{if(!y||!j()||!F.isTopModal())return;const e=Pe(null==O?void 0:O.document);F.dialog&&e&&!De(F.dialog,e)&&F.dialog.focus()})),G=_e((e=>{e.target===e.currentTarget&&(null==u||u(e),!0===l&&k())})),H=_e((e=>{c&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&F.isTopModal()&&(null==h||h(e),e.defaultPrevented||k())})),J=(0,t.useRef)(),Y=(0,t.useRef)();if(!L)return null;const X=Object.assign({role:i,ref:F.setDialogRef,"aria-modal":"dialog"===i||void 0},R,{style:o,className:s,tabIndex:-1});let $=_?_(X):(0,v.jsx)("div",Object.assign({},X,{children:t.cloneElement(a,{role:"document"})}));$=Qe(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:C,onExiting:N,onExited:function(){z(!0),null==x||x(...arguments)},onEnter:A,onEntering:P,onEntered:D,children:$});let Z=null;return l&&(Z=E({ref:F.setBackdropRef,onClick:G}),Z=Qe(p,m,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Z})),(0,v.jsx)(v.Fragment,{children:M.createPortal((0,v.jsxs)(v.Fragment,{children:[Z,$]}),L)})}));$e.displayName="Modal";const Ze=Object.assign($e,{Manager:Fe}),et={[B]:"show",[q]:"show"},tt=t.forwardRef(((e,n)=>{let{className:r,children:i,transitionClasses:s={},onEnter:a,...l}=e;const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...l},u=(0,t.useCallback)(((e,t)=>{oe(e),null==a||a(e,t)}),[a]);return(0,v.jsx)(ue,{ref:n,addEndListener:ie,...c,onEnter:u,childRef:i.ref,children:(e,n)=>t.cloneElement(i,{...n,className:o()("fade",r,i.props.className,et[e],s[e])})})}));tt.displayName="Fade";const nt=tt,rt=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=I(r,"offcanvas-body"),(0,v.jsx)(i,{ref:t,className:o()(n,r),...s})}));rt.displayName="OffcanvasBody";const it=rt,st={[B]:"show",[q]:"show"},ot=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:s,in:a=!1,mountOnEnter:l=!1,unmountOnExit:c=!1,appear:u=!1,...h}=e;return r=I(r,"offcanvas"),(0,v.jsx)(ue,{ref:n,addEndListener:ie,in:a,mountOnEnter:l,unmountOnExit:c,appear:u,...h,childRef:s.ref,children:(e,n)=>t.cloneElement(s,{...n,className:o()(i,s.props.className,(e===B||e===K)&&"".concat(r,"-toggling"),st[e])})})}));ot.displayName="OffcanvasToggling";const at=ot,lt=t.createContext({onHide(){}});var ct=n(173),ut=n.n(ct);const ht={"aria-label":ut().string,onClick:ut().func,variant:ut().oneOf(["white"])},dt=t.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":i="Close",...s}=e;return(0,v.jsx)("button",{ref:t,type:"button",className:o()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":i,...s})}));dt.displayName="CloseButton",dt.propTypes=ht;const ft=dt,pt=t.forwardRef(((e,n)=>{let{closeLabel:r="Close",closeVariant:i,closeButton:s=!1,onHide:o,children:a,...l}=e;const c=(0,t.useContext)(lt),u=_e((()=>{null==c||c.onHide(),null==o||o()}));return(0,v.jsxs)("div",{ref:n,...l,children:[a,s&&(0,v.jsx)(ft,{"aria-label":r,variant:i,onClick:u})]})})),mt=pt,gt=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:s=!1,...a}=e;return n=I(n,"offcanvas-header"),(0,v.jsx)(mt,{ref:t,...a,className:o()(r,n),closeLabel:i,closeButton:s})}));gt.displayName="OffcanvasHeader";const vt=gt,yt=(wt="h5",t.forwardRef(((e,t)=>(0,v.jsx)("div",{...e,ref:t,className:o()(e.className,wt)}))));var wt;const bt=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=yt,...s}=e;return r=I(r,"offcanvas-title"),(0,v.jsx)(i,{ref:t,className:o()(n,r),...s})}));bt.displayName="OffcanvasTitle";const _t=bt;var Et=Function.prototype.bind.call(Function.prototype.call,[].slice);function It(e,t){return Et(e.querySelectorAll(t))}function St(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Tt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",kt=".sticky-top",Ct=".navbar-toggler";class xt extends Fe{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,O(t,{[e]:"".concat(parseFloat(O(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],O(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(t,"modal-open"),!e.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";It(t,Tt).forEach((t=>this.adjustAndStore(n,t,e.scrollBarWidth))),It(t,kt).forEach((t=>this.adjustAndStore(r,t,-e.scrollBarWidth))),It(t,Ct).forEach((t=>this.adjustAndStore(r,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=St(e.className,t):e.setAttribute("class",St(e.className&&e.className.baseVal||"",t))}(t,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";It(t,Tt).forEach((e=>this.restore(n,e))),It(t,kt).forEach((e=>this.restore(r,e))),It(t,Ct).forEach((e=>this.restore(r,e)))}}let Nt;const At=xt;function Pt(e){return(0,v.jsx)(at,{...e})}function Dt(e){return(0,v.jsx)(nt,{...e})}const Rt=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:s,"aria-labelledby":a,placement:l="start",responsive:c,show:u=!1,backdrop:h=!0,keyboard:d=!0,scroll:f=!1,onEscapeKeyDown:p,onShow:m,onHide:g,container:y,autoFocus:w=!0,enforceFocus:b=!0,restoreFocus:_=!0,restoreFocusOptions:E,onEntered:S,onExit:T,onExiting:k,onEnter:C,onEntering:x,onExited:N,backdropClassName:A,manager:P,renderStaticNode:D=!1,...R}=e;const O=(0,t.useRef)();r=I(r,"offcanvas");const{onToggle:L}=(0,t.useContext)(ve)||{},[M,F]=(0,t.useState)(!1),j=Ae(c||"xs","up");(0,t.useEffect)((()=>{F(c?u&&!j:u)}),[u,c,j]);const U=_e((()=>{null==L||L(),null==g||g()})),V=(0,t.useMemo)((()=>({onHide:U})),[U]);const z=(0,t.useCallback)((e=>(0,v.jsx)("div",{...e,className:o()("".concat(r,"-backdrop"),A)})),[A,r]),B=e=>(0,v.jsx)("div",{...e,...R,className:o()(i,c?"".concat(r,"-").concat(c):r,"".concat(r,"-").concat(l)),"aria-labelledby":a,children:s});return(0,v.jsxs)(v.Fragment,{children:[!M&&(c||D)&&B({}),(0,v.jsx)(lt.Provider,{value:V,children:(0,v.jsx)(Ze,{show:M,ref:n,backdrop:h,container:y,keyboard:d,autoFocus:w,enforceFocus:b&&!f,restoreFocus:_,restoreFocusOptions:E,onEscapeKeyDown:p,onShow:m,onHide:U,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==C||C(e,...n)},onEntering:x,onEntered:S,onExit:T,onExiting:k,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==N||N(...n)},manager:P||(f?(O.current||(O.current=new At({handleContainerOverflow:!1})),O.current):function(e){return Nt||(Nt=new xt(e)),Nt}()),transition:Pt,backdropTransition:Dt,renderBackdrop:z,renderDialog:B})})]})}));Rt.displayName="Offcanvas";const Ot=Object.assign(Rt,{Body:it,Header:vt,Title:_t}),Lt=t.forwardRef(((e,n)=>{const r=(0,t.useContext)(ve);return(0,v.jsx)(Ot,{ref:n,show:!(null==r||!r.expanded),...e,renderStaticNode:!0})}));Lt.displayName="NavbarOffcanvas";const Mt=Lt,Ft=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...s}=e;return r=I(r,"navbar-text"),(0,v.jsx)(i,{ref:t,className:o()(n,r),...s})}));Ft.displayName="NavbarText";const jt=Ft,Ut=t.forwardRef(((e,n)=>{const{bsPrefix:r,expand:i=!0,variant:s="light",bg:a,fixed:c,sticky:u,className:h,as:d="nav",expanded:p,onToggle:m,onSelect:g,collapseOnSelect:y=!1,...w}=f(e,{expanded:"onToggle"}),b=I(r,"navbar"),_=(0,t.useCallback)((function(){null==g||g(...arguments),y&&p&&(null==m||m(!1))}),[g,y,p,m]);void 0===w.role&&"nav"!==d&&(w.role="navigation");let E="".concat(b,"-expand");"string"===typeof i&&(E="".concat(E,"-").concat(i));const S=(0,t.useMemo)((()=>({onToggle:()=>null==m?void 0:m(!p),bsPrefix:b,expanded:!!p,expand:i})),[b,p,i,m]);return(0,v.jsx)(ve.Provider,{value:S,children:(0,v.jsx)(l.Provider,{value:_,children:(0,v.jsx)(d,{ref:n,...w,className:o()(h,b,i&&E,s&&"".concat(b,"-").concat(s),a&&"bg-".concat(a),u&&"sticky-".concat(u),c&&"fixed-".concat(c))})})})}));Ut.displayName="Navbar";const Vt=Object.assign(Ut,{Brand:C,Collapse:we,Offcanvas:Mt,Text:jt,Toggle:Ie}),zt=t.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:i="div",className:s,...a}=e;const l=I(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,v.jsx)(i,{ref:t,...a,className:o()(s,r?"".concat(l).concat(c):l)})}));zt.displayName="Container";const Bt=zt;n(197);const qt=t.createContext(null);qt.displayName="NavContext";const Kt=qt,Wt=t.createContext(null),Gt=["as","disabled"];function Ht(e){let{tagName:t,disabled:n,href:r,target:i,rel:s,role:o,onClick:a,tabIndex:l=0,type:c}=e;t||(t=null!=r||null!=i||null!=s?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const h=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==a||a(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:h,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),h(e))}},u]}const Qt=t.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Gt);const[s,{tagName:o}]=Ht(Object.assign({tagName:n,disabled:r},i));return(0,v.jsx)(o,Object.assign({},i,s,{ref:t}))}));Qt.displayName="Button";const Jt=Qt,Yt=["as","active","eventKey"];function Xt(e){let{key:n,onClick:r,active:i,id:s,role:o,disabled:a}=e;const c=(0,t.useContext)(l),u=(0,t.useContext)(Kt),h=(0,t.useContext)(Wt);let d=i;const f={role:o};if(u){o||"tablist"!==u.role||(f.role="tab");const e=u.getControllerId(null!=n?n:null),t=u.getControlledId(null!=n?n:null);f[Le("event-key")]=n,f.id=e||s,d=null==i&&null!=n?u.activeKey===n:i,!d&&(null!=h&&h.unmountOnExit||null!=h&&h.mountOnEnter)||(f["aria-controls"]=t)}return"tab"===f.role&&(f["aria-selected"]=d,d||(f.tabIndex=-1),a&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=_e((e=>{a||(null==r||r(e),null!=n&&c&&!e.isPropagationStopped()&&c(n,e))})),[f,{isActive:d}]}const $t=t.forwardRef(((e,t)=>{let{as:n=Jt,active:r,eventKey:i}=e,s=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Yt);const[o,l]=Xt(Object.assign({key:a(i,s.href),active:r},s));return o[Le("active")]=l.isActive,(0,v.jsx)(n,Object.assign({},s,o,{ref:t}))}));$t.displayName="NavItem";const Zt=$t,en=["as","onSelect","activeKey","role","onKeyDown"];const tn=()=>{},nn=Le("event-key"),rn=t.forwardRef(((e,n)=>{let{as:r="div",onSelect:i,activeKey:s,role:o,onKeyDown:c}=e,u=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,en);const h=function(){const[,e]=(0,t.useReducer)((e=>!e),!1);return e}(),d=(0,t.useRef)(!1),f=(0,t.useContext)(l),p=(0,t.useContext)(Wt);let m,g;p&&(o=o||"tablist",s=p.activeKey,m=p.getControlledId,g=p.getControllerId);const y=(0,t.useRef)(null),w=e=>{const t=y.current;if(!t)return null;const n=It(t,"[".concat(nn,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let s=i+e;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},b=(e,t)=>{null!=e&&(null==i||i(e,t),null==f||f(e,t))};(0,t.useEffect)((()=>{if(y.current&&d.current){const e=y.current.querySelector("[".concat(nn,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));const _=le(n,y);return(0,v.jsx)(l.Provider,{value:b,children:(0,v.jsx)(Kt.Provider,{value:{role:o,activeKey:a(s),getControlledId:m||tn,getControllerId:g||tn},children:(0,v.jsx)(r,Object.assign({},u,{onKeyDown:e=>{if(null==c||c(e),!p)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=w(-1);break;case"ArrowRight":case"ArrowDown":t=w(1);break;default:return}var n;t&&(e.preventDefault(),b(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h())},ref:_,role:o}))})})}));rn.displayName="Nav";const sn=Object.assign(rn,{Item:Zt}),on=t.createContext(null);on.displayName="CardHeaderContext";const an=on,ln=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=I(r,"nav-item"),(0,v.jsx)(i,{ref:t,className:o()(n,r),...s})}));ln.displayName="NavItem";const cn=ln;new WeakMap;const un=["onKeyDown"];const hn=t.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,un);const[i]=Ht(Object.assign({tagName:"a"},r)),s=_e((e=>{i.onKeyDown(e),null==n||n(e)}));return(o=r.href)&&"#"!==o.trim()&&"button"!==r.role?(0,v.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,v.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:s}));var o}));hn.displayName="Anchor";const dn=hn,fn=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i=dn,active:s,eventKey:l,disabled:c=!1,...u}=e;n=I(n,"nav-link");const[h,d]=Xt({key:a(l,u.href),active:s,disabled:c,...u});return(0,v.jsx)(i,{...u,...h,ref:t,disabled:c,className:o()(r,n,c&&"disabled",d.isActive&&"active")})}));fn.displayName="NavLink";const pn=fn,mn=t.forwardRef(((e,n)=>{const{as:r="div",bsPrefix:i,variant:s,fill:a=!1,justify:l=!1,navbar:c,navbarScroll:u,className:h,activeKey:d,...p}=f(e,{activeKey:"onSelect"}),m=I(i,"nav");let g,y,w=!1;const b=(0,t.useContext)(ve),_=(0,t.useContext)(an);return b?(g=b.bsPrefix,w=null==c||c):_&&({cardHeaderBsPrefix:y}=_),(0,v.jsx)(sn,{as:r,ref:n,activeKey:d,className:o()(h,{[m]:!w,["".concat(g,"-nav")]:w,["".concat(g,"-nav-scroll")]:w&&u,["".concat(y,"-").concat(s)]:!!y,["".concat(m,"-").concat(s)]:!!s,["".concat(m,"-fill")]:a,["".concat(m,"-justified")]:l}),...p})}));mn.displayName="Nav";const gn=Object.assign(mn,{Item:cn,Link:pn});const vn=n.p+"static/media/nav-icon1.721d5414c26365f117e71d46b6641cb2.svg";const yn=n.p+"static/media/nav-icon3.08b285abb8e118b52637efa5d65c5367.svg";function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wn.apply(this,arguments)}var bn;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(bn||(bn={}));const _n="popstate";function En(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function In(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Hx){}}}function Sn(e,t){return{usr:e.state,key:e.key,idx:t}}function Tn(e,t,n,r){return void 0===n&&(n=null),wn({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Cn(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function kn(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Cn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xn(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=bn.Pop,l=null,c=u();function u(){return(o.state||{idx:null}).idx}function h(){a=bn.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:kn(e);return n=n.replace(/ $/,"%20"),En(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,o.replaceState(wn({},o.state,{idx:c}),""));let f={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_n,h),l=e,()=>{i.removeEventListener(_n,h),l=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=bn.Push;let r=Tn(f.location,e,t);n&&n(r,e),c=u()+1;let h=Sn(r,c),d=f.createHref(r);try{o.pushState(h,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(d)}s&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=bn.Replace;let r=Tn(f.location,e,t);n&&n(r,e),c=u();let i=Sn(r,c),h=f.createHref(r);o.replaceState(i,"",h),s&&l&&l({action:a,location:f.location,delta:0})},go:e=>o.go(e)};return f}var Nn;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Nn||(Nn={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function An(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);In("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function Pn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Dn(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Rn(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function On(e,t){let n=Rn(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function Ln(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=Cn(e):(i=wn({},e),En(!i.pathname||!i.pathname.includes("?"),Dn("?","pathname","search",i)),En(!i.pathname||!i.pathname.includes("#"),Dn("#","pathname","hash",i)),En(!i.search||!i.search.includes("#"),Dn("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?Cn(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Fn(r),hash:jn(i)}}(i,s),c=a&&"/"!==a&&a.endsWith("/"),u=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const Mn=e=>e.join("/").replace(/\/\/+/g,"/"),Fn=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",jn=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const Un=["post","put","patch","delete"],Vn=(new Set(Un),["get",...Un]);new Set(Vn),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function zn(){return zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zn.apply(this,arguments)}const Bn=t.createContext(null);const qn=t.createContext(null);const Kn=t.createContext(null);const Wn=t.createContext(null);const Gn=t.createContext({outlet:null,matches:[],isDataRoute:!1});function Hn(){return null!=t.useContext(Wn)}function Qn(){return Hn()||En(!1),t.useContext(Wn).location}function Jn(e){t.useContext(Kn).static||t.useLayoutEffect(e)}function Yn(){let{isDataRoute:e}=t.useContext(Gn);return e?function(){let{router:e}=er($n.UseNavigateStable),n=tr(Zn.UseNavigateStable),r=t.useRef(!1);Jn((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,zn({fromRouteId:n},i)))}),[e,n]);return i}():function(){Hn()||En(!1);let e=t.useContext(Bn),{basename:n,future:r,navigator:i}=t.useContext(Kn),{matches:s}=t.useContext(Gn),{pathname:o}=Qn(),a=JSON.stringify(On(s,r.v7_relativeSplatPath)),l=t.useRef(!1);Jn((()=>{l.current=!0}));let c=t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let s=Ln(t,JSON.parse(a),o,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:Mn([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[n,i,a,o,e]);return c}()}function Xn(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(Kn),{matches:s}=t.useContext(Gn),{pathname:o}=Qn(),a=JSON.stringify(On(s,i.v7_relativeSplatPath));return t.useMemo((()=>Ln(e,JSON.parse(a),o,"path"===r)),[e,a,o,r])}t.Component;var $n=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($n||{}),Zn=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zn||{});function er(e){let n=t.useContext(Bn);return n||En(!1),n}function tr(e){let n=function(e){let n=t.useContext(Gn);return n||En(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||En(!1),r.route.id}r.startTransition;function nr(e){let{basename:n="/",children:r=null,location:i,navigationType:s=bn.Pop,navigator:o,static:a=!1,future:l}=e;Hn()&&En(!1);let c=n.replace(/^\/*/,"/"),u=t.useMemo((()=>({basename:c,navigator:o,static:a,future:zn({v7_relativeSplatPath:!1},l)})),[c,l,o,a]);"string"===typeof i&&(i=Cn(i));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:m="default"}=i,g=t.useMemo((()=>{let e=Pn(h,c);return null==e?null:{location:{pathname:e,search:d,hash:f,state:p,key:m},navigationType:s}}),[c,h,d,f,p,m,s]);return null==g?null:t.createElement(Kn.Provider,{value:u},t.createElement(Wn.Provider,{children:r,value:g}))}new Promise((()=>{}));t.Component;function rr(){return rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rr.apply(this,arguments)}function ir(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const sr=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],or=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Hx){}const ar=t.createContext({isTransitioning:!1});new Map;const lr=r.startTransition;F.flushSync,r.useId;function cr(e){let{basename:n,children:r,future:i,window:s}=e,o=t.useRef();null==o.current&&(o.current=function(e){return void 0===e&&(e={}),xn((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return Tn("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:kn(t)}),null,e)}({window:s,v5Compat:!0}));let a=o.current,[l,c]=t.useState({action:a.action,location:a.location}),{v7_startTransition:u}=i||{},h=t.useCallback((e=>{u&&lr?lr((()=>c(e))):c(e)}),[c,u]);return t.useLayoutEffect((()=>a.listen(h)),[a,h]),t.createElement(nr,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:a,future:i})}const ur="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,hr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dr=t.forwardRef((function(e,n){let r,{onClick:i,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:h,unstable_viewTransition:d}=e,f=ir(e,sr),{basename:p}=t.useContext(Kn),m=!1;if("string"===typeof u&&hr.test(u)&&(r=u,ur))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=Pn(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(Hx){}let g=function(e,n){let{relative:r}=void 0===n?{}:n;Hn()||En(!1);let{basename:i,navigator:s}=t.useContext(Kn),{hash:o,pathname:a,search:l}=Xn(e,{relative:r}),c=a;return"/"!==i&&(c="/"===a?i:Mn([i,a])),s.createHref({pathname:c,search:l,hash:o})}(u,{relative:s}),v=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===n?{}:n,c=Yn(),u=Qn(),h=Xn(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:kn(u)===kn(h);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[u,c,h,i,s,r,e,o,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,unstable_viewTransition:d});return t.createElement("a",rr({},f,{href:r||g,onClick:m||o?i:function(e){i&&i(e),e.defaultPrevented||v(e)},ref:n,target:c}))}));const fr=t.forwardRef((function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,h=ir(e,or),d=Xn(l,{relative:h.relative}),f=Qn(),p=t.useContext(qn),{navigator:m,basename:g}=t.useContext(Kn),v=null!=p&&function(e,n){void 0===n&&(n={});let r=t.useContext(ar);null==r&&En(!1);let{basename:i}=gr(pr.useViewTransitionState),s=Xn(e,{relative:n.relative});if(!r.isTransitioning)return!1;let o=Pn(r.currentLocation.pathname,i)||r.currentLocation.pathname,a=Pn(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=An(s.pathname,a)||null!=An(s.pathname,o)}(d)&&!0===c,y=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,w=f.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(w=w.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&g&&(b=Pn(b,g)||b);const _="/"!==y&&y.endsWith("/")?y.length-1:y.length;let E,I=w===y||!o&&w.startsWith(y)&&"/"===w.charAt(_),S=null!=b&&(b===y||!o&&b.startsWith(y)&&"/"===b.charAt(y.length)),T={isActive:I,isPending:S,isTransitioning:v},k=I?r:void 0;E="function"===typeof s?s(T):[s,I?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let C="function"===typeof a?a(T):a;return t.createElement(dr,rr({},h,{"aria-current":k,className:E,ref:n,style:C,to:l,unstable_viewTransition:c}),"function"===typeof u?u(T):u)}));var pr,mr;function gr(e){let n=t.useContext(Bn);return n||En(!1),n}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(pr||(pr={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(mr||(mr={}));var vr=function(){return vr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vr.apply(this,arguments)};var yr="",wr=null,br=null,_r=null;function Er(){yr="",null!==wr&&wr.disconnect(),null!==br&&(window.clearTimeout(br),br=null)}function Ir(e){return["BUTTON","INPUT","SELECT","TEXTAREA"].includes(e.tagName)&&!e.hasAttribute("disabled")||["A","AREA"].includes(e.tagName)&&e.hasAttribute("href")}function Sr(){var e=null;if("#"===yr)e=document.body;else{var t=yr.replace("#","");null===(e=document.getElementById(t))&&"#top"===yr&&(e=document.body)}if(null!==e){_r(e);var n=e.getAttribute("tabindex");return null!==n||Ir(e)||e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),null!==n||Ir(e)||(e.blur(),e.removeAttribute("tabindex")),Er(),!0}return!1}function Tr(e){return t.forwardRef((function(n,r){var i="";"string"===typeof n.to&&n.to.includes("#")?i="#"+n.to.split("#").slice(1).join("#"):"object"===typeof n.to&&"string"===typeof n.to.hash&&(i=n.to.hash);var s={};e===fr&&(s.isActive=function(e,t){return e&&e.isExact&&t.hash===i});var o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(n,["scroll","smooth","timeout","elementId"]);return t.createElement(e,vr({},s,o,{onClick:function(e){var t;Er(),yr=n.elementId?"#"+n.elementId:i,n.onClick&&n.onClick(e),""===yr||e.defaultPrevented||0!==e.button||n.target&&"_self"!==n.target||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(_r=n.scroll||function(e){return n.smooth?e.scrollIntoView({behavior:"smooth"}):e.scrollIntoView()},t=n.timeout,window.setTimeout((function(){!1===Sr()&&(null===wr&&(wr=new MutationObserver(Sr)),wr.observe(document,{attributes:!0,childList:!0,subtree:!0}),br=window.setTimeout((function(){Er()}),t||1e4))}),0))},ref:r}),n.children)}))}var kr=Tr(dr);Tr(fr);n.p;const Cr=()=>{const[e,n]=(0,t.useState)("home"),[r,i]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=()=>{window.scrollY>50?i(!0):i(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);const s=e=>{n(e)};return(0,v.jsx)(cr,{children:(0,v.jsx)(Vt,{expand:"md",className:r?"scrolled":"",children:(0,v.jsxs)(Bt,{children:[(0,v.jsx)(Vt.Toggle,{"aria-controls":"basic-navbar-nav",children:(0,v.jsx)("span",{className:"navbar-toggler-icon"})}),(0,v.jsxs)(Vt.Collapse,{id:"basic-navbar-nav",children:[(0,v.jsxs)(gn,{className:"ms-auto",children:[(0,v.jsx)(gn.Link,{href:"#home",className:"home"===e?"active navbar-link":"navbar-link",onClick:()=>s("home"),children:"Home"}),(0,v.jsx)(gn.Link,{href:"#skills",className:"skills"===e?"active navbar-link":"navbar-link",onClick:()=>s("skills"),children:"Skills"}),(0,v.jsx)(gn.Link,{href:"#projects",className:"projects"===e?"active navbar-link":"navbar-link",onClick:()=>s("projects"),children:"Projects"})]}),(0,v.jsxs)("span",{className:"navbar-text",children:[(0,v.jsxs)("div",{className:"social-icon",children:[(0,v.jsx)("a",{href:"#",children:(0,v.jsx)("img",{src:vn,alt:""})}),(0,v.jsx)("a",{href:"#",children:(0,v.jsx)("img",{src:yn,alt:""})})]}),(0,v.jsx)(kr,{to:"#connect",children:(0,v.jsx)("button",{className:"vvd",children:(0,v.jsx)("span",{children:"Let\u2019s Connect"})})})]})]})]})})})},xr=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="div",...s}=e;const a=I(n,"row"),l=S(),c=T(),u="".concat(a,"-cols"),h=[];return l.forEach((e=>{const t=s[e];let n;delete s[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==c?"-".concat(e):"";null!=n&&h.push("".concat(u).concat(r,"-").concat(n))})),(0,v.jsx)(i,{ref:t,...s,className:o()(r,a,...h)})}));xr.displayName="Row";const Nr=xr;const Ar=t.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:a}]=function(e){let{as:t,bsPrefix:n,className:r,...i}=e;n=I(n,"col");const s=S(),a=T(),l=[],c=[];return s.forEach((e=>{const t=i[e];let r,s,o;delete i[e],"object"===typeof t&&null!=t?({span:r,offset:s,order:o}=t):r=t;const u=e!==a?"-".concat(e):"";r&&l.push(!0===r?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(r)),null!=o&&c.push("order".concat(u,"-").concat(o)),null!=s&&c.push("offset".concat(u,"-").concat(s))})),[{...i,className:o()(r,...l,...c)},{as:t,bsPrefix:n,spans:l}]}(e);return(0,v.jsx)(i,{...r,ref:t,className:o()(n,!a.length&&s)})}));Ar.displayName="Col";const Pr=Ar,Dr=n.p+"static/media/header-photo.66e2ad16ea4356e53c6d.png";var Rr=["color","size","title","className"];function Or(){return Or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Or.apply(this,arguments)}function Lr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Mr=(0,t.forwardRef)((function(e,n){var r=e.color,i=e.size,s=e.title,o=e.className,a=Lr(e,Rr);return t.createElement("svg",Or({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:r,className:["bi","bi-arrow-right-circle",o].filter(Boolean).join(" ")},a),s?t.createElement("title",null,s):null,t.createElement("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z"}))}));Mr.propTypes={color:ut().string,size:ut().oneOfType([ut().string,ut().number]),title:ut().string,className:ut().string},Mr.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const Fr=Mr;var jr=n(930);const Ur=()=>{const[e,n]=(0,t.useState)(0),[r,i]=(0,t.useState)(!1),[s,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(300-100*Math.random()),[c,u]=(0,t.useState)(1);return(0,v.jsx)("section",{className:"banner",id:"home",children:(0,v.jsx)(Bt,{children:(0,v.jsxs)(Nr,{className:"aligh-items-center",children:[(0,v.jsx)(Pr,{xs:12,md:6,xl:7,children:(0,v.jsx)(jr.A,{children:e=>{let{isVisible:t}=e;return(0,v.jsxs)("div",{className:t?"animate__animated animate__fadeIn":"",children:[(0,v.jsx)("span",{className:"tagline",children:"Welcome to my Portfolio"}),(0,v.jsx)("h1",{children:"Hi! I'm Benny Mota"}),(0,v.jsxs)("p",{children:["I am a dedicated and goal-oriented Software Developer specializing in the development of impactful web and mobile applications. Proficient in a range of technologies including, Flutter, Dart, JavaScript, React, Firebase, Java, Python, Restful APIs, and Git, I am adept at crafting responsive designs and ensuring seamless user experiences.",(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),"I excel in crafting engaging mobile interfaces leveraging Flutter to deliver robust applications. Proficient in seamlessly integrating front-end designs with back-end systems through Restful APIs, I ensure a smooth and efficient user experience across various mobile platforms."]}),(0,v.jsxs)("button",{onClick:()=>console.log("connect"),children:["Checkout my Github ",(0,v.jsx)(Fr,{size:25}),(0,v.jsx)("a",{href:"https://github.com/BennyMota"})]})]})}})}),(0,v.jsx)(Pr,{xs:12,md:6,xl:5,children:(0,v.jsx)(jr.A,{children:e=>{let{isVisible:t}=e;return(0,v.jsx)("div",{className:t?"animate__animated animate__zoomIn":"",children:(0,v.jsx)("img",{src:Dr,alt:"Header Img"})})}})})]})})})},Vr=n.p+"static/media/meter1.ef0298b497a3935ea041.png",zr=n.p+"static/media/meter2.53146786f6e330648f87.png",Br=n.p+"static/media/meter3.70e6eae9ec3663dbd415.png";var qr=n(488);n.p;n.p;const Kr=n.p+"static/media/simple3.e5b5bcff7bcbd9e12a44.jpg",Wr=()=>(0,v.jsxs)("section",{className:"skill",id:"skills",children:[(0,v.jsx)("div",{className:"container",children:(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-12",children:(0,v.jsxs)("div",{className:"skill-bx wow zoomIn",children:[(0,v.jsx)("h2",{children:"Skills"}),(0,v.jsxs)("p",{children:["Lorem Ipsum is simply dummy text of the printing and typesetting industry.",(0,v.jsx)("br",{})," Lorem Ipsum has been the industry's standard dummy text."]}),(0,v.jsxs)(qr.default,{responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},infinite:!0,className:"owl-carousel owl-theme skill-slider",children:[(0,v.jsxs)("div",{className:"item",children:[(0,v.jsx)("img",{src:Vr,alt:"Image"}),(0,v.jsx)("h5",{children:"Web Development"})]}),(0,v.jsxs)("div",{className:"item",children:[(0,v.jsx)("img",{src:zr,alt:"Image"}),(0,v.jsx)("h5",{children:"Brand Identity"})]}),(0,v.jsxs)("div",{className:"item",children:[(0,v.jsx)("img",{src:Br,alt:"Image"}),(0,v.jsx)("h5",{children:"Logo Design"})]}),(0,v.jsxs)("div",{className:"item",children:[(0,v.jsx)("img",{src:Vr,alt:"Image"}),(0,v.jsx)("h5",{children:"Web Development"})]})]})]})})})}),(0,v.jsx)("img",{className:"background-image-left",src:Kr,alt:"Image"})]});function Gr(e,n,r){const i=(0,t.useRef)(void 0!==e),[s,o]=(0,t.useState)(n),a=void 0!==e,l=i.current;return i.current=a,!a&&l&&s!==n&&o(n),[a?e:s,(0,t.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[i,...s]=t;let a=null==r?void 0:r(i,...s);return o(i),a}),[r])]}const Hr={prefix:String(Math.round(1e10*Math.random())),current:0},Qr=t.createContext(Hr),Jr=t.createContext(!1);let Yr=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),Xr=new WeakMap;function $r(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,t.useContext)(Qr),r=(0,t.useRef)(null);if(null===r.current&&!e){var i,s;let e=null===(s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===s||null===(i=s.ReactCurrentOwner)||void 0===i?void 0:i.current;if(e){let t=Xr.get(e);null==t?Xr.set(e,{id:n.current,state:e.memoizedState}):e.memoizedState!==t.state&&(n.current=t.id,Xr.delete(e))}r.current=++n.current}return r.current}const Zr="function"===typeof t.useId?function(e){let n=t.useId(),[r]=(0,t.useState)("function"===typeof t.useSyncExternalStore?t.useSyncExternalStore(ni,ei,ti):(0,t.useContext)(Jr)),i=r?"react-aria":"react-aria".concat(Hr.prefix);return e||"".concat(i,"-").concat(n)}:function(e){let n=(0,t.useContext)(Qr);n!==Hr||Yr||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let r=$r(!!e),i="react-aria".concat(n.prefix);return e||"".concat(i,"-").concat(r)};function ei(){return!1}function ti(){return!0}function ni(e){return()=>{}}const ri=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],ii=["activeKey","getControlledId","getControllerId"],si=["as"];function oi(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ai(e){let{active:n,eventKey:r,mountOnEnter:i,transition:s,unmountOnExit:o,role:l="tabpanel",onEnter:c,onEntering:u,onEntered:h,onExit:d,onExiting:f,onExited:p}=e,m=oi(e,ri);const g=(0,t.useContext)(Wt);if(!g)return[Object.assign({},m,{role:l}),{eventKey:r,isActive:n,mountOnEnter:i,transition:s,unmountOnExit:o,onEnter:c,onEntering:u,onEntered:h,onExit:d,onExiting:f,onExited:p}];const{activeKey:v,getControlledId:y,getControllerId:w}=g,b=oi(g,ii),_=a(r);return[Object.assign({},m,{role:l,id:y(r),"aria-labelledby":w(r)}),{eventKey:r,isActive:null==n&&null!=_?a(v)===_:n,transition:s||b.transition,mountOnEnter:null!=i?i:b.mountOnEnter,unmountOnExit:null!=o?o:b.unmountOnExit,onEnter:c,onEntering:u,onEntered:h,onExit:d,onExiting:f,onExited:p}]}const li=t.forwardRef(((e,t)=>{let{as:n="div"}=e,r=oi(e,si);const[i,{isActive:s,onEnter:o,onEntering:a,onEntered:c,onExit:u,onExiting:h,onExited:d,mountOnEnter:f,unmountOnExit:p,transition:m=ze}]=ai(r);return(0,v.jsx)(Wt.Provider,{value:null,children:(0,v.jsx)(l.Provider,{value:null,children:(0,v.jsx)(m,{in:s,onEnter:o,onEntering:a,onEntered:c,onExit:u,onExiting:h,onExited:d,mountOnEnter:f,unmountOnExit:p,children:(0,v.jsx)(n,Object.assign({},i,{ref:t,hidden:!s,"aria-hidden":!s}))})})})}));li.displayName="TabPanel";const ci=e=>{const{id:n,generateChildId:r,onSelect:i,activeKey:s,defaultActiveKey:o,transition:a,mountOnEnter:c,unmountOnExit:u,children:h}=e,[d,f]=Gr(s,o,i),p=Zr(n),m=(0,t.useMemo)((()=>r||((e,t)=>p?"".concat(p,"-").concat(t,"-").concat(e):null)),[p,r]),g=(0,t.useMemo)((()=>({onSelect:f,activeKey:d,transition:a,mountOnEnter:c||!1,unmountOnExit:u||!1,getControlledId:e=>m(e,"tabpane"),getControllerId:e=>m(e,"tab")})),[f,d,a,c,u,m]);return(0,v.jsx)(Wt.Provider,{value:g,children:(0,v.jsx)(l.Provider,{value:f||null,children:h})})};ci.Panel=li;const ui=ci;function hi(e){return"boolean"===typeof e?e?nt:ze:e}const di=e=>{let{transition:t,...n}=e;return(0,v.jsx)(ui,{...n,transition:hi(t)})};di.displayName="TabContainer";const fi=di,pi=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=I(r,"tab-content"),(0,v.jsx)(i,{ref:t,className:o()(n,r),...s})}));pi.displayName="TabContent";const mi=pi,gi=t.forwardRef(((e,t)=>{let{bsPrefix:n,transition:r,...i}=e;const[{className:s,as:a="div",...c},{isActive:u,onEnter:h,onEntering:d,onEntered:f,onExit:p,onExiting:m,onExited:g,mountOnEnter:y,unmountOnExit:w,transition:b=nt}]=ai({...i,transition:hi(r)}),_=I(n,"tab-pane");return(0,v.jsx)(Wt.Provider,{value:null,children:(0,v.jsx)(l.Provider,{value:null,children:(0,v.jsx)(b,{in:u,onEnter:h,onEntering:d,onEntered:f,onExit:p,onExiting:m,onExited:g,mountOnEnter:y,unmountOnExit:w,children:(0,v.jsx)(a,{...c,ref:t,className:o()(s,_,u&&"active")})})})})}));gi.displayName="TabPane";const vi=gi,yi={eventKey:ut().oneOfType([ut().string,ut().number]),title:ut().node.isRequired,disabled:ut().bool,tabClassName:ut().string,tabAttrs:ut().object},wi=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};wi.propTypes=yi;const bi=Object.assign(wi,{Container:fi,Content:mi,Pane:vi}),_i=e=>{let{title:t,description:n,imgUrl:r}=e;return(0,v.jsx)(Pr,{size:12,sm:6,md:4,children:(0,v.jsxs)("div",{className:"proj-imgbx",children:[(0,v.jsx)("img",{src:r}),(0,v.jsxs)("div",{className:"proj-txtx",children:[(0,v.jsx)("h4",{children:t}),(0,v.jsx)("span",{children:n})]})]})})},Ei=n.p+"static/media/Projects1.8b1de22b882fd7a3fe5a.jpg",Ii=n.p+"static/media/Projects2.8b1de22b882fd7a3fe5a.jpg",Si=n.p+"static/media/Projects3.8b1de22b882fd7a3fe5a.jpg",Ti=()=>{const e=[{title:"Business Startup",description:"Design & Development",imgUrl:Ei},{title:"Business Startup",description:"Design & Development",imgUrl:Ii},{title:"Business Startup",description:"Design & Development",imgUrl:Si},{title:"Business Startup",description:"Design & Development",imgUrl:Ei},{title:"Business Startup",description:"Design & Development",imgUrl:Ii},{title:"Business Startup",description:"Design & Development",imgUrl:Si}];return(0,v.jsxs)("section",{className:"project",id:"projects",children:[(0,v.jsx)(Bt,{children:(0,v.jsx)(Nr,{children:(0,v.jsx)(Pr,{size:12,children:(0,v.jsx)(jr.A,{children:t=>{let{isVisible:n}=t;return(0,v.jsxs)("div",{className:n?"animate__animated animate__fadeIn":"",children:[(0,v.jsx)("h2",{children:"Projects"}),(0,v.jsx)("p",{children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."}),(0,v.jsxs)(bi.Container,{id:"projects-tabs",defaultActiveKey:"first",children:[(0,v.jsxs)(gn,{variant:"pills",className:"nav-pills mb-5 justify-content-center align-items-center",id:"pills-tab",children:[(0,v.jsx)(gn.Item,{children:(0,v.jsx)(gn.Link,{eventKey:"first",children:"Tab 1"})}),(0,v.jsx)(gn.Item,{children:(0,v.jsx)(gn.Link,{eventKey:"second",children:"Tab 2"})}),(0,v.jsx)(gn.Item,{children:(0,v.jsx)(gn.Link,{eventKey:"third",children:"Tab 3"})})]}),(0,v.jsxs)(bi.Content,{id:"slideInUp",className:n?"animate__animated animate__slideInUp":"",children:[(0,v.jsx)(bi.Pane,{eventKey:"first",children:(0,v.jsx)(Nr,{children:e.map(((e,t)=>(0,v.jsx)(_i,{...e},t)))})}),(0,v.jsx)(bi.Pane,{eventKey:"section",children:(0,v.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Cumque quam, quod neque provident velit, rem explicabo excepturi id illo molestiae blanditiis, eligendi dicta officiis asperiores delectus quasi inventore debitis quo."})}),(0,v.jsx)(bi.Pane,{eventKey:"third",children:(0,v.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Cumque quam, quod neque provident velit, rem explicabo excepturi id illo molestiae blanditiis, eligendi dicta officiis asperiores delectus quasi inventore debitis quo."})})]})]})]})}})})})}),(0,v.jsx)("img",{className:"background-image-right",src:Kr})]})};const ki=n.p+"static/media/contact-img.87eac2b29352fa01abb2f9510ef6ac7e.svg",Ci=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},xi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ci(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Ni;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ni extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ai=function(e){return function(e){const t=Ci(e);return xi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Pi=function(e){try{return xi.decodeString(e,!0)}catch(Hx){console.error("base64Decode failed: ",Hx)}return null};function Di(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Di(e[n],t[n]));return e}const Ri=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Oi=()=>{try{return Ri()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/portfolio-website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Hx){return}const t=e&&Pi(e[1]);return t&&JSON.parse(t)})()}catch(Hx){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Hx))}},Li=()=>{var e;return null===(e=Oi())||void 0===e?void 0:e.config};class Mi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Fi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ji(){var e;const t=null===(e=Oi())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Hx){return!1}}function Ui(){return"object"===typeof self&&self.self===self}function Vi(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function zi(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Bi(){const e=Fi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function qi(){return!ji()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ki(){try{return"object"===typeof indexedDB}catch(Hx){return!1}}class Wi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gi.prototype.create)}}class Gi{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Hi,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Wi(n,s,t)}}const Hi=/\{\$([^}]+)}/g;function Qi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ji(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Yi(n)&&Yi(s)){if(!Ji(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Yi(e){return null!==e&&"object"===typeof e}function Xi(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function $i(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Zi(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function es(e,t){const n=new ts(e,t);return n.subscribe.bind(n)}class ts{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ns),void 0===r.error&&(r.error=ns),void 0===r.complete&&(r.complete=ns);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Hx){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Hx){"undefined"!==typeof console&&console.error&&console.error(Hx)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ns(){}function rs(e){return e&&e._delegate?e._delegate:e}class is{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ss="[DEFAULT]";class os{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Mi;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Hx){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Hx){if(r)return null;throw Hx}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch(Hx){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Hx){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ss;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ss;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ss;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ss?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ss;return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class as{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new os(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ls=[];var cs;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(cs||(cs={}));const us={debug:cs.DEBUG,verbose:cs.VERBOSE,info:cs.INFO,warn:cs.WARN,error:cs.ERROR,silent:cs.SILENT},hs=cs.INFO,ds={[cs.DEBUG]:"log",[cs.VERBOSE]:"log",[cs.INFO]:"info",[cs.WARN]:"warn",[cs.ERROR]:"error"},fs=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ds[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class ps{constructor(e){this.name=e,this._logLevel=hs,this._logHandler=fs,this._userLogHandler=null,ls.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in cs))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?us[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cs.DEBUG,...t),this._logHandler(this,cs.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cs.VERBOSE,...t),this._logHandler(this,cs.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cs.INFO,...t),this._logHandler(this,cs.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cs.WARN,...t),this._logHandler(this,cs.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cs.ERROR,...t),this._logHandler(this,cs.ERROR,...t)}}const ms=(e,t)=>t.some((t=>e instanceof t));let gs,vs;const ys=new WeakMap,ws=new WeakMap,bs=new WeakMap,_s=new WeakMap,Es=new WeakMap;let Is={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ws.get(e);if("objectStoreNames"===t)return e.objectStoreNames||bs.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ks(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ss(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vs||(vs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Cs(this),n),ks(ys.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ks(e.apply(Cs(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Cs(this),t,...r);return bs.set(s,t.sort?t.sort():[t]),ks(s)}}function Ts(e){return"function"===typeof e?Ss(e):(e instanceof IDBTransaction&&function(e){if(ws.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));ws.set(e,t)}(e),ms(e,gs||(gs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Is):e)}function ks(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ks(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&ys.set(t,e)})).catch((()=>{})),Es.set(t,e),t}(e);if(_s.has(e))return _s.get(e);const t=Ts(e);return t!==e&&(_s.set(e,t),Es.set(t,e)),t}const Cs=e=>Es.get(e);const xs=["get","getKey","getAll","getAllKeys","count"],Ns=["put","add","delete","clear"],As=new Map;function Ps(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(As.get(t))return As.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ns.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!xs.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return As.set(t,s),s}Is=(e=>({...e,get:(t,n,r)=>Ps(t,n)||e.get(t,n,r),has:(t,n)=>!!Ps(t,n)||e.has(t,n)}))(Is);class Ds{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Rs="@firebase/app",Os="0.10.2",Ls=new ps("@firebase/app"),Ms="@firebase/app-compat",Fs="@firebase/analytics-compat",js="@firebase/analytics",Us="@firebase/app-check-compat",Vs="@firebase/app-check",zs="@firebase/auth",Bs="@firebase/auth-compat",qs="@firebase/database",Ks="@firebase/database-compat",Ws="@firebase/functions",Gs="@firebase/functions-compat",Hs="@firebase/installations",Qs="@firebase/installations-compat",Js="@firebase/messaging",Ys="@firebase/messaging-compat",Xs="@firebase/performance",$s="@firebase/performance-compat",Zs="@firebase/remote-config",eo="@firebase/remote-config-compat",to="@firebase/storage",no="@firebase/storage-compat",ro="@firebase/firestore",io="@firebase/firestore-compat",so="firebase",oo="[DEFAULT]",ao={[Rs]:"fire-core",[Ms]:"fire-core-compat",[js]:"fire-analytics",[Fs]:"fire-analytics-compat",[Vs]:"fire-app-check",[Us]:"fire-app-check-compat",[zs]:"fire-auth",[Bs]:"fire-auth-compat",[qs]:"fire-rtdb",[Ks]:"fire-rtdb-compat",[Ws]:"fire-fn",[Gs]:"fire-fn-compat",[Hs]:"fire-iid",[Qs]:"fire-iid-compat",[Js]:"fire-fcm",[Ys]:"fire-fcm-compat",[Xs]:"fire-perf",[$s]:"fire-perf-compat",[Zs]:"fire-rc",[eo]:"fire-rc-compat",[to]:"fire-gcs",[no]:"fire-gcs-compat",[ro]:"fire-fst",[io]:"fire-fst-compat","fire-js":"fire-js",[so]:"fire-js-all"},lo=new Map,co=new Map,uo=new Map;function ho(e,t){try{e.container.addComponent(t)}catch(Hx){Ls.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Hx)}}function fo(e,t){e.container.addOrOverwriteComponent(t)}function po(e){const t=e.name;if(uo.has(t))return Ls.debug("There were multiple attempts to register component ".concat(t,".")),!1;uo.set(t,e);for(const n of lo.values())ho(n,e);for(const n of co.values())ho(n,e);return!0}function mo(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function go(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oo;mo(e,t).clearInstance(n)}function vo(e){return void 0!==e.options}function yo(e){return void 0!==e.settings}function wo(){uo.clear()}const bo=new Gi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class _o{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new is("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}class Eo extends _o{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,No(Rs,Os,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){xo(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw bo.create("server-app-deleted")}}const Io="10.11.1";function So(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:oo,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw bo.create("bad-app-name",{appName:String(i)});if(n||(n=Li()),!n)throw bo.create("no-options");const s=lo.get(i);if(s){if(Ji(n,s.options)&&Ji(r,s.config))return s;throw bo.create("duplicate-app",{appName:i})}const o=new as(i);for(const l of uo.values())o.addComponent(l);const a=new _o(n,r,o);return lo.set(i,a),a}function To(e,t){if(Ui())throw bo.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=vo(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw bo.create("finalization-registry-not-supported",{});const i=""+(s=JSON.stringify(r),[...s].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var s;const o=co.get(i);if(o)return o.incRefCount(t.releaseOnDeref),o;const a=new as(i);for(const c of uo.values())a.addComponent(c);const l=new Eo(n,t,i,a);return co.set(i,l),l}function ko(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oo;const t=lo.get(e);if(!t&&e===oo&&Li())return So();if(!t)throw bo.create("no-app",{appName:e});return t}function Co(){return Array.from(lo.values())}async function xo(e){let t=!1;const n=e.name;if(lo.has(n))t=!0,lo.delete(n);else if(co.has(n)){e.decRefCount()<=0&&(co.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function No(e,t,n){var r;let i=null!==(r=ao[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ls.warn(e.join(" "))}po(new is("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Ao(e,t){if(null!==e&&"function"!==typeof e)throw bo.create("invalid-log-argument");!function(e,t){for(const n of ls){let r=null;t&&t.level&&(r=us[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:cs[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function Po(e){var t;t=e,ls.forEach((e=>{e.setLogLevel(t)}))}const Do="firebase-heartbeat-database",Ro=1,Oo="firebase-heartbeat-store";let Lo=null;function Mo(){return Lo||(Lo=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=ks(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(ks(o.result),e.oldVersion,e.newVersion,ks(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Do,Ro,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Oo)}catch(Hx){console.warn(Hx)}}}).catch((e=>{throw bo.create("idb-open",{originalErrorMessage:e.message})}))),Lo}async function Fo(e,t){try{const n=(await Mo()).transaction(Oo,"readwrite"),r=n.objectStore(Oo);await r.put(t,jo(e)),await n.done}catch(Hx){if(Hx instanceof Wi)Ls.warn(Hx.message);else{const t=bo.create("idb-set",{originalErrorMessage:null===Hx||void 0===Hx?void 0:Hx.message});Ls.warn(t.message)}}}function jo(e){return"".concat(e.name,"!").concat(e.options.appId)}class Uo{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zo(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Vo();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Vo(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Bo(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bo(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ai(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Vo(){return(new Date).toISOString().substring(0,10)}class zo{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ki()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Mo()).transaction(Oo),n=await t.objectStore(Oo).get(jo(e));return await t.done,n}catch(Hx){if(Hx instanceof Wi)Ls.warn(Hx.message);else{const t=bo.create("idb-get",{originalErrorMessage:null===Hx||void 0===Hx?void 0:Hx.message});Ls.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Fo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Fo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Bo(e){return Ai(JSON.stringify({version:2,heartbeats:e})).length}var qo;qo="",po(new is("platform-logger",(e=>new Ds(e)),"PRIVATE")),po(new is("heartbeat",(e=>new Uo(e)),"PRIVATE")),No(Rs,Os,qo),No(Rs,Os,"esm2017"),No("fire-js","");class Ko{constructor(e,t){this._delegate=e,this.firebase=t,ho(e,new is("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),xo(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oo;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oo;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){ho(this._delegate,e)}_addOrOverwriteComponent(e){fo(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Wo=new Gi("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Go=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=So(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Qi(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:No,setLogLevel:Po,onLog:Ao,apps:null,SDK_VERSION:Io,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(po(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Wo.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Di(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Qi(n,e=e||oo))throw Wo.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Ko);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Di(n,e)},createSubscribe:es,ErrorFactory:Gi,deepExtend:Di}),n}(),Ho=new ps("@firebase/app-compat");if(Ui()&&void 0!==self.firebase){Ho.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Ho.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qo=Go;!function(e){No("@firebase/app-compat","0.2.32",e)}();Qo.registerVersion("firebase","10.11.1","app-compat");function Jo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Yo={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Xo="EMAIL_SIGNIN",$o="PASSWORD_RESET",Zo="RECOVER_EMAIL",ea="REVERT_SECOND_FACTOR_ADDITION",ta="VERIFY_AND_CHANGE_EMAIL",na="VERIFY_EMAIL";function ra(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ia=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},sa=ra,oa=new Gi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),aa=new ps("@firebase/auth");function la(e){if(aa.logLevel<=cs.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];aa.error("Auth (".concat(Io,"): ").concat(e),...n)}}function ca(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw pa(e,...n)}function ua(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return pa(e,...n)}function ha(e,t,n){const r=Object.assign(Object.assign({},sa()),{[t]:n});return new Gi("auth","Firebase",r).create(t,{appName:e.name})}function da(e){return ha(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fa(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ca(e,"argument-error"),ha(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function pa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return oa.create(e,...n)}function ma(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw pa(t,...r)}}function ga(e){const t="INTERNAL ASSERTION FAILED: "+e;throw la(t),new Error(t)}function va(e,t){e||ga(t)}function ya(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function wa(){return"http:"===ba()||"https:"===ba()}function ba(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class _a{constructor(e,t){this.shortDelay=e,this.longDelay=t,va(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fi())||zi()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(wa()||Vi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ea(e,t){va(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ia{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ga("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ga("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ga("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sa={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ta=new _a(3e4,6e4);function ka(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ca(e,t,n,r){return xa(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Xi(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Ia.fetch()(Aa(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function xa(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sa),t);try{const t=new Da(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Ra(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ra(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Ra(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Ra(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ha(e,a,o);ca(e,a)}}catch(Hx){if(Hx instanceof Wi)throw Hx;ca(e,"network-request-failed",{message:String(Hx)})}}async function Na(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Ca(e,t,n,r,i);return"mfaPendingCredential"in s&&ca(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Aa(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ea(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Pa(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Da{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ua(this.auth,"network-request-failed"))),Ta.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ra(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ua(e,t,r);return i.customData._tokenResponse=n,i}function Oa(e){return void 0!==e&&void 0!==e.getResponse}function La(e){return void 0!==e&&void 0!==e.enterprise}class Ma{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Pa(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Fa(e,t){return Ca(e,"GET","/v2/recaptchaConfig",ka(e,t))}async function ja(e,t){return Ca(e,"POST","/v1/accounts:lookup",t)}function Ua(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Hx){}}function Va(e){return 1e3*Number(e)}function za(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return la("JWT malformed, contained fewer than 3 sections"),null;try{const e=Pi(n);return e?JSON.parse(e):(la("Failed to decode base64 JWT payload"),null)}catch(Hx){return la("Caught error parsing JWT payload as JSON",null===Hx||void 0===Hx?void 0:Hx.toString()),null}}function Ba(e){const t=za(e);return ma(t,"internal-error"),ma("undefined"!==typeof t.exp,"internal-error"),ma("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function qa(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Hx){throw Hx instanceof Wi&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Hx)&&e.auth.currentUser===e&&await e.auth.signOut(),Hx}}class Ka{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Hx){return void((null===Hx||void 0===Hx?void 0:Hx.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Wa{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ua(this.lastLoginAt),this.creationTime=Ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ga(e){var t;const n=e.auth,r=await e.getIdToken(),i=await qa(e,ja(n,{idToken:r}));ma(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Ha(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wa(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Ha(e){return e.map((e=>{var{providerId:t}=e,n=Jo(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ma(e.idToken,"internal-error"),ma("undefined"!==typeof e.idToken,"internal-error"),ma("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Ba(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ma(0!==e.length,"internal-error");const t=Ba(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(ma(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await xa(e,{},(async()=>{const n=Xi({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Aa(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Ia.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Qa;return n&&(ma("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(ma("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(ma("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return ga("not implemented")}}function Ja(e,t){ma("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ya{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Jo(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ka(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Wa(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await qa(this,this.stsTokenManager.getToken(this.auth,e));return ma(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=rs(e),r=await n.getIdToken(t),i=za(r);ma(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ua(Va(i.auth_time)),issuedAtTime:Ua(Va(i.iat)),expirationTime:Ua(Va(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=rs(e);await Ga(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ma(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ya(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ma(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ga(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yo(this.auth.app))return Promise.reject(da(this.auth));const e=await this.getIdToken();return await qa(this,async function(e,t){return Ca(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;ma(y&&E,e,"internal-error");const I=Qa.fromJSON(this.name,E);ma("string"===typeof y,e,"internal-error"),Ja(u,e.name),Ja(h,e.name),ma("boolean"===typeof w,e,"internal-error"),ma("boolean"===typeof b,e,"internal-error"),Ja(d,e.name),Ja(f,e.name),Ja(p,e.name),Ja(m,e.name),Ja(g,e.name),Ja(v,e.name);const S=new Ya({uid:y,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Qa;r.updateFromServerResponse(t);const i=new Ya({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ga(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];ma(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Ha(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new Qa;o.updateFromIdToken(n);const a=new Ya({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Wa(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const Xa=new Map;function $a(e){va(e instanceof Function,"Expected a class definition");let t=Xa.get(e);return t?(va(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Xa.set(e,t),t)}class Za{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Za.type="NONE";const el=Za;function tl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class nl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=tl(this.userKey,r.apiKey,i),this.fullPersistenceKey=tl("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ya._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new nl($a(el),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||$a(el);const s=tl(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Ya._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new nl(i,e,n)):new nl(i,e,n)}}function rl(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(al(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(il(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cl(t))return"Blackberry";if(ul(t))return"Webos";if(sl(t))return"Safari";if((t.includes("chrome/")||ol(t))&&!t.includes("edge/"))return"Chrome";if(ll(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function il(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return/firefox\//i.test(e)}function sl(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ol(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return/crios\//i.test(e)}function al(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return/iemobile/i.test(e)}function ll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return/android/i.test(e)}function cl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return/blackberry/i.test(e)}function ul(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return/webos/i.test(e)}function hl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function dl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return hl(e)||ll(e)||ul(e)||cl(e)||/windows phone/i.test(e)||al(e)}function fl(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=rl(Fi());break;case"Worker":t="".concat(rl(Fi()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Io,"/").concat(r)}class pl{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Hx){r(Hx)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Hx){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Hx||void 0===Hx?void 0:Hx.message})}}}class ml{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class gl{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yl(this),this.idTokenSubscription=new yl(this),this.beforeStateQueue=new pl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oa,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$a(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Hx){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ja(this,{idToken:e}),n=await Ya._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yo(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Hx){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Hx)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ma(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Hx){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ga(e)}catch(Hx){if((null===Hx||void 0===Hx?void 0:Hx.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yo(this.app))return Promise.reject(da(this));const t=e?rs(e):null;return t&&ma(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ma(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return yo(this.app)?Promise.reject(da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yo(this.app)?Promise.reject(da(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence($a(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ca(e,"GET","/v2/passwordPolicy",ka(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ml(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gi("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ca(e,"POST","/v2/accounts:revokeToken",ka(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$a(e)||this._popupRedirectResolver;ma(t,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[$a(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ma(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ma(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(aa.logLevel<=cs.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];aa.warn("Auth (".concat(Io,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function vl(e){return rs(e)}class yl{constructor(e){this.auth=e,this.observer=null,this.addObserver=es((e=>this.observer=e))}get next(){return ma(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bl(e){return wl.loadJS(e)}function _l(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class El{constructor(e){this.type="recaptcha-enterprise",this.auth=vl(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;La(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Fa(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Ma(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&La(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=wl.recaptchaEnterpriseScript;0!==t.length&&(t+=i),bl(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Il(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new El(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Sl(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Il(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Il(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Tl(e,t,n){const r=vl(e);ma(r._canInitEmulator,r,"emulator-config-failed"),ma(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=kl(t),{host:o,port:a}=function(e){const t=kl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Cl(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Cl(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function kl(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Cl(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class xl{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ga("not implemented")}_getIdTokenResponse(e){return ga("not implemented")}_linkToIdToken(e,t){return ga("not implemented")}_getReauthenticationResolver(e){return ga("not implemented")}}async function Nl(e,t){return Ca(e,"POST","/v1/accounts:resetPassword",ka(e,t))}async function Al(e,t){return Ca(e,"POST","/v1/accounts:signUp",t)}async function Pl(e,t){return Na(e,"POST","/v1/accounts:signInWithPassword",ka(e,t))}async function Dl(e,t){return Ca(e,"POST","/v1/accounts:sendOobCode",ka(e,t))}async function Rl(e,t){return Dl(e,t)}async function Ol(e,t){return Dl(e,t)}class Ll extends xl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ll(e,t,"password")}static _fromEmailAndCode(e,t){return new Ll(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Sl(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Pl);case"emailLink":return async function(e,t){return Na(e,"POST","/v1/accounts:signInWithEmailLink",ka(e,t))}(e,{email:this._email,oobCode:this._password});default:ca(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Sl(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Al);case"emailLink":return async function(e,t){return Na(e,"POST","/v1/accounts:signInWithEmailLink",ka(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ca(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ml(e,t){return Na(e,"POST","/v1/accounts:signInWithIdp",ka(e,t))}class Fl extends xl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ca("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Jo(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Fl(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ml(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ml(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ml(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Xi(t)}return e}}const jl={USER_NOT_FOUND:"user-not-found"};class Ul extends xl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ul({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ul({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Na(e,"POST","/v1/accounts:signInWithPhoneNumber",ka(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Na(e,"POST","/v1/accounts:signInWithPhoneNumber",ka(e,t));if(n.temporaryProof)throw Ra(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Na(e,"POST","/v1/accounts:signInWithPhoneNumber",ka(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),jl)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ul({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Vl{constructor(e){var t,n,r,i,s,o;const a=$i(Zi(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);ma(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=$i(Zi(e)).link,n=t?$i(Zi(t)).deep_link_id:null,r=$i(Zi(e)).deep_link_id;return(r?$i(Zi(r)).link:null)||r||n||t||e}(e);try{return new Vl(t)}catch(n){return null}}}class zl{constructor(){this.providerId=zl.PROVIDER_ID}static credential(e,t){return Ll._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Vl.parseLink(t);return ma(n,"argument-error"),Ll._fromEmailAndCode(e,n.code,n.tenantId)}}zl.PROVIDER_ID="password",zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password",zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Bl{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ql extends Bl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Kl extends ql{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return ma("providerId"in t&&"signInMethod"in t,"argument-error"),Fl._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ma(e.idToken||e.accessToken,"argument-error"),Fl._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Kl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Kl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new Kl(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(Hx){return null}}}class Wl extends ql{constructor(){super("facebook.com")}static credential(e){return Fl._fromParams({providerId:Wl.PROVIDER_ID,signInMethod:Wl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wl.credentialFromTaggedObject(e)}static credentialFromError(e){return Wl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Wl.credential(t.oauthAccessToken)}catch(n){return null}}}Wl.FACEBOOK_SIGN_IN_METHOD="facebook.com",Wl.PROVIDER_ID="facebook.com";class Gl extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fl._fromParams({providerId:Gl.PROVIDER_ID,signInMethod:Gl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Gl.credentialFromTaggedObject(e)}static credentialFromError(e){return Gl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Gl.credential(n,r)}catch(i){return null}}}Gl.GOOGLE_SIGN_IN_METHOD="google.com",Gl.PROVIDER_ID="google.com";class Hl extends ql{constructor(){super("github.com")}static credential(e){return Fl._fromParams({providerId:Hl.PROVIDER_ID,signInMethod:Hl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hl.credentialFromTaggedObject(e)}static credentialFromError(e){return Hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Hl.credential(t.oauthAccessToken)}catch(n){return null}}}Hl.GITHUB_SIGN_IN_METHOD="github.com",Hl.PROVIDER_ID="github.com";class Ql extends xl{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ml(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ml(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ml(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Ql(n,i):null}static _create(e,t){return new Ql(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Jl extends Bl{constructor(e){ma(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Jl.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Jl.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Ql.fromJSON(e);return ma(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Ql._create(r,n)}catch(Hx){return null}}}class Yl extends ql{constructor(){super("twitter.com")}static credential(e,t){return Fl._fromParams({providerId:Yl.PROVIDER_ID,signInMethod:Yl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yl.credentialFromTaggedObject(e)}static credentialFromError(e){return Yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Yl.credential(n,r)}catch(i){return null}}}async function Xl(e,t){return Na(e,"POST","/v1/accounts:signUp",ka(e,t))}Yl.TWITTER_SIGN_IN_METHOD="twitter.com",Yl.PROVIDER_ID="twitter.com";class $l{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ya._fromIdTokenResponse(e,n,r),s=Zl(n);return new $l({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Zl(n);return new $l({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Zl(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ec extends Wi{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ec.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ec(e,t,n,r)}}function tc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ec._fromErrorAndOperation(e,n,t,r);throw n}))}function nc(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function rc(e,t){const n=rs(e);await sc(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Ca(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=nc(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function ic(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await qa(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return $l._forOperation(e,"link",r)}async function sc(e,t,n){await Ga(t);const r=!1===e?"provider-already-linked":"no-such-provider";ma(nc(t.providerData).has(n)===e,t.auth,r)}async function oc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(yo(r.app))return Promise.reject(da(r));const i="reauthenticate";try{const s=await qa(e,tc(r,i,t,e),n);ma(s.idToken,r,"internal-error");const o=za(s.idToken);ma(o,r,"internal-error");const{sub:a}=o;return ma(e.uid===a,r,"user-mismatch"),$l._forOperation(e,i,s)}catch(Hx){throw(null===Hx||void 0===Hx?void 0:Hx.code)==="auth/".concat("user-not-found")&&ca(r,"user-mismatch"),Hx}}async function ac(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(yo(e.app))return Promise.reject(da(e));const r="signIn",i=await tc(e,r,t),s=await $l._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function lc(e,t){return ac(vl(e),t)}async function cc(e,t){const n=rs(e);return await sc(!1,n,t.providerId),ic(n,t)}async function uc(e,t){return oc(rs(e),t)}async function hc(e,t){if(yo(e.app))return Promise.reject(da(e));const n=vl(e),r=await async function(e,t){return Na(e,"POST","/v1/accounts:signInWithCustomToken",ka(e,t))}(n,{token:t,returnSecureToken:!0}),i=await $l._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class dc{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?fc._fromServerResponse(e,t):"totpInfo"in t?pc._fromServerResponse(e,t):ca(e,"internal-error")}}class fc extends dc{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new fc(t)}}class pc extends dc{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new pc(t)}}function mc(e,t,n){var r;ma((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ma("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ma(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ma(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function gc(e){const t=vl(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function vc(e,t){await async function(e,t){return Ca(e,"POST","/v1/accounts:update",ka(e,t))}(rs(e),{oobCode:t})}async function yc(e,t){const n=rs(e),r=await Nl(n,{oobCode:t}),i=r.requestType;switch(ma(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ma(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ma(r.mfaInfo,n,"internal-error");default:ma(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=dc._fromServerResponse(vl(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function wc(e,t){const n={identifier:t,continueUri:wa()?ya():"http://localhost"},{signinMethods:r}=await async function(e,t){return Ca(e,"POST","/v1/accounts:createAuthUri",ka(e,t))}(rs(e),n);return r||[]}async function bc(e,t){const n=rs(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&mc(n.auth,r,t);const{email:i}=await async function(e,t){return Dl(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function _c(e,t,n){const r=rs(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&mc(r.auth,i,n);const{email:s}=await async function(e,t){return Dl(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function Ec(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=rs(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await qa(i,async function(e,t){return Ca(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function Ic(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await qa(e,async function(e,t){return Ca(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class Sc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Tc extends Sc{constructor(e,t,n,r){super(e,t,n),this.username=r}}class kc extends Sc{constructor(e,t){super(e,"facebook.com",t)}}class Cc extends Tc{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class xc extends Sc{constructor(e,t){super(e,"google.com",t)}}class Nc extends Tc{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Ac(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=za(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Sc(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new kc(s,i);case"github.com":return new Cc(s,i);case"google.com":return new xc(s,i);case"twitter.com":return new Nc(s,i,e.screenName||null);case"custom":case"anonymous":return new Sc(s,null);default:return new Sc(s,r,i)}}(n)}class Pc{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Pc("enroll",e,t)}static _fromMfaPendingCredential(e){return new Pc("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Pc._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Pc._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Dc{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=vl(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>dc._fromServerResponse(n,e)));ma(r.mfaPendingCredential,n,"internal-error");const s=Pc._fromMfaPendingCredential(r.mfaPendingCredential);return new Dc(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await $l._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return ma(t.user,n,"internal-error"),$l._forOperation(t.user,t.operationType,o);default:ca(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Rc{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>dc._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Rc(e)}async getSession(){return Pc._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await qa(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await qa(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},Ca(r,"POST","/v2/accounts/mfaEnrollment:withdraw",ka(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(Hx){throw Hx}var r,i}}const Oc=new WeakMap;const Lc="__sak";class Mc{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Fc extends Mc{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Fi();return sl(e)||hl(e)}()&&function(){try{return!(!window||window===window.top)}catch(Hx){return!1}}(),this.fallbackToPolling=dl(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Bi()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Fc.type="LOCAL";const jc=Fc;class Uc extends Mc{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Uc.type="SESSION";const Vc=Uc;class zc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new zc(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Bc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}zc.receivers=[];class qc{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=Bc("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Kc(){return window}function Wc(){return"undefined"!==typeof Kc().WorkerGlobalScope&&"function"===typeof Kc().importScripts}const Gc="firebaseLocalStorageDb",Hc="firebaseLocalStorage",Qc="fbase_key";class Jc{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Yc(e,t){return e.transaction([Hc],t?"readwrite":"readonly").objectStore(Hc)}function Xc(){const e=indexedDB.open(Gc,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Hc,{keyPath:Qc})}catch(Hx){n(Hx)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Hc)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Gc);return new Jc(e).toPromise()}(),t(await Xc()))}))}))}async function $c(e,t,n){const r=Yc(e,!0).put({[Qc]:t,value:n});return new Jc(r).toPromise()}function Zc(e,t){const n=Yc(e,!0).delete(t);return new Jc(n).toPromise()}class eu{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Xc()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Hx){if(t++>3)throw Hx;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zc._getInstance(Wc()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new qc(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xc();return await $c(e,Lc,"1"),await Zc(e,Lc),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>$c(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Yc(e,!1).get(t),r=await new Jc(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Zc(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Yc(e,!1).getAll();return new Jc(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}eu.type="LOCAL";const tu=eu;const nu=1e12;class ru{constructor(e){this.auth=e,this.counter=nu,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new iu(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||nu;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||nu;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||nu;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class iu{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;ma(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(Hx){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(Hx){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const su=_l("rcb"),ou=new _a(3e4,6e4);class au{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Kc().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ma(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Oa(Kc().grecaptcha)?Promise.resolve(Kc().grecaptcha):new Promise(((n,r)=>{const i=Kc().setTimeout((()=>{r(ua(e,"network-request-failed"))}),ou.get());Kc()[su]=()=>{Kc().clearTimeout(i),delete Kc()[su];const s=Kc().grecaptcha;if(!s||!Oa(s))return void r(ua(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};bl("".concat(wl.recaptchaV2Script,"?").concat(Xi({onload:su,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(ua(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Kc().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class lu{async load(e){return new ru(e)}clearedOneInstance(){}}const cu="recaptcha",uu={theme:"light",type:"image"};class hu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},uu);this.parameters=n,this.type=cu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vl(e),this.isInvisible="invisible"===this.parameters.size,ma("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;ma(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new lu:new au,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(Hx){return Promise.reject(Hx)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){ma(!this.parameters.sitekey,this.auth,"argument-error"),ma(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ma("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Kc()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){ma(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ma(wa()&&!Wc(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Ca(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);ma(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ma(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class du{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ul._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function fu(e,t,n){var r;const i=await n.verify();try{let s;if(ma("string"===typeof i,e,"argument-error"),ma(n.type===cu,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){ma("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ca(e,"POST","/v2/accounts/mfaEnrollment:start",ka(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{ma("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;ma(n,e,"missing-multi-factor-info");const o=await function(e,t){return Ca(e,"POST","/v2/accounts/mfaSignIn:start",ka(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ca(e,"POST","/v1/accounts:sendVerificationCode",ka(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class pu{constructor(e){this.providerId=pu.PROVIDER_ID,this.auth=vl(e)}verifyPhoneNumber(e,t){return fu(this.auth,e,rs(t))}static credential(e,t){return Ul._fromVerification(e,t)}static credentialFromResult(e){const t=e;return pu.credentialFromTaggedObject(t)}static credentialFromError(e){return pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ul._fromTokenResponse(n,r):null}}function mu(e,t){return t?$a(t):(ma(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}pu.PROVIDER_ID="phone",pu.PHONE_SIGN_IN_METHOD="phone";class gu extends xl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ml(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ml(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vu(e){return ac(e.auth,new gu(e),e.bypassAuthState)}function yu(e){const{auth:t,user:n}=e;return ma(n,t,"internal-error"),oc(n,new gu(e),e.bypassAuthState)}async function wu(e){const{auth:t,user:n}=e;return ma(n,t,"internal-error"),ic(n,new gu(e),e.bypassAuthState)}class bu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Hx){this.reject(Hx)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(Hx){this.reject(Hx)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vu;case"linkViaPopup":case"linkViaRedirect":return wu;case"reauthViaPopup":case"reauthViaRedirect":return yu;default:ca(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _u=new _a(2e3,1e4);class Eu extends bu{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Eu.currentPopupAction&&Eu.currentPopupAction.cancel(),Eu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ma(e,this.auth,"internal-error"),e}async onExecution(){va(1===this.filter.length,"Popup operations only handle one event");const e=Bc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ua(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ua(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ua(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,_u.get())};e()}}Eu.currentPopupAction=null;const Iu="pendingRedirect",Su=new Map;class Tu extends bu{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Su.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Nu(t),r=xu(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(Hx){e=()=>Promise.reject(Hx)}Su.set(this.auth._key(),e)}return this.bypassAuthState||Su.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function ku(e,t){return xu(e)._set(Nu(t),"true")}function Cu(e,t){Su.set(e._key(),t)}function xu(e){return $a(e._redirectPersistence)}function Nu(e){return tl(Iu,e.config.apiKey,e.name)}function Au(e,t,n){return async function(e,t,n){if(yo(e.app))return Promise.reject(da(e));const r=vl(e);fa(e,t,Bl),await r._initializationPromise;const i=mu(r,n);return await ku(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Pu(e,t,n){return async function(e,t,n){const r=rs(e);if(fa(r.auth,t,Bl),yo(r.auth.app))return Promise.reject(da(r.auth));await r.auth._initializationPromise;const i=mu(r.auth,n);await ku(i,r.auth);const s=await Ou(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Du(e,t,n){return async function(e,t,n){const r=rs(e);fa(r.auth,t,Bl),await r.auth._initializationPromise;const i=mu(r.auth,n);await sc(!1,r,t.providerId),await ku(i,r.auth);const s=await Ou(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function Ru(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(yo(e.app))return Promise.reject(da(e));const r=vl(e),i=mu(r,t),s=new Tu(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function Ou(e){const t=Bc("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Lu{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Fu(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ua(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mu(e))}saveEventToCache(e){this.cachedEventUids.add(Mu(e)),this.lastProcessedEventTime=Date.now()}}function Mu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Fu(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function ju(e){return Ca(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Uu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vu=/^https?/;function zu(e){const t=ya(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Vu.test(n))return!1;if(Uu.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Bu=new _a(3e4,6e4);function qu(){const e=Kc().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ku(e){return new Promise(((t,n)=>{var r,i,s;function o(){qu(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qu(),n(ua(e,"network-request-failed"))},timeout:Bu.get()})}if(null===(i=null===(r=Kc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Kc().gapi)||void 0===s?void 0:s.load)){const t=_l("iframefcb");return Kc()[t]=()=>{gapi.load?o():n(ua(e,"network-request-failed"))},bl("".concat(wl.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw Wu=null,e}))}let Wu=null;const Gu=new _a(5e3,15e3),Hu="__/auth/iframe",Qu="emulator/auth/iframe",Ju={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xu(e){const t=e.config;ma(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ea(t,Qu):"https://".concat(e.config.authDomain,"/").concat(Hu),r={apiKey:t.apiKey,appName:e.name,v:Io},i=Yu.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Xi(r).slice(1))}async function $u(e){const t=await function(e){return Wu=Wu||Ku(e),Wu}(e),n=Kc().gapi;return ma(n,e,"internal-error"),t.open({where:document.body,url:Xu(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ju,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ua(e,"network-request-failed"),s=Kc().setTimeout((()=>{r(i)}),Gu.get());function o(){Kc().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const Zu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class eh{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Hx){}}}function th(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Zu),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Fi().toLowerCase();n&&(a=ol(c)?"_blank":n),il(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return hl(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new eh(null);const h=window.open(t||"",a,u);ma(h,e,"popup-blocked");try{h.focus()}catch(Hx){}return new eh(h)}const nh="__/auth/handler",rh="emulator/auth/handler",ih=encodeURIComponent("fac");async function sh(e,t,n,r,i,s){ma(e.config.authDomain,e,"auth-domain-config-required"),ma(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Io,eventId:i};if(t instanceof Bl){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof ql){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ih,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(nh);return Ea(t,rh)}(e),"?").concat(Xi(a).slice(1)).concat(c)}const oh="webStorageSupport";const ah=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vc,this._completeRedirectFn=Ru,this._overrideRedirectResult=Cu}async _openPopup(e,t,n,r){var i;va(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return th(e,await sh(e,t,n,ya(),r),Bc())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Kc().location.href=e}(await sh(e,t,n,ya(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(va(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await $u(e),n=new Lu(e);return t.register("authEvent",(t=>{ma(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(oh,{type:oh},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[oh];void 0!==i&&t(!!i),ca(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ju(e);for(const r of t)try{if(zu(r))return}catch(n){}ca(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dl()||sl()||hl()}};class lh{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ga("unexpected MultiFactorSessionType")}}}class ch extends lh{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ch(e)}_finalizeEnroll(e,t,n){return function(e,t){return Ca(e,"POST","/v2/accounts/mfaEnrollment:finalize",ka(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Ca(e,"POST","/v2/accounts/mfaSignIn:finalize",ka(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class uh{constructor(){}static assertion(e){return ch._fromCredential(e)}}uh.FACTOR_ID="phone";var hh="@firebase/auth",dh="1.7.2";class fh{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ma(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Oi())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var ph;function mh(){return window}!function(e){wl=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ua("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),ph="Browser",po(new is("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ma(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:ph,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fl(ph)},c=new gl(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map($a);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),po(new is("auth-internal",(e=>(e=>new fh(e))(vl(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),No(hh,dh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ph)),No(hh,dh,"esm2017");async function gh(e,t,n){var r;const{BuildInfo:i}=mh();va(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(va(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return hl()?o.ibi=i.packageName:ll()?o.apn=i.packageName:ca(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,sh(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function vh(e){const{cordova:t}=mh();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const yh=20;class wh extends Lu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function bh(e){const t=await Ih()._get(Sh(e));return t&&await Ih()._remove(Sh(e)),t}function _h(e,t){var n,r;const i=function(e){const t=Th(e),n=t.link?decodeURIComponent(t.link):void 0,r=Th(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Th(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Th(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(Hx){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?ua(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Eh(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<yh;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Ih(){return $a(jc)}function Sh(e){return tl("authEvent",e.config.apiKey,e.name)}function Th(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return $i(n.join("?"))}const kh=class{constructor(){this._redirectPersistence=Vc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ru,this._overrideRedirectResult=Cu}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new wh(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){ca(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,l,c,u;const h=mh();ma("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ma("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ma("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ma("function"===typeof(null===(l=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ma("function"===typeof(null===(u=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Su.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Eh(),postBody:null,tenantId:e.tenantId,error:ua(e,"no-auth-event")}}(e,n,r);await function(e,t){return Ih()._set(Sh(e),t)}(e,s);const o=await gh(e,s,t);return async function(e,t,n){const{cordova:r}=mh();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{o(ua(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),ll()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await vh(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=mh(),n={};hl()?n.iosBundleId=t.packageName:ll()?n.androidPackageName=t.packageName:ca(e,"operation-not-supported-in-this-environment"),await ju(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=mh(),s=setTimeout((async()=>{await bh(e),t.onEvent(Ch())}),500),o=async n=>{clearTimeout(s);const r=await bh(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=_h(r,n.url)),t.onEvent(i||Ch())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,l="".concat(i.packageName.toLowerCase(),"://");mh().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"===typeof a)try{a(e)}catch(Hx){console.error(Hx)}}}};function Ch(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ua("no-auth-event")}}function xh(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Nh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return!("file:"!==xh()&&"ionic:"!==xh()&&"capacitor:"!==xh()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ah(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return Bi()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return/Edge\/\d+/.test(e)}(e)}function Ph(){try{const e=self.localStorage,t=Bc();if(e)return e.setItem(t,"1"),e.removeItem(t),!Ah()||Ki()}catch(Hx){return Dh()&&Ki()}return!1}function Dh(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Rh(){return("http:"===xh()||"https:"===xh()||Vi()||Nh())&&!(zi()||ji())&&Ph()&&!Dh()}function Oh(){return Nh()&&"undefined"!==typeof document}const Lh={LOCAL:"local",NONE:"none",SESSION:"session"},Mh=ma,Fh="persistence";async function jh(e){await e._initializationPromise;const t=Uh(),n=tl(Fh,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Uh(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(Hx){return null}}const Vh=ma;class zh{constructor(){this.browserResolver=$a(ah),this.cordovaResolver=$a(kh),this.underlyingResolver=null,this._redirectPersistence=Vc,this._completeRedirectFn=Ru,this._overrideRedirectResult=Cu}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Oh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vh(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Oh()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Bh(e){return e.unwrap()}function qh(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Hh(e,function(e,t){var n;const r=rs(e),i=t;return ma(t.customData.operationType,r,"argument-error"),ma(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Dc._fromError(r,i)}(e,t))}else if(r){const e=Kh(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Kh(e){const{_tokenResponse:t}=e instanceof Wi?e.customData:e;if(!t)return null;if(!(e instanceof Wi)&&"temporaryProof"in t&&"phoneNumber"in t)return pu.credentialFromResult(e);const n=t.providerId;if(!n||n===Yo.PASSWORD)return null;let r;switch(n){case Yo.GOOGLE:r=Gl;break;case Yo.FACEBOOK:r=Wl;break;case Yo.GITHUB:r=Hl;break;case Yo.TWITTER:r=Yl;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?Ql._create(n,o):Fl._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new Kl(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof Wi?r.credentialFromError(e):r.credentialFromResult(e)}function Wh(e,t){return t.catch((t=>{throw t instanceof Wi&&qh(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Kh(r)),additionalUserInfo:Ac(e),user:Qh.getOrCreate(n)};var r}))}async function Gh(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Wh(e,n.confirm(t))}}class Hh{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Wh(Bh(this.auth),this.resolver.resolveSignIn(e))}}class Qh{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=rs(e);return Oc.has(t)||Oc.set(t,Rc._fromUser(t)),Oc.get(t)}(e)}static getOrCreate(e){return Qh.USER_MAP.has(e)||Qh.USER_MAP.set(e,new Qh(e)),Qh.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Wh(this.auth,cc(this._delegate,e))}async linkWithPhoneNumber(e,t){return Gh(this.auth,async function(e,t,n){const r=rs(e);await sc(!1,r,"phone");const i=await fu(r.auth,t,rs(n));return new du(i,(e=>cc(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Wh(this.auth,async function(e,t,n){const r=rs(e);fa(r.auth,t,Bl);const i=mu(r.auth,n);return new Eu(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,zh))}async linkWithRedirect(e){return await jh(vl(this.auth)),Du(this._delegate,e,zh)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Wh(this.auth,uc(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Gh(this.auth,async function(e,t,n){const r=rs(e);if(yo(r.auth.app))return Promise.reject(da(r.auth));const i=await fu(r.auth,t,rs(n));return new du(i,(e=>uc(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Wh(this.auth,async function(e,t,n){const r=rs(e);if(yo(r.auth.app))return Promise.reject(ua(r.auth,"operation-not-supported-in-this-environment"));fa(r.auth,t,Bl);const i=mu(r.auth,n);return new Eu(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,zh))}async reauthenticateWithRedirect(e){return await jh(vl(this.auth)),Pu(this._delegate,e,zh)}sendEmailVerification(e){return bc(this._delegate,e)}async unlink(e){return await rc(this._delegate,e),this}updateEmail(e){return function(e,t){const n=rs(e);return yo(n.auth.app)?Promise.reject(da(n.auth)):Ic(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Ic(rs(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=rs(e);if(yo(n.auth.app))return Promise.reject(da(n.auth));await ic(n,t)}(this._delegate,e)}updateProfile(e){return Ec(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return _c(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qh.USER_MAP=new WeakMap;const Jh=ma;class Yh{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Jh(n,"invalid-api-key",{appName:e.name}),Jh(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?zh:void 0;this._delegate=t.initialize({options:{persistence:$h(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(ia),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qh.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Tl(this._delegate,e,t)}applyActionCode(e){return vc(this._delegate,e)}checkActionCode(e){return yc(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Nl(rs(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&gc(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Wh(this._delegate,async function(e,t,n){if(yo(e.app))return Promise.reject(da(e));const r=vl(e),i=Sl(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xl),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&gc(e),t})),o=await $l._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return wc(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Vl.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Jh(Rh(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await vl(e)._initializationPromise,Ru(e,t,!1)}(this._delegate,zh);return e?Wh(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){vl(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Xh(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Xh(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=vl(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){ma(t.handleCodeInApp,r,"argument-error"),t&&mc(r,e,t)}(i,n),await Sl(r,i,"getOobCode",Ol)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=vl(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&mc(r,i,n),await Sl(r,i,"getOobCode",Rl)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Mh(Object.values(Lh).includes(t),e,"invalid-persistence-type"),zi()?Mh(t!==Lh.SESSION,e,"unsupported-persistence-type"):ji()?Mh(t===Lh.NONE,e,"unsupported-persistence-type"):Dh()?Mh(t===Lh.NONE||t===Lh.LOCAL&&Ki(),e,"unsupported-persistence-type"):Mh(t===Lh.NONE||Ph(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Lh.SESSION:t=Vc;break;case Lh.LOCAL:t=await $a(tu)._isAvailable()?tu:jc;break;case Lh.NONE:t=el;break;default:return ca("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Wh(this._delegate,async function(e){var t;if(yo(e.app))return Promise.reject(da(e));const n=vl(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new $l({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Xl(n,{returnSecureToken:!0}),i=await $l._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Wh(this._delegate,lc(this._delegate,e))}signInWithCustomToken(e){return Wh(this._delegate,hc(this._delegate,e))}signInWithEmailAndPassword(e,t){return Wh(this._delegate,function(e,t,n){return yo(e.app)?Promise.reject(da(e)):lc(rs(e),zl.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&gc(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Wh(this._delegate,async function(e,t,n){if(yo(e.app))return Promise.reject(da(e));const r=rs(e),i=zl.credentialWithLink(t,n||ya());return ma(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),lc(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Gh(this._delegate,async function(e,t,n){if(yo(e.app))return Promise.reject(da(e));const r=vl(e),i=await fu(r,t,rs(n));return new du(i,(e=>lc(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Jh(Rh(),this._delegate,"operation-not-supported-in-this-environment"),Wh(this._delegate,async function(e,t,n){if(yo(e.app))return Promise.reject(ua(e,"operation-not-supported-in-this-environment"));const r=vl(e);fa(e,t,Bl);const i=mu(r,n);return new Eu(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,zh))}async signInWithRedirect(e){return Jh(Rh(),this._delegate,"operation-not-supported-in-this-environment"),await jh(this._delegate),Au(this._delegate,e,zh)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await yc(rs(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Xh(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Qh.getOrCreate(e)),error:t,complete:n}}function $h(e,t){const n=function(e,t){const n=Uh();if(!n)return[];const r=tl(Fh,e,t);switch(n.getItem(r)){case Lh.NONE:return[el];case Lh.LOCAL:return[tu,Vc];case Lh.SESSION:return[Vc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(tu)||n.push(tu),"undefined"!==typeof window)for(const r of[jc,Vc])n.includes(r)||n.push(r);return n.includes(el)||n.push(el),n}Yh.Persistence=Lh;class Zh{constructor(){this.providerId="phone",this._delegate=new pu(Bh(Qo.auth()))}static credential(e,t){return pu.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Zh.PHONE_SIGN_IN_METHOD=pu.PHONE_SIGN_IN_METHOD,Zh.PROVIDER_ID=pu.PROVIDER_ID;const ed=ma;class td{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qo.app();var r;ed(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new hu(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var nd;(nd=Qo).INTERNAL.registerComponent(new is("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Yh(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Xo,PASSWORD_RESET:$o,RECOVER_EMAIL:Zo,REVERT_SECOND_FACTOR_ADDITION:ea,VERIFY_AND_CHANGE_EMAIL:ta,VERIFY_EMAIL:na}},EmailAuthProvider:zl,FacebookAuthProvider:Wl,GithubAuthProvider:Hl,GoogleAuthProvider:Gl,OAuthProvider:Kl,SAMLAuthProvider:Jl,PhoneAuthProvider:Zh,PhoneMultiFactorGenerator:uh,RecaptchaVerifier:td,TwitterAuthProvider:Yl,Auth:Yh,AuthCredential:xl,Error:Wi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),nd.registerVersion("@firebase/auth-compat","0.5.7");var rd,id="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},sd={},od=od||{},ad=id||self;function ld(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function cd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ud="closure_uid_"+(1e9*Math.random()>>>0),hd=0;function dd(e,t,n){return e.call.apply(e.bind,arguments)}function fd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function pd(e,t,n){return(pd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dd:fd).apply(null,arguments)}function md(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function gd(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function vd(){this.s=this.s,this.o=this.o}vd.prototype.s=!1,vd.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ud)&&e[ud]||(e[ud]=++hd))},vd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function wd(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function bd(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(ld(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function _d(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}_d.prototype.h=function(){this.defaultPrevented=!0};var Ed=function(){if(!ad.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};ad.addEventListener("test",e,t),ad.removeEventListener("test",e,t)}catch(n){}return e}();function Id(e){return/^[\s\xa0]*$/.test(e)}function Sd(){var e=ad.navigator;return e&&(e=e.userAgent)?e:""}function Td(e){return-1!=Sd().indexOf(e)}function kd(e){return kd[" "](e),e}kd[" "]=function(){};var Cd,xd,Nd=Td("Opera"),Ad=Td("Trident")||Td("MSIE"),Pd=Td("Edge"),Dd=Pd||Ad,Rd=Td("Gecko")&&!(-1!=Sd().toLowerCase().indexOf("webkit")&&!Td("Edge"))&&!(Td("Trident")||Td("MSIE"))&&!Td("Edge"),Od=-1!=Sd().toLowerCase().indexOf("webkit")&&!Td("Edge");function Ld(){var e=ad.document;return e?e.documentMode:void 0}e:{var Md="",Fd=function(){var e=Sd();return Rd?/rv:([^\);]+)(\)|;)/.exec(e):Pd?/Edge\/([\d\.]+)/.exec(e):Ad?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Od?/WebKit\/(\S+)/.exec(e):Nd?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Fd&&(Md=Fd?Fd[1]:""),Ad){var jd=Ld();if(null!=jd&&jd>parseFloat(Md)){Cd=String(jd);break e}}Cd=Md}if(ad.document&&Ad){var Ud=Ld();xd=Ud||(parseInt(Cd,10)||void 0)}else xd=void 0;var Vd=xd;function zd(e,t){if(_d.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Rd){e:{try{kd(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Bd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&zd.$.h.call(this)}}gd(zd,_d);var Bd={2:"touch",3:"pen",4:"mouse"};zd.prototype.h=function(){zd.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var qd="closure_listenable_"+(1e6*Math.random()|0),Kd=0;function Wd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Kd,this.fa=this.ia=!1}function Gd(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Hd(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Qd(e){const t={};for(const n in e)t[n]=e[n];return t}const Jd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yd(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Jd.length;t++)n=Jd[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Xd(e){this.src=e,this.g={},this.h=0}function $d(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=yd(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Gd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Zd(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Xd.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Zd(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Wd(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var ef="closure_lm_"+(1e6*Math.random()|0),tf={};function nf(e,t,n,r,i){if(r&&r.once)return sf(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)nf(e,t[s],n,r,i);return null}return n=df(n),e&&e[qd]?e.O(t,n,cd(r)?!!r.capture:!!r,i):rf(e,t,n,!1,r,i)}function rf(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=cd(i)?!!i.capture:!!i,a=uf(e);if(a||(e[ef]=a=new Xd(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=cf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ed||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(lf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function sf(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)sf(e,t[s],n,r,i);return null}return n=df(n),e&&e[qd]?e.P(t,n,cd(r)?!!r.capture:!!r,i):rf(e,t,n,!0,r,i)}function of(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)of(e,t[s],n,r,i);else r=cd(r)?!!r.capture:!!r,n=df(n),e&&e[qd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Zd(s=e.g[t],n,r,i))&&(Gd(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=uf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Zd(t,n,r,i)),(n=-1<e?t[e]:null)&&af(n))}function af(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[qd])$d(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(lf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=uf(t))?($d(n,e),0==n.h&&(n.src=null,t[ef]=null)):Gd(e)}}}function lf(e){return e in tf?tf[e]:tf[e]="on"+e}function cf(e,t){if(e.fa)e=!0;else{t=new zd(t,this);var n=e.listener,r=e.la||e.src;e.ia&&af(e),e=n.call(r,t)}return e}function uf(e){return(e=e[ef])instanceof Xd?e:null}var hf="__closure_events_fn_"+(1e9*Math.random()>>>0);function df(e){return"function"===typeof e?e:(e[hf]||(e[hf]=function(t){return e.handleEvent(t)}),e[hf])}function ff(){vd.call(this),this.i=new Xd(this),this.S=this,this.J=null}function pf(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new _d(t,e);else if(t instanceof _d)t.target=t.target||e;else{var i=t;Yd(t=new _d(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=mf(o,r,!0,t)&&i}if(i=mf(o=t.g=e,r,!0,t)&&i,i=mf(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=mf(o=t.g=n[s],r,!1,t)&&i}function mf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&$d(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}gd(ff,vd),ff.prototype[qd]=!0,ff.prototype.removeEventListener=function(e,t,n,r){of(this,e,t,n,r)},ff.prototype.N=function(){if(ff.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Gd(n[r]);delete t.g[e],t.h--}}this.J=null},ff.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ff.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var gf=ad.JSON.stringify;function vf(){var e=Sf;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var yf=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new wf),(e=>e.reset()));class wf{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function bf(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _f(e){ad.setTimeout((()=>{throw e}),0)}let Ef,If=!1,Sf=new class{constructor(){this.h=this.g=null}add(e,t){const n=yf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Tf=()=>{const e=ad.Promise.resolve(void 0);Ef=()=>{e.then(kf)}};var kf=()=>{for(var e;e=vf();){try{e.h.call(e.g)}catch(n){_f(n)}var t=yf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}If=!1};function Cf(e,t){ff.call(this),this.h=e||1,this.g=t||ad,this.j=pd(this.qb,this),this.l=Date.now()}function xf(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Nf(e,t,n){if("function"===typeof e)n&&(e=pd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=pd(e.handleEvent,e)}return 2147483647<Number(t)?-1:ad.setTimeout(e,t||0)}function Af(e){e.g=Nf((()=>{e.g=null,e.i&&(e.i=!1,Af(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}gd(Cf,ff),(rd=Cf.prototype).ga=!1,rd.T=null,rd.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),pf(this,"tick"),this.ga&&(xf(this),this.start()))}},rd.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rd.N=function(){Cf.$.N.call(this),xf(this),delete this.g};class Pf extends vd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Af(this)}N(){super.N(),this.g&&(ad.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Df(e){vd.call(this),this.h=e,this.g={}}gd(Df,vd);var Rf=[];function Of(e,t,n,r){Array.isArray(n)||(n&&(Rf[0]=n.toString()),n=Rf);for(var i=0;i<n.length;i++){var s=nf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Lf(e){Hd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&af(e)}),e),e.g={}}function Mf(){this.g=!0}function Ff(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return gf(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Df.prototype.N=function(){Df.$.N.call(this),Lf(this)},Df.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mf.prototype.Ea=function(){this.g=!1},Mf.prototype.info=function(){};var jf={},Uf=null;function Vf(){return Uf=Uf||new ff}function zf(e){_d.call(this,jf.Ta,e)}function Bf(e){const t=Vf();pf(t,new zf(t))}function qf(e,t){_d.call(this,jf.STAT_EVENT,e),this.stat=t}function Kf(e){const t=Vf();pf(t,new qf(t,e))}function Wf(e,t){_d.call(this,jf.Ua,e),this.size=t}function Gf(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ad.setTimeout((function(){e()}),t)}jf.Ta="serverreachability",gd(zf,_d),jf.STAT_EVENT="statevent",gd(qf,_d),jf.Ua="timingevent",gd(Wf,_d);var Hf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qf={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Jf(){}function Yf(e){return e.h||(e.h=e.i())}function Xf(){}Jf.prototype.h=null;var $f,Zf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ep(){_d.call(this,"d")}function tp(){_d.call(this,"c")}function np(){}function rp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Df(this),this.P=sp,e=Dd?125:void 0,this.V=new Cf(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ip}function ip(){this.i=null,this.g="",this.h=!1}gd(ep,_d),gd(tp,_d),gd(np,Jf),np.prototype.g=function(){return new XMLHttpRequest},np.prototype.i=function(){return{}},$f=new np;var sp=45e3,op={},ap={};function lp(e,t,n){e.L=1,e.A=Cp(Ep(t)),e.u=n,e.S=!0,cp(e,null)}function cp(e,t){e.G=Date.now(),fp(e),e.B=Ep(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Vp(n.i,"t",r),e.o=0,n=e.l.J,e.h=new ip,e.g=zm(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Pf(pd(e.Pa,e,e.g),e.O)),Of(e.U,e.g,"readystatechange",e.nb),t=e.I?Qd(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Bf(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function up(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function hp(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=dp(e,n),r==ap){4==t&&(e.s=4,Kf(14),i=!1),Ff(e.j,e.m,null,"[Incomplete Response]");break}if(r==op){e.s=4,Kf(15),Ff(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ff(e.j,e.m,r,null),yp(e,r)}up(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Kf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rm(t),t.M=!0,Kf(11))):(Ff(e.j,e.m,n,"[Invalid Chunked Response]"),vp(e),gp(e))}function dp(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?ap:(n=Number(t.substring(n,r)),isNaN(n)?op:(r+=1)+n>t.length?ap:(t=t.slice(r,r+n),e.o=r+n,t))}function fp(e){e.Y=Date.now()+e.P,pp(e,e.P)}function pp(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Gf(pd(e.lb,e),t)}function mp(e){e.C&&(ad.clearTimeout(e.C),e.C=null)}function gp(e){0==e.l.H||e.J||Mm(e.l,e)}function vp(e){mp(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,xf(e.V),Lf(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function yp(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Hp(n.i,e)))if(!e.K&&Hp(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Lm(n),Tm(n)}Dm(n),Kf(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Gf(pd(n.ib,n),6e3));if(1>=Gp(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else jm(n,11)}else if((e.K||n.g==e)&&Lm(n),!Id(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Qp(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,kp(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=Vm(r,r.J?r.pa:null,r.Y),o.K){Jp(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(mp(a),fp(a)),r.g=o}else Pm(r);0<n.j.length&&Cm(n)}else"stop"!=c[0]&&"close"!=c[0]||jm(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?jm(n,7):Sm(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Bf()}catch(c){}}function wp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ld(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ld(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ld(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(rd=rp.prototype).setTimeout=function(e){this.P=e},rd.nb=function(e){e=e.target;const t=this.M;t&&3==ym(e)?t.l():this.Pa(e)},rd.Pa=function(e){try{if(e==this.g)e:{const u=ym(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Dd||this.g&&(this.h.h||this.g.ja()||wm(this.g)))){this.J||4!=u||7==t||Bf(),mp(this);var n=this.g.da();this.ca=n;t:if(up(this)){var r=wm(this.g);e="";var i=r.length,s=4==ym(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){vp(this),gp(this);var o="";break t}this.h.i=new ad.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Id(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Kf(12),vp(this),gp(this);break e}Ff(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yp(this,n)}this.S?(hp(this,u,o),Dd&&this.i&&3==u&&(Of(this.U,this.V,"tick",this.mb),this.V.start())):(Ff(this.j,this.m,o,null),yp(this,o)),4==u&&vp(this),this.i&&!this.J&&(4==u?Mm(this.l,this):(this.i=!1,fp(this)))}else(function(e){const t={};e=(e.g&&2<=ym(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Id(e[r]))continue;var n=bf(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Kf(12)):(this.s=0,Kf(13)),vp(this),gp(this)}}}catch(u){}},rd.mb=function(){if(this.g){var e=ym(this.g),t=this.g.ja();this.o<t.length&&(mp(this),hp(this,e,t),this.i&&4!=e&&fp(this))}},rd.cancel=function(){this.J=!0,vp(this)},rd.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Bf(),Kf(17)),vp(this),this.s=2,gp(this)):pp(this,this.Y-e)};var bp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _p(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof _p){this.h=e.h,Ip(this,e.j),this.s=e.s,this.g=e.g,Sp(this,e.m),this.l=e.l;var t=e.i,n=new Mp;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Tp(this,n),this.o=e.o}else e&&(t=String(e).match(bp))?(this.h=!1,Ip(this,t[1]||"",!0),this.s=xp(t[2]||""),this.g=xp(t[3]||"",!0),Sp(this,t[4]),this.l=xp(t[5]||"",!0),Tp(this,t[6]||"",!0),this.o=xp(t[7]||"")):(this.h=!1,this.i=new Mp(null,this.h))}function Ep(e){return new _p(e)}function Ip(e,t,n){e.j=n?xp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Sp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Tp(e,t,n){t instanceof Mp?(e.i=t,function(e,t){t&&!e.j&&(Fp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(jp(this,t),Vp(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Np(t,Op)),e.i=new Mp(t,e.h))}function kp(e,t,n){e.i.set(t,n)}function Cp(e){return kp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function xp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Np(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ap),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ap(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}_p.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Np(t,Pp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Np(t,Pp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Np(n,"/"==n.charAt(0)?Rp:Dp,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Np(n,Lp)),e.join("")};var Pp=/[#\/\?@]/g,Dp=/[#\?:]/g,Rp=/[#\?]/g,Op=/[#\?@]/g,Lp=/#/g;function Mp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Fp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function jp(e,t){Fp(e),t=zp(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Up(e,t){return Fp(e),t=zp(e,t),e.g.has(t)}function Vp(e,t,n){jp(e,t),0<n.length&&(e.i=null,e.g.set(zp(e,t),wd(n)),e.h+=n.length)}function zp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(rd=Mp.prototype).add=function(e,t){Fp(this),this.i=null,e=zp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},rd.forEach=function(e,t){Fp(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},rd.ta=function(){Fp(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},rd.Z=function(e){Fp(this);let t=[];if("string"===typeof e)Up(this,e)&&(t=t.concat(this.g.get(zp(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},rd.set=function(e,t){return Fp(this),this.i=null,Up(this,e=zp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},rd.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},rd.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var Bp=class{constructor(e,t){this.g=e,this.map=t}};function qp(e){this.l=e||Kp,ad.PerformanceNavigationTiming?e=0<(e=ad.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ad.g&&ad.g.Ka&&ad.g.Ka()&&ad.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Kp=10;function Wp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Gp(e){return e.h?1:e.g?e.g.size:0}function Hp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qp(e,t){e.g?e.g.add(t):e.h=t}function Jp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Yp(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return wd(e.i)}qp.prototype.cancel=function(){if(this.i=Yp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Xp,$p=class{stringify(e){return ad.JSON.stringify(e,void 0)}parse(e){return ad.JSON.parse(e,void 0)}};function Zp(){this.g=new $p}function em(e,t,n){const r=n||"";try{wp(e,(function(e,n){let i=e;cd(e)&&(i=gf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Hx){throw t.push(r+"type="+encodeURIComponent("_badmap")),Hx}}function tm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function nm(e){this.l=e.ec||null,this.j=e.ob||!1}function rm(e,t){ff.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=im,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gd(nm,Jf),nm.prototype.g=function(){return new rm(this.l,this.j)},nm.prototype.i=(Xp={},function(){return Xp}),gd(rm,ff);var im=0;function sm(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function om(e){e.readyState=4,e.l=null,e.j=null,e.A=null,am(e)}function am(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(rd=rm.prototype).open=function(e,t){if(this.readyState!=im)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,am(this)},rd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ad).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},rd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,om(this)),this.readyState=im},rd.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,am(this)),this.g&&(this.readyState=3,am(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ad.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sm(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},rd.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?om(this):am(this),3==this.readyState&&sm(this)}},rd.Za=function(e){this.g&&(this.response=this.responseText=e,om(this))},rd.Ya=function(e){this.g&&(this.response=e,om(this))},rd.ka=function(){this.g&&om(this)},rd.setRequestHeader=function(e,t){this.v.append(e,t)},rd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},rd.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(rm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var lm=ad.JSON.parse;function cm(e){ff.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=um,this.L=this.M=!1}gd(cm,ff);var um="",hm=/^https?$/i,dm=["POST","PUT"];function fm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,pm(e),gm(e)}function pm(e){e.F||(e.F=!0,pf(e,"complete"),pf(e,"error"))}function mm(e){if(e.h&&"undefined"!=typeof od&&(!e.C[1]||4!=ym(e)||2!=e.da()))if(e.v&&4==ym(e))Nf(e.La,0,e);else if(pf(e,"readystatechange"),4==ym(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(bp)[1]||null;!i&&ad.self&&ad.self.location&&(i=ad.self.location.protocol.slice(0,-1)),r=!hm.test(i?i.toLowerCase():"")}n=r}if(n)pf(e,"complete"),pf(e,"success");else{e.m=6;try{var s=2<ym(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",pm(e)}}finally{gm(e)}}}function gm(e,t){if(e.g){vm(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||pf(e,"ready");try{n.onreadystatechange=r}catch(Hx){}}}function vm(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ad.clearTimeout(e.A),e.A=null)}function ym(e){return e.g?e.g.readyState:0}function wm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case um:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(kg){return null}}function bm(e){let t="";return Hd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function _m(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=bm(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):kp(e,t,n))}function Em(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Im(e){this.Ga=0,this.j=[],this.l=new Mf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Em("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Em("baseRetryDelayMs",5e3,e),this.hb=Em("retryDelaySeedMs",1e4,e),this.eb=Em("forwardChannelMaxRetries",2,e),this.xa=Em("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new qp(e&&e.concurrentRequestLimit),this.Ja=new Zp,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Sm(e){if(km(e),3==e.H){var t=e.W++,n=Ep(e.I);if(kp(n,"SID",e.K),kp(n,"RID",t),kp(n,"TYPE","terminate"),Nm(e,n),(t=new rp(e,e.l,t)).L=2,t.A=Cp(Ep(n)),n=!1,ad.navigator&&ad.navigator.sendBeacon)try{n=ad.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&ad.Image&&((new Image).src=t.A,n=!0),n||(t.g=zm(t.l,null),t.g.ha(t.A)),t.G=Date.now(),fp(t)}Um(e)}function Tm(e){e.g&&(Rm(e),e.g.cancel(),e.g=null)}function km(e){Tm(e),e.u&&(ad.clearTimeout(e.u),e.u=null),Lm(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ad.clearTimeout(e.m),e.m=null)}function Cm(e){if(!Wp(e.i)&&!e.m){e.m=!0;var t=e.Na;Ef||Tf(),If||(Ef(),If=!0),Sf.add(t,e),e.C=0}}function xm(e,t){var n;n=t?t.m:e.W++;const r=Ep(e.I);kp(r,"SID",e.K),kp(r,"RID",n),kp(r,"AID",e.V),Nm(e,r),e.o&&e.s&&_m(r,e.o,e.s),n=new rp(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Am(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Qp(e.i,n),lp(n,r,t)}function Nm(e,t){e.na&&Hd(e.na,(function(e,n){kp(t,n,e)})),e.h&&wp({},(function(e,n){kp(t,n,e)}))}function Am(e,t,n){n=Math.min(e.j.length,n);var r=e.h?pd(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{em(a,e,"req"+n+"_")}catch(qv){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Pm(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ef||Tf(),If||(Ef(),If=!0),Sf.add(t,e),e.A=0}}function Dm(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Gf(pd(e.Ma,e),Fm(e,e.A)),e.A++,!0)}function Rm(e){null!=e.B&&(ad.clearTimeout(e.B),e.B=null)}function Om(e){e.g=new rp(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ep(e.wa);kp(t,"RID","rpc"),kp(t,"SID",e.K),kp(t,"AID",e.V),kp(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&kp(t,"TO",e.qa),kp(t,"TYPE","xmlhttp"),Nm(e,t),e.o&&e.s&&_m(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Cp(Ep(t)),n.u=null,n.S=!0,cp(n,e)}function Lm(e){null!=e.v&&(ad.clearTimeout(e.v),e.v=null)}function Mm(e,t){var n=null;if(e.g==t){Lm(e),Rm(e),e.g=null;var r=2}else{if(!Hp(e.i,t))return;n=t.F,Jp(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;pf(r=Vf(),new Wf(r,n)),Cm(e)}else Pm(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Gp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Gf(pd(e.Na,e,t),Fm(e,e.C)),e.C++,!0))}(e,t)||2==r&&Dm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:jm(e,5);break;case 4:jm(e,10);break;case 3:jm(e,6);break;default:jm(e,2)}}function Fm(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function jm(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=pd(e.pb,e);n||(n=new _p("//www.google.com/images/cleardot.gif"),ad.location&&"http"==ad.location.protocol||Ip(n,"https"),Cp(n)),function(e,t){const n=new Mf;if(ad.Image){const r=new Image;r.onload=md(tm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=md(tm,n,r,"TestLoadImage: error",!1,t),r.onabort=md(tm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=md(tm,n,r,"TestLoadImage: timeout",!1,t),ad.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Kf(2);e.H=0,e.h&&e.h.za(t),Um(e),km(e)}function Um(e){if(e.H=0,e.ma=[],e.h){const t=Yp(e.i);0==t.length&&0==e.j.length||(bd(e.ma,t),bd(e.ma,e.j),e.i.i.length=0,wd(e.j),e.j.length=0),e.h.ya()}}function Vm(e,t,n){var r=n instanceof _p?Ep(n):new _p(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Sp(r,r.m);else{var i=ad.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new _p(null);r&&Ip(s,r),t&&(s.g=t),i&&Sp(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&kp(r,n,t),kp(r,"VER",e.ra),Nm(e,r),r}function zm(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new cm(new nm({ob:n})):new cm(e.va)).Oa(e.J),t}function Bm(){}function qm(){if(Ad&&!(10<=Number(Vd)))throw Error("Environmental error: no available transport.")}function Km(e,t){ff.call(this),this.g=new Im(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Id(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Id(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Hm(this)}function Wm(e){ep.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Gm(){tp.call(this),this.status=1}function Hm(e){this.g=e}function Qm(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Jm(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Ym(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(rd=cm.prototype).Oa=function(e){this.M=e},rd.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$f.g(),this.C=this.u?Yf(this.u):Yf($f),this.g.onreadystatechange=pd(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void fm(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=ad.FormData&&e instanceof ad.FormData,!(0<=yd(dm,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{vm(this),0<this.B&&((this.L=function(e){return Ad&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pd(this.ua,this)):this.A=Nf(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){fm(this,s)}},rd.ua=function(){"undefined"!=typeof od&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pf(this,"timeout"),this.abort(8))},rd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,pf(this,"complete"),pf(this,"abort"),gm(this))},rd.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gm(this,!0)),cm.$.N.call(this)},rd.La=function(){this.s||(this.G||this.v||this.l?mm(this):this.kb())},rd.kb=function(){mm(this)},rd.isActive=function(){return!!this.g},rd.da=function(){try{return 2<ym(this)?this.g.status:-1}catch(Xp){return-1}},rd.ja=function(){try{return this.g?this.g.responseText:""}catch(Xp){return""}},rd.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),lm(t)}},rd.Ia=function(){return this.m},rd.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(rd=Im.prototype).ra=8,rd.H=1,rd.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new rp(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Qd(s),Yd(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Am(this,i,t),kp(n=Ep(this.I),"RID",e),kp(n,"CVER",22),this.F&&kp(n,"X-HTTP-Session-Id",this.F),Nm(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(bm(s)))+"&"+t:this.o&&_m(n,this.o,s)),Qp(this.i,i),this.bb&&kp(n,"TYPE","init"),this.P?(kp(n,"$req",t),kp(n,"SID","null"),i.aa=!0,lp(i,n,null)):lp(i,n,t),this.H=2}}else 3==this.H&&(e?xm(this,e):0==this.j.length||Wp(this.i)||xm(this))},rd.Ma=function(){if(this.u=null,Om(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Gf(pd(this.jb,this),e)}},rd.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Kf(10),Tm(this),Om(this))},rd.ib=function(){null!=this.v&&(this.v=null,Tm(this),Dm(this),Kf(19))},rd.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Kf(2)):(this.l.info("Failed to ping google.com"),Kf(1))},rd.isActive=function(){return!!this.h&&this.h.isActive(this)},(rd=Bm.prototype).Ba=function(){},rd.Aa=function(){},rd.za=function(){},rd.ya=function(){},rd.isActive=function(){return!0},rd.Va=function(){},qm.prototype.g=function(e,t){return new Km(e,t)},gd(Km,ff),Km.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Kf(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Vm(e,null,e.Y),Cm(e)},Km.prototype.close=function(){Sm(this.g)},Km.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=gf(e),e=n);t.j.push(new Bp(t.fb++,e)),3==t.H&&Cm(t)},Km.prototype.N=function(){this.g.h=null,delete this.j,Sm(this.g),delete this.g,Km.$.N.call(this)},gd(Wm,ep),gd(Gm,tp),gd(Hm,Bm),Hm.prototype.Ba=function(){pf(this.g,"a")},Hm.prototype.Aa=function(e){pf(this.g,new Wm(e))},Hm.prototype.za=function(e){pf(this.g,new Gm)},Hm.prototype.ya=function(){pf(this.g,"b")},gd(Qm,(function(){this.blockSize=-1})),Qm.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qm.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Jm(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Jm(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Jm(this,r),i=0;break}}this.h=i,this.i+=t},Qm.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Xm={};function $m(e){return-128<=e&&128>e?function(e,t){var n=Xm;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Ym([0|e],0>e?-1:0)})):new Ym([0|e],0>e?-1:0)}function Zm(e){if(isNaN(e)||!isFinite(e))return tg;if(0>e)return og(Zm(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=eg;return new Ym(t,0)}var eg=4294967296,tg=$m(0),ng=$m(1),rg=$m(16777216);function ig(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function sg(e){return-1==e.h}function og(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ym(n,~e.h).add(ng)}function ag(e,t){return e.add(og(t))}function lg(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function cg(e,t){this.g=e,this.h=t}function ug(e,t){if(ig(t))throw Error("division by zero");if(ig(e))return new cg(tg,tg);if(sg(e))return t=ug(og(e),t),new cg(og(t.g),og(t.h));if(sg(t))return t=ug(e,og(t)),new cg(og(t.g),t.h);if(30<e.g.length){if(sg(e)||sg(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ng,r=t;0>=r.X(e);)n=hg(n),r=hg(r);var i=dg(n,1),s=dg(r,1);for(r=dg(r,2),n=dg(n,2);!ig(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=dg(r,1),n=dg(n,1)}return t=ag(e,i.R(t)),new cg(i,t)}for(i=tg;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Zm(n)).R(t);sg(o)||0<o.X(e);)o=(s=Zm(n-=r)).R(t);ig(s)&&(s=ng),i=i.add(s),e=ag(e,o)}return new cg(i,e)}function hg(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ym(n,e.h)}function dg(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Ym(i,e.h)}(rd=Ym.prototype).ea=function(){if(sg(this))return-og(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:eg+r)*t,t*=eg}return e},rd.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(ig(this))return"0";if(sg(this))return"-"+og(this).toString(e);for(var t=Zm(Math.pow(e,6)),n=this,r="";;){var i=ug(n,t).g,s=((0<(n=ag(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(ig(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},rd.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},rd.X=function(e){return sg(e=ag(this,e))?-1:ig(e)?0:1},rd.abs=function(){return sg(this)?og(this):this},rd.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ym(n,-2147483648&n[n.length-1]?-1:0)},rd.R=function(e){if(ig(this)||ig(e))return tg;if(sg(this))return sg(e)?og(this).R(og(e)):og(og(this).R(e));if(sg(e))return og(this.R(og(e)));if(0>this.X(rg)&&0>e.X(rg))return Zm(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,lg(n,2*r+2*i),n[2*r+2*i+1]+=s*l,lg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,lg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,lg(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ym(n,0)},rd.gb=function(e){return ug(this,e).h},rd.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ym(n,this.h&e.h)},rd.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ym(n,this.h|e.h)},rd.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ym(n,this.h^e.h)},qm.prototype.createWebChannel=qm.prototype.g,Km.prototype.send=Km.prototype.u,Km.prototype.open=Km.prototype.m,Km.prototype.close=Km.prototype.close,Hf.NO_ERROR=0,Hf.TIMEOUT=8,Hf.HTTP_ERROR=6,Qf.COMPLETE="complete",Xf.EventType=Zf,Zf.OPEN="a",Zf.CLOSE="b",Zf.ERROR="c",Zf.MESSAGE="d",ff.prototype.listen=ff.prototype.O,cm.prototype.listenOnce=cm.prototype.P,cm.prototype.getLastError=cm.prototype.Sa,cm.prototype.getLastErrorCode=cm.prototype.Ia,cm.prototype.getStatus=cm.prototype.da,cm.prototype.getResponseJson=cm.prototype.Wa,cm.prototype.getResponseText=cm.prototype.ja,cm.prototype.send=cm.prototype.ha,cm.prototype.setWithCredentials=cm.prototype.Oa,Qm.prototype.digest=Qm.prototype.l,Qm.prototype.reset=Qm.prototype.reset,Qm.prototype.update=Qm.prototype.j,Ym.prototype.add=Ym.prototype.add,Ym.prototype.multiply=Ym.prototype.R,Ym.prototype.modulo=Ym.prototype.gb,Ym.prototype.compare=Ym.prototype.X,Ym.prototype.toNumber=Ym.prototype.ea,Ym.prototype.toString=Ym.prototype.toString,Ym.prototype.getBits=Ym.prototype.D,Ym.fromNumber=Zm,Ym.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return og(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Zm(Math.pow(n,8)),i=tg,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Zm(Math.pow(n,o)),i=i.R(o).add(Zm(a))):i=(i=i.R(r)).add(Zm(a))}return i};var fg=sd.createWebChannelTransport=function(){return new qm},pg=sd.getStatEventTarget=function(){return Vf()},mg=sd.ErrorCode=Hf,gg=sd.EventType=Qf,vg=sd.Event=jf,yg=sd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wg=sd.FetchXmlHttpFactory=nm,bg=sd.WebChannel=Xf,_g=sd.XhrIo=cm,Eg=sd.Md5=Qm,Ig=sd.Integer=Ym;const Sg="@firebase/firestore";class Tg{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tg.UNAUTHENTICATED=new Tg(null),Tg.GOOGLE_CREDENTIALS=new Tg("google-credentials-uid"),Tg.FIRST_PARTY=new Tg("first-party-uid"),Tg.MOCK_USER=new Tg("mock-user");let kg="10.11.1";const Cg=new ps("@firebase/firestore");function xg(){return Cg.logLevel}function Ng(e){if(Cg.logLevel<=cs.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Dg);Cg.debug("Firestore (".concat(kg,"): ").concat(e),...i)}}function Ag(e){if(Cg.logLevel<=cs.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Dg);Cg.error("Firestore (".concat(kg,"): ").concat(e),...i)}}function Pg(e){if(Cg.logLevel<=cs.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Dg);Cg.warn("Firestore (".concat(kg,"): ").concat(e),...i)}}function Dg(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Rg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(kg,") INTERNAL ASSERTION FAILED: ")+e;throw Ag(t),new Error(t)}function Og(e,t){e||Rg()}function Lg(e,t){return e}const Mg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fg extends Wi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class jg{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ug{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Vg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Tg.UNAUTHENTICATED)))}shutdown(){}}class zg{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Bg{constructor(e){this.t=e,this.currentUser=Tg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new jg;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new jg,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Ng("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Ng("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new jg)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ng("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Og("string"==typeof t.accessToken),new Ug(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Og(null===e||"string"==typeof e),new Tg(e)}}class qg{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Tg.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Kg{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new qg(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Tg.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gg{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Ng("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Ng("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ng("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ng("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Og("string"==typeof e.token),this.R=e.token,new Wg(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Hg(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Qg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Hg(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Jg(e,t){return e<t?-1:e>t?1:0}function Yg(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Xg(e){return e+"\0"}class $g{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fg(Mg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fg(Mg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fg(Mg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fg(Mg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $g.fromMillis(Date.now())}static fromDate(e){return $g.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new $g(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jg(this.nanoseconds,e.nanoseconds):Jg(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zg{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zg(e)}static min(){return new Zg(new $g(0,0))}static max(){return new Zg(new $g(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ev{constructor(e,t,n){void 0===t?t=0:t>e.length&&Rg(),void 0===n?n=e.length-t:n>e.length-t&&Rg(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ev.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ev?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tv extends ev{construct(e,t,n){return new tv(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new tv(e)}static emptyPath(){return new tv([])}}const nv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rv extends ev{construct(e,t,n){return new rv(e,t,n)}static isValidIdentifier(e){return nv.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rv.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rv(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Fg(Mg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Fg(Mg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Fg(Mg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rv(t)}static emptyPath(){return new rv([])}}class iv{constructor(e){this.path=e}static fromPath(e){return new iv(tv.fromString(e))}static fromName(e){return new iv(tv.fromString(e).popFirst(5))}static empty(){return new iv(tv.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tv.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tv.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new iv(new tv(e.slice()))}}class sv{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function ov(e){return e.fields.find((e=>2===e.kind))}function av(e){return e.fields.filter((e=>2!==e.kind))}sv.UNKNOWN_ID=-1;class lv{constructor(e,t){this.fieldPath=e,this.kind=t}}class cv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new cv(0,dv.min())}}function uv(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Zg.fromTimestamp(1e9===r?new $g(n+1,0):new $g(n,r));return new dv(i,iv.empty(),t)}function hv(e){return new dv(e.readTime,e.key,-1)}class dv{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new dv(Zg.min(),iv.empty(),-1)}static max(){return new dv(Zg.max(),iv.empty(),-1)}}function fv(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=iv.comparator(e.documentKey,t.documentKey),0!==n?n:Jg(e.largestBatchId,t.largestBatchId))}const pv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function gv(e){if(e.code!==Mg.FAILED_PRECONDITION||e.message!==pv)throw e;Ng("LocalStore","Unexpectedly lost primary lease")}class vv{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Rg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new vv(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof vv?t:vv.resolve(t)}catch(e){return vv.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):vv.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):vv.reject(t)}static resolve(e){return new vv(((t,n)=>{t(e)}))}static reject(e){return new vv(((t,n)=>{n(e)}))}static waitFor(e){return new vv(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=vv.resolve(!1);for(const n of e)t=t.next((e=>e?vv.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new vv(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new vv(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class yv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new jg,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Ev(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Cv(t.target.error);this.V.reject(new Ev(e,n))}}static open(e,t,n,r){try{return new yv(t,e.transaction(r,n))}catch(e){throw new Ev(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ng("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Sv(t)}}class wv{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===wv.S(Fi())&&Ag("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ng("SimpleDb","Removing database:",e),Tv(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ki())return!1;if(wv.C())return!0;const e=Fi(),t=wv.S(e),n=0<t&&t<10,r=bv(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(Ng("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Ev(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Fg(Mg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Fg(Mg.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Ev(e,r))},r.onupgradeneeded=e=>{Ng("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Ng("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.M(e);const t=yv.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),vv.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Ng("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function bv(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class _v{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Tv(this.B.delete())}}class Ev extends Fg{constructor(e,t){super(Mg.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Iv(e){return"IndexedDbTransactionError"===e.name}class Sv{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Ng("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ng("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Tv(n)}add(e){return Ng("SimpleDb","ADD",this.store.name,e,e),Tv(this.store.add(e))}get(e){return Tv(this.store.get(e)).next((t=>(void 0===t&&(t=null),Ng("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Ng("SimpleDb","DELETE",this.store.name,e),Tv(this.store.delete(e))}count(){return Ng("SimpleDb","COUNT",this.store.name),Tv(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new vv(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new vv(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){Ng("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new vv(((n,r)=>{t.onerror=e=>{const t=Cv(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new vv(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new _v(i),o=t(i.primaryKey,i.value,s);if(o instanceof vv){const e=o.catch((e=>(s.done(),vv.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>vv.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Tv(e){return new vv(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Cv(e.target.error);n(t)}}))}let kv=!1;function Cv(e){const t=wv.S(Fi());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Fg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return kv||(kv=!0,setTimeout((()=>{throw e}),0)),e}}return e}class xv{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){Ng("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Ng("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){Iv(e)?Ng("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await gv(e)}await this.X(6e4)}))}}class Nv{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return vv.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Ng("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(Ng("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=hv(t);fv(r,n)>0&&(n=r)})),new dv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Av{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Pv(e){return null==e}function Dv(e){return 0===e&&1/e==-1/0}function Rv(e){return"number"==typeof e&&Number.isInteger(e)&&!Dv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Ov(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Mv(t)),t=Lv(e.get(n),t);return Mv(t)}function Lv(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Mv(e){return e+"\x01\x01"}function Fv(e){const t=e.length;if(Og(t>=2),2===t)return Og("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),tv.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Rg(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Rg()}s=t+2}return new tv(r)}Av.oe=-1;const jv=["userId","batchId"];function Uv(e,t){return[e,Ov(t)]}function Vv(e,t,n){return[e,Ov(t),n]}const zv={},Bv=["prefixPath","collectionGroup","readTime","documentId"],qv=["prefixPath","collectionGroup","documentId"],Kv=["collectionGroup","readTime","prefixPath","documentId"],Wv=["canonicalId","targetId"],Gv=["targetId","path"],Hv=["path","targetId"],Qv=["collectionId","parent"],Jv=["indexId","uid"],Yv=["uid","sequenceNumber"],Xv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$v=["indexId","uid","orderedDocumentKey"],Zv=["userId","collectionPath","documentId"],ey=["userId","collectionPath","largestBatchId"],ty=["userId","collectionGroup","largestBatchId"],ny=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ry=[...ny,"documentOverlays"],iy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sy=iy,oy=[...sy,"indexConfiguration","indexState","indexEntries"],ay=oy;class ly extends mv{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function cy(e,t){const n=Lg(e);return wv.F(n._e,t)}function uy(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hy(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function dy(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class fy{constructor(e,t){this.comparator=e,this.root=t||my.EMPTY}insert(e,t){return new fy(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,my.BLACK,null,null))}remove(e){return new fy(this.comparator,this.root.remove(e,this.comparator).copy(null,null,my.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new py(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new py(this.root,e,this.comparator,!1)}getReverseIterator(){return new py(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new py(this.root,e,this.comparator,!0)}}class py{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class my{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:my.RED,this.left=null!=r?r:my.EMPTY,this.right=null!=i?i:my.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new my(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return my.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return my.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,my.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,my.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rg();if(this.right.isRed())throw Rg();const e=this.left.check();if(e!==this.right.check())throw Rg();return e+(this.isRed()?0:1)}}my.EMPTY=null,my.RED=!0,my.BLACK=!1,my.EMPTY=new class{constructor(){this.size=0}get key(){throw Rg()}get value(){throw Rg()}get color(){throw Rg()}get left(){throw Rg()}get right(){throw Rg()}copy(e,t,n,r,i){return this}insert(e,t,n){return new my(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gy{constructor(e){this.comparator=e,this.data=new fy(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vy(this.data.getIterator())}getIteratorFrom(e){return new vy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof gy))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new gy(this.comparator);return t.data=e,t}}class vy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function yy(e){return e.hasNext()?e.getNext():void 0}class wy{constructor(e){this.fields=e,e.sort(rv.comparator)}static empty(){return new wy([])}unionWith(e){let t=new gy(rv.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new wy(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yg(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class by extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _y{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new by("Invalid base64 string: "+e):e}}(e);return new _y(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new _y(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jg(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_y.EMPTY_BYTE_STRING=new _y("");const Ey=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Iy(e){if(Og(!!e),"string"==typeof e){let t=0;const n=Ey.exec(e);if(Og(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Sy(e.seconds),nanos:Sy(e.nanos)}}function Sy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ty(e){return"string"==typeof e?_y.fromBase64String(e):_y.fromUint8Array(e)}function ky(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cy(e){const t=e.mapValue.fields.__previous_value__;return ky(t)?Cy(t):t}function xy(e){const t=Iy(e.mapValue.fields.__local_write_time__.timestampValue);return new $g(t.seconds,t.nanos)}class Ny{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Ay{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ay("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ay&&e.projectId===this.projectId&&e.database===this.database}}const Py={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Dy={nullValue:"NULL_VALUE"};function Ry(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ky(e)?4:Hy(e)?9007199254740991:10:Rg()}function Oy(e,t){if(e===t)return!0;const n=Ry(e);if(n!==Ry(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xy(e).isEqual(xy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Iy(e.timestampValue),r=Iy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ty(e.bytesValue).isEqual(Ty(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Sy(e.geoPointValue.latitude)===Sy(t.geoPointValue.latitude)&&Sy(e.geoPointValue.longitude)===Sy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Sy(e.integerValue)===Sy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Sy(e.doubleValue),r=Sy(t.doubleValue);return n===r?Dv(n)===Dv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Yg(e.arrayValue.values||[],t.arrayValue.values||[],Oy);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(uy(n)!==uy(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Oy(n[i],r[i])))return!1;return!0}(e,t);default:return Rg()}}function Ly(e,t){return void 0!==(e.values||[]).find((e=>Oy(e,t)))}function My(e,t){if(e===t)return 0;const n=Ry(e),r=Ry(t);if(n!==r)return Jg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jg(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Sy(e.integerValue||e.doubleValue),r=Sy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Fy(e.timestampValue,t.timestampValue);case 4:return Fy(xy(e),xy(t));case 5:return Jg(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ty(e),r=Ty(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Jg(n[i],r[i]);if(0!==e)return e}return Jg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Jg(Sy(e.latitude),Sy(t.latitude));return 0!==n?n:Jg(Sy(e.longitude),Sy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=My(n[i],r[i]);if(e)return e}return Jg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Py.mapValue&&t===Py.mapValue)return 0;if(e===Py.mapValue)return 1;if(t===Py.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Jg(r[o],s[o]);if(0!==e)return e;const t=My(n[r[o]],i[s[o]]);if(0!==t)return t}return Jg(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Rg()}}function Fy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Jg(e,t);const n=Iy(e),r=Iy(t),i=Jg(n.seconds,r.seconds);return 0!==i?i:Jg(n.nanos,r.nanos)}function jy(e){return Uy(e)}function Uy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Iy(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ty(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return iv.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Uy(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Uy(e.fields[i]));return n+"}"}(e.mapValue):Rg()}function Vy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function zy(e){return!!e&&"integerValue"in e}function By(e){return!!e&&"arrayValue"in e}function qy(e){return!!e&&"nullValue"in e}function Ky(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wy(e){return!!e&&"mapValue"in e}function Gy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return hy(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Gy(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Gy(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Hy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Qy(e){return"nullValue"in e?Dy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Vy(Ay.empty(),iv.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Rg()}function Jy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Vy(Ay.empty(),iv.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Py:Rg()}function Yy(e,t){const n=My(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Xy(e,t){const n=My(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class $y{constructor(e){this.value=e}static empty(){return new $y({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Wy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gy(t)}setAll(e){let t=rv.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Gy(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Wy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oy(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Wy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){hy(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new $y(Gy(this.value))}}function Zy(e){const t=[];return hy(e.fields,((e,n)=>{const r=new rv([e]);if(Wy(n)){const e=Zy(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new wy(t)}class ew{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new ew(e,0,Zg.min(),Zg.min(),Zg.min(),$y.empty(),0)}static newFoundDocument(e,t,n,r){return new ew(e,1,t,Zg.min(),n,r,0)}static newNoDocument(e,t){return new ew(e,2,t,Zg.min(),Zg.min(),$y.empty(),0)}static newUnknownDocument(e,t){return new ew(e,3,t,Zg.min(),Zg.min(),$y.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Zg.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$y.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$y.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zg.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ew&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ew(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class tw{constructor(e,t){this.position=e,this.inclusive=t}}function nw(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?iv.comparator(iv.fromName(o.referenceValue),n.key):My(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function rw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Oy(e.position[n],t.position[n]))return!1;return!0}class iw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function sw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ow{}class aw extends ow{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new vw(e,t,n):"array-contains"===t?new _w(e,n):"in"===t?new Ew(e,n):"not-in"===t?new Iw(e,n):"array-contains-any"===t?new Sw(e,n):new aw(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new yw(e,n):new ww(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(My(t,this.value)):null!==t&&Ry(this.value)===Ry(t)&&this.matchesComparison(My(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rg()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lw extends ow{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new lw(e,t)}matches(e){return cw(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function cw(e){return"and"===e.op}function uw(e){return"or"===e.op}function hw(e){return dw(e)&&cw(e)}function dw(e){for(const t of e.filters)if(t instanceof lw)return!1;return!0}function fw(e){if(e instanceof aw)return e.field.canonicalString()+e.op.toString()+jy(e.value);if(hw(e))return e.filters.map((e=>fw(e))).join(",");{const t=e.filters.map((e=>fw(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function pw(e,t){return e instanceof aw?function(e,t){return t instanceof aw&&e.op===t.op&&e.field.isEqual(t.field)&&Oy(e.value,t.value)}(e,t):e instanceof lw?function(e,t){return t instanceof lw&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&pw(n,t.filters[r])),!0)}(e,t):void Rg()}function mw(e,t){const n=e.filters.concat(t);return lw.create(n,e.op)}function gw(e){return e instanceof aw?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(jy(e.value))}(e):e instanceof lw?function(e){return e.op.toString()+" {"+e.getFilters().map(gw).join(" ,")+"}"}(e):"Filter"}class vw extends aw{constructor(e,t,n){super(e,t,n),this.key=iv.fromName(n.referenceValue)}matches(e){const t=iv.comparator(e.key,this.key);return this.matchesComparison(t)}}class yw extends aw{constructor(e,t){super(e,"in",t),this.keys=bw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ww extends aw{constructor(e,t){super(e,"not-in",t),this.keys=bw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function bw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>iv.fromName(e.referenceValue)))}class _w extends aw{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return By(t)&&Ly(t.arrayValue,this.value)}}class Ew extends aw{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ly(this.value.arrayValue,t)}}class Iw extends aw{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ly(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ly(this.value.arrayValue,t)}}class Sw extends aw{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!By(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ly(this.value.arrayValue,e)))}}class Tw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function kw(e){return new Tw(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Cw(e){const t=Lg(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>fw(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Pv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>jy(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>jy(e))).join(",")),t.ue=e}return t.ue}function xw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!sw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!pw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rw(e.startAt,t.startAt)&&rw(e.endAt,t.endAt)}function Nw(e){return iv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Aw(e,t){return e.filters.filter((e=>e instanceof aw&&e.field.isEqual(t)))}function Pw(e,t,n){let r=Dy,i=!0;for(const s of Aw(e,t)){let e=Dy,t=!0;switch(s.op){case"<":case"<=":e=Qy(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Dy}Yy({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Yy({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Dw(e,t,n){let r=Py,i=!0;for(const s of Aw(e,t)){let e=Py,t=!0;switch(s.op){case">=":case">":e=Jy(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Py}Xy({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Xy({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Rw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ow(e,t,n,r,i,s,o,a){return new Rw(e,t,n,r,i,s,o,a)}function Lw(e){return new Rw(e)}function Mw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Fw(e){return null!==e.collectionGroup}function jw(e){const t=Lg(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new gy(rv.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new iw(r,n))})),e.has(rv.keyField().canonicalString())||t.ce.push(new iw(rv.keyField(),n))}return t.ce}function Uw(e){const t=Lg(e);return t.le||(t.le=Vw(t,jw(e))),t.le}function Vw(e,t){if("F"===e.limitType)return kw(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new iw(e.field,t)}));const n=e.endAt?new tw(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new tw(e.startAt.position,e.startAt.inclusive):null;return kw(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function zw(e,t){const n=e.filters.concat([t]);return new Rw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Bw(e,t,n){return new Rw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qw(e,t){return xw(Uw(e),Uw(t))&&e.limitType===t.limitType}function Kw(e){return"".concat(Cw(Uw(e)),"|lt:").concat(e.limitType)}function Ww(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>gw(e))).join(", "),"]")),Pv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>jy(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>jy(e))).join(",")),"Target(".concat(t,")")}(Uw(e)),"; limitType=").concat(e.limitType,")")}function Gw(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):iv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of jw(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=nw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,jw(e),t))&&!(e.endAt&&!function(e,t,n){const r=nw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,jw(e),t))}(e,t)}function Hw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Qw(e){return(t,n)=>{let r=!1;for(const i of jw(e)){const e=Jw(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Jw(e,t,n){const r=e.field.isKeyField()?iv.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?My(r,i):Rg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Rg()}}class Yw{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){hy(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return dy(this.inner)}size(){return this.innerSize}}const Xw=new fy(iv.comparator);function $w(){return Xw}const Zw=new fy(iv.comparator);function eb(){let e=Zw;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function tb(e){let t=Zw;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function nb(){return ib()}function rb(){return ib()}function ib(){return new Yw((e=>e.toString()),((e,t)=>e.isEqual(t)))}const sb=new fy(iv.comparator),ob=new gy(iv.comparator);function ab(){let e=ob;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const lb=new gy(Jg);function cb(){return lb}function ub(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dv(t)?"-0":t}}function hb(e){return{integerValue:""+e}}function db(e,t){return Rv(t)?hb(t):ub(e,t)}class fb{constructor(){this._=void 0}}function pb(e,t,n){return e instanceof vb?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ky(t)&&(t=Cy(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof yb?wb(e,t):e instanceof bb?_b(e,t):function(e,t){const n=gb(e,t),r=Ib(n)+Ib(e.Pe);return zy(n)&&zy(e.Pe)?hb(r):ub(e.serializer,r)}(e,t)}function mb(e,t,n){return e instanceof yb?wb(e,t):e instanceof bb?_b(e,t):n}function gb(e,t){return e instanceof Eb?function(e){return zy(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class vb extends fb{}class yb extends fb{constructor(e){super(),this.elements=e}}function wb(e,t){const n=Sb(t);for(const r of e.elements)n.some((e=>Oy(e,r)))||n.push(r);return{arrayValue:{values:n}}}class bb extends fb{constructor(e){super(),this.elements=e}}function _b(e,t){let n=Sb(t);for(const r of e.elements)n=n.filter((e=>!Oy(e,r)));return{arrayValue:{values:n}}}class Eb extends fb{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Ib(e){return Sy(e.integerValue||e.doubleValue)}function Sb(e){return By(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Tb{constructor(e,t){this.field=e,this.transform=t}}class kb{constructor(e,t){this.version=e,this.transformResults=t}}class Cb{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cb}static exists(e){return new Cb(void 0,e)}static updateTime(e){return new Cb(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Nb{}function Ab(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Vb(e.key,Cb.none()):new Lb(e.key,e.data,Cb.none());{const n=e.data,r=$y.empty();let i=new gy(rv.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Mb(e.key,r,new wy(i.toArray()),Cb.none())}}function Pb(e,t,n){e instanceof Lb?function(e,t,n){const r=e.value.clone(),i=jb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Mb?function(e,t,n){if(!xb(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=jb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Fb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Db(e,t,n,r){return e instanceof Lb?function(e,t,n,r){if(!xb(e.precondition,t))return n;const i=e.value.clone(),s=Ub(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Mb?function(e,t,n,r){if(!xb(e.precondition,t))return n;const i=Ub(e.fieldTransforms,r,t),s=t.data;return s.setAll(Fb(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return xb(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Rb(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=gb(r.transform,e||null);null!=i&&(null===n&&(n=$y.empty()),n.set(r.field,i))}return n||null}function Ob(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Yg(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yb&&t instanceof yb||e instanceof bb&&t instanceof bb?Yg(e.elements,t.elements,Oy):e instanceof Eb&&t instanceof Eb?Oy(e.Pe,t.Pe):e instanceof vb&&t instanceof vb}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Lb extends Nb{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Mb extends Nb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Fb(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function jb(e,t,n){const r=new Map;Og(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,mb(o,a,n[i]))}return r}function Ub(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,pb(e,s,t))}return r}class Vb extends Nb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zb extends Nb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bb{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Pb(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Db(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Db(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=rb();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Ab(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Zg.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ab())}isEqual(e){return this.batchId===e.batchId&&Yg(this.mutations,e.mutations,((e,t)=>Ob(e,t)))&&Yg(this.baseMutations,e.baseMutations,((e,t)=>Ob(e,t)))}}class qb{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Og(e.mutations.length===n.length);let r=sb;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new qb(e,t,n,r)}}class Kb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Wb{constructor(e,t){this.count=e,this.unchangedNames=t}}var Gb,Hb;function Qb(e){switch(e){default:return Rg();case Mg.CANCELLED:case Mg.UNKNOWN:case Mg.DEADLINE_EXCEEDED:case Mg.RESOURCE_EXHAUSTED:case Mg.INTERNAL:case Mg.UNAVAILABLE:case Mg.UNAUTHENTICATED:return!1;case Mg.INVALID_ARGUMENT:case Mg.NOT_FOUND:case Mg.ALREADY_EXISTS:case Mg.PERMISSION_DENIED:case Mg.FAILED_PRECONDITION:case Mg.ABORTED:case Mg.OUT_OF_RANGE:case Mg.UNIMPLEMENTED:case Mg.DATA_LOSS:return!0}}function Jb(e){if(void 0===e)return Ag("GRPC error has no .code"),Mg.UNKNOWN;switch(e){case Gb.OK:return Mg.OK;case Gb.CANCELLED:return Mg.CANCELLED;case Gb.UNKNOWN:return Mg.UNKNOWN;case Gb.DEADLINE_EXCEEDED:return Mg.DEADLINE_EXCEEDED;case Gb.RESOURCE_EXHAUSTED:return Mg.RESOURCE_EXHAUSTED;case Gb.INTERNAL:return Mg.INTERNAL;case Gb.UNAVAILABLE:return Mg.UNAVAILABLE;case Gb.UNAUTHENTICATED:return Mg.UNAUTHENTICATED;case Gb.INVALID_ARGUMENT:return Mg.INVALID_ARGUMENT;case Gb.NOT_FOUND:return Mg.NOT_FOUND;case Gb.ALREADY_EXISTS:return Mg.ALREADY_EXISTS;case Gb.PERMISSION_DENIED:return Mg.PERMISSION_DENIED;case Gb.FAILED_PRECONDITION:return Mg.FAILED_PRECONDITION;case Gb.ABORTED:return Mg.ABORTED;case Gb.OUT_OF_RANGE:return Mg.OUT_OF_RANGE;case Gb.UNIMPLEMENTED:return Mg.UNIMPLEMENTED;case Gb.DATA_LOSS:return Mg.DATA_LOSS;default:return Rg()}}(Hb=Gb||(Gb={}))[Hb.OK=0]="OK",Hb[Hb.CANCELLED=1]="CANCELLED",Hb[Hb.UNKNOWN=2]="UNKNOWN",Hb[Hb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hb[Hb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hb[Hb.NOT_FOUND=5]="NOT_FOUND",Hb[Hb.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hb[Hb.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hb[Hb.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hb[Hb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hb[Hb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hb[Hb.ABORTED=10]="ABORTED",Hb[Hb.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hb[Hb.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hb[Hb.INTERNAL=13]="INTERNAL",Hb[Hb.UNAVAILABLE=14]="UNAVAILABLE",Hb[Hb.DATA_LOSS=15]="DATA_LOSS";let Yb=null;function Xb(){return new TextEncoder}const $b=new Ig([4294967295,4294967295],0);function Zb(e){const t=Xb().encode(e),n=new Eg;return n.update(t),new Uint8Array(n.digest())}function e_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ig([n,r],0),new Ig([i,s],0)]}class t_{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new n_("Invalid padding: ".concat(t));if(n<0)throw new n_("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new n_("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new n_("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Ig.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Ig.fromNumber(n)));return 1===r.compare($b)&&(r=new Ig([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Zb(e),[n,r]=e_(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new t_(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Zb(e),[n,r]=e_(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class n_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class r_{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,i_.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new r_(Zg.min(),r,new fy(Jg),$w(),ab())}}class i_{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new i_(n,t,ab(),ab(),ab())}}class s_{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class o_{constructor(e,t){this.targetId=e,this.me=t}}class a_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_y.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class l_{constructor(){this.fe=0,this.ge=h_(),this.pe=_y.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ab(),t=ab(),n=ab();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Rg()}})),new i_(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=h_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Og(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class c_{constructor(e){this.Le=e,this.Be=new Map,this.ke=$w(),this.qe=u_(),this.Qe=new fy(Jg)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Rg()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Nw(i))if(0===n){const e=new iv(i.path);this.Ue(t,e,ew.newNoDocument(e,Zg.min()))}else Og(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Yb||Yb.et(function(e,t,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Ty(n).toUint8Array()}catch(e){if(e instanceof by)return Pg("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new t_(s,r,i)}catch(e){return Pg(e instanceof n_?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Nw(i.target)){const t=new iv(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,ew.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=ab();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new r_(e,t,this.Qe,this.ke,n);return this.ke=$w(),this.qe=u_(),this.Qe=new fy(Jg),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new l_,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new gy(Jg),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ng("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new l_),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function u_(){return new fy(iv.comparator)}function h_(){return new fy(iv.comparator)}const d_={asc:"ASCENDING",desc:"DESCENDING"},f_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p_={and:"AND",or:"OR"};class m_{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function g_(e,t){return e.useProto3Json||Pv(t)?t:{value:t}}function v_(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function y_(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function w_(e,t){return v_(e,t.toTimestamp())}function b_(e){return Og(!!e),Zg.fromTimestamp(function(e){const t=Iy(e);return new $g(t.seconds,t.nanos)}(e))}function __(e,t){return E_(e,t).canonicalString()}function E_(e,t){const n=function(e){return new tv(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function I_(e){const t=tv.fromString(e);return Og(W_(t)),t}function S_(e,t){return __(e.databaseId,t.path)}function T_(e,t){const n=I_(t);if(n.get(1)!==e.databaseId.projectId)throw new Fg(Mg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fg(Mg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new iv(N_(n))}function k_(e,t){return __(e.databaseId,t)}function C_(e){const t=I_(e);return 4===t.length?tv.emptyPath():N_(t)}function x_(e){return new tv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function N_(e){return Og(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function A_(e,t,n){return{name:S_(e,t),fields:n.value.mapValue.fields}}function P_(e,t,n){const r=T_(e,t.name),i=b_(t.updateTime),s=t.createTime?b_(t.createTime):Zg.min(),o=new $y({mapValue:{fields:t.fields}}),a=ew.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function D_(e,t){let n;if(t instanceof Lb)n={update:A_(e,t.key,t.value)};else if(t instanceof Vb)n={delete:S_(e,t.key)};else if(t instanceof Mb)n={update:A_(e,t.key,t.data),updateMask:K_(t.fieldMask)};else{if(!(t instanceof zb))return Rg();n={verify:S_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof vb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof bb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Eb)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Rg()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:w_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Rg()}(e,t.precondition)),n}function R_(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Cb.updateTime(b_(e.updateTime)):void 0!==e.exists?Cb.exists(e.exists):Cb.none()}(t.currentDocument):Cb.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Og("REQUEST_TIME"===t.setToServerValue),n=new vb;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new yb(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new bb(e)}else"increment"in t?n=new Eb(e,t.increment):Rg();const r=rv.fromServerFormat(t.fieldPath);return new Tb(r,n)}(e,t))):[];if(t.update){t.update.name;const i=T_(e,t.update.name),s=new $y({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new wy(t.map((e=>rv.fromServerFormat(e))))}(t.updateMask);return new Mb(i,s,e,n,r)}return new Lb(i,s,n,r)}if(t.delete){const r=T_(e,t.delete);return new Vb(r,n)}if(t.verify){const r=T_(e,t.verify);return new zb(r,n)}return Rg()}function O_(e,t){return{documents:[k_(e,t.path)]}}function L_(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=k_(e,i);const s=function(e){if(0!==e.length)return q_(lw.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:z_(e.field),direction:j_(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=g_(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function M_(e){let t=C_(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Og(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=F_(e);return t instanceof lw&&hw(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new iw(B_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Pv(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new tw(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new tw(n,t)}(n.endAt)),Ow(t,i,o,s,a,"F",l,c)}function F_(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=B_(e.unaryFilter.field);return aw.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=B_(e.unaryFilter.field);return aw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=B_(e.unaryFilter.field);return aw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=B_(e.unaryFilter.field);return aw.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Rg()}}(e):void 0!==e.fieldFilter?function(e){return aw.create(B_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rg()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return lw.create(e.compositeFilter.filters.map((e=>F_(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Rg()}}(e.compositeFilter.op))}(e):Rg()}function j_(e){return d_[e]}function U_(e){return f_[e]}function V_(e){return p_[e]}function z_(e){return{fieldPath:e.canonicalString()}}function B_(e){return rv.fromServerFormat(e.fieldPath)}function q_(e){return e instanceof aw?function(e){if("=="===e.op){if(Ky(e.value))return{unaryFilter:{field:z_(e.field),op:"IS_NAN"}};if(qy(e.value))return{unaryFilter:{field:z_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ky(e.value))return{unaryFilter:{field:z_(e.field),op:"IS_NOT_NAN"}};if(qy(e.value))return{unaryFilter:{field:z_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:z_(e.field),op:U_(e.op),value:e.value}}}(e):e instanceof lw?function(e){const t=e.getFilters().map((e=>q_(e)));return 1===t.length?t[0]:{compositeFilter:{op:V_(e.op),filters:t}}}(e):Rg()}function K_(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function W_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class G_{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Zg.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Zg.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_y.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new G_(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new G_(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new G_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new G_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H_{constructor(e){this.ut=e}}function Q_(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:J_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:S_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:v_(e,t.version.toTimestamp()),createTime:v_(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Y_(t.version)};else{if(!t.isUnknownDocument())return Rg();r.unknownDocument={path:n.path.toArray(),version:Y_(t.version)}}return r}function J_(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Y_(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function X_(e){const t=new $g(e.seconds,e.nanoseconds);return Zg.fromTimestamp(t)}function $_(e,t){const n=(t.baseMutations||[]).map((t=>R_(e.ut,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>R_(e.ut,t))),i=$g.fromMillis(t.localWriteTimeMs);return new Bb(t.batchId,i,n,r)}function Z_(e){const t=X_(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?X_(e.lastLimboFreeSnapshotVersion):Zg.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Og(1===e.documents.length),Uw(Lw(C_(e.documents[0])))}(e.query):function(e){return Uw(M_(e))}(e.query),new G_(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,_y.fromBase64String(e.resumeToken))}function eE(e,t){const n=Y_(t.snapshotVersion),r=Y_(t.lastLimboFreeSnapshotVersion);let i;i=Nw(t.target)?O_(e.ut,t.target):L_(e.ut,t.target)._t;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Cw(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function tE(e){const t=M_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Bw(t,t.limit,"L"):t}function nE(e,t){return new Kb(t.largestBatchId,R_(e.ut,t.overlayMutation))}function rE(e,t){const n=t.path.lastSegment();return[e,Ov(t.path.popLast()),n]}function iE(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Y_(r.readTime),documentKey:Ov(r.documentKey.path),largestBatchId:r.largestBatchId}}class sE{getBundleMetadata(e,t){return oE(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:X_(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return oE(e).put(function(e){return{bundleId:e.id,createTime:Y_(b_(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return aE(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:tE(e.bundledQuery),readTime:X_(e.readTime)}}(e)}))}saveNamedQuery(e,t){return aE(e).put(function(e){return{name:e.name,readTime:Y_(b_(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function oE(e){return cy(e,"bundles")}function aE(e){return cy(e,"namedQueries")}class lE{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new lE(e,n)}getOverlay(e,t){return cE(e).get(rE(this.userId,t)).next((e=>e?nE(this.serializer,e):null))}getOverlays(e,t){const n=nb();return vv.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Kb(t,i);r.push(this.lt(e,s))})),vv.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Ov(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(cE(e).j("collectionPathOverlayIndex",r))})),vv.waitFor(i)}getOverlaysForCollection(e,t,n){const r=nb(),i=Ov(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return cE(e).U("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=nE(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=nb();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return cE(e).J({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=nE(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return cE(e).put(function(e,t,n){const[r,i,s]=rE(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:D_(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function cE(e){return cy(e,"documentOverlays")}class uE{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Sy(e.integerValue));else if("doubleValue"in e){const n=Sy(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Dv(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Tt(t,20),"string"==typeof n&&(n=Iy(n)),t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Ty(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?Hy(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Rg()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),iv.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function hE(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function dE(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=hE(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}uE.St=new uE;class fE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Lt(e),n=dE(t);this.Bt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Lt(e),n=dE(t);this.Bt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Bt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Bt(1),this.buffer[this.position++]=e}$t(e){this.Bt(1),this.buffer[this.position++]=~e}Bt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class pE{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class mE{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class gE{constructor(){this.Wt=new fE,this.Gt=new pE(this.Wt),this.zt=new mE(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class vE{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new vE(this.indexId,this.documentKey,this.arrayValue,n)}}function yE(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=wE(e.arrayValue,t.arrayValue),0!==n?n:(n=wE(e.directionalValue,t.directionalValue),0!==n?n:iv.comparator(e.documentKey,t.documentKey)))}function wE(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class bE{constructor(e){this.Jt=new gy(((e,t)=>rv.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(Og(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=ov(e);if(void 0!==t&&!this.tn(t))return!1;const n=av(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Yt.length||!this.rn(this.Yt[s++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new gy(rv.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new lv(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new lv(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new lv(n.field,"asc"===n.dir?0:1)));return new sv(sv.UNKNOWN_ID,this.collectionId,t,cv.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function _E(e){var t,n;if(Og(e instanceof aw||e instanceof lw),e instanceof aw){if(e instanceof Ew){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>aw.create(e.field,"==",t))))||[];return lw.create(r,"or")}return e}const r=e.filters.map((e=>_E(e)));return lw.create(r,e.op)}function EE(e){if(0===e.getFilters().length)return[];const t=kE(_E(e));return Og(TE(t)),IE(t)||SE(t)?[t]:t.getFilters()}function IE(e){return e instanceof aw}function SE(e){return e instanceof lw&&hw(e)}function TE(e){return IE(e)||SE(e)||function(e){if(e instanceof lw&&uw(e)){for(const t of e.getFilters())if(!IE(t)&&!SE(t))return!1;return!0}return!1}(e)}function kE(e){if(Og(e instanceof aw||e instanceof lw),e instanceof aw)return e;if(1===e.filters.length)return kE(e.filters[0]);const t=e.filters.map((e=>kE(e)));let n=lw.create(t,e.op);return n=NE(n),TE(n)?n:(Og(n instanceof lw),Og(cw(n)),Og(n.filters.length>1),n.filters.reduce(((e,t)=>CE(e,t))))}function CE(e,t){let n;return Og(e instanceof aw||e instanceof lw),Og(t instanceof aw||t instanceof lw),n=e instanceof aw?t instanceof aw?function(e,t){return lw.create([e,t],"and")}(e,t):xE(e,t):t instanceof aw?xE(t,e):function(e,t){if(Og(e.filters.length>0&&t.filters.length>0),cw(e)&&cw(t))return mw(e,t.getFilters());const n=uw(e)?e:t,r=uw(e)?t:e,i=n.filters.map((e=>CE(e,r)));return lw.create(i,"or")}(e,t),NE(n)}function xE(e,t){if(cw(t))return mw(t,e.getFilters());{const n=t.filters.map((t=>CE(e,t)));return lw.create(n,"or")}}function NE(e){if(Og(e instanceof aw||e instanceof lw),e instanceof aw)return e;const t=e.getFilters();if(1===t.length)return NE(t[0]);if(dw(e))return e;const n=t.map((e=>NE(e))),r=[];return n.forEach((t=>{t instanceof aw?r.push(t):t instanceof lw&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:lw.create(r,e.op)}class AE{constructor(){this.on=new PE}addToCollectionParentIndex(e,t){return this.on.add(t),vv.resolve()}getCollectionParents(e,t){return vv.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return vv.resolve()}deleteFieldIndex(e,t){return vv.resolve()}deleteAllFieldIndexes(e){return vv.resolve()}createTargetIndexes(e,t){return vv.resolve()}getDocumentsMatchingTarget(e,t){return vv.resolve(null)}getIndexType(e,t){return vv.resolve(0)}getFieldIndexes(e,t){return vv.resolve([])}getNextCollectionGroupToUpdate(e){return vv.resolve(null)}getMinOffset(e,t){return vv.resolve(dv.min())}getMinOffsetFromCollectionGroup(e,t){return vv.resolve(dv.min())}updateCollectionGroup(e,t,n){return vv.resolve()}updateIndexEntries(e,t){return vv.resolve()}}class PE{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new gy(tv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new gy(tv.comparator)).toArray()}}const DE=new Uint8Array(0);class RE{constructor(e,t){this.databaseId=t,this._n=new PE,this.an=new Yw((e=>Cw(e)),((e,t)=>xw(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:Ov(r)};return OE(e).put(i)}return vv.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Xg(t),""],!1,!0);return OE(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Fv(r.parent))}return n}))}addFieldIndex(e,t){const n=ME(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=FE(e);return i.next((e=>{n.put(iE(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=ME(e),r=FE(e),i=LE(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=ME(e),n=LE(e),r=FE(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return vv.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new bE(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=LE(e);let r=!0;const i=new Map;return vv.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=ab();const r=[];return vv.forEach(i,((i,s)=>{Ng("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Cw(t)));const o=function(e,t){const n=ov(t);if(void 0===n)return null;for(const r of Aw(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of av(t))for(const t of Aw(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of av(t)){const t=0===i.kind?Pw(e,i.fieldPath,e.startAt):Dw(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new tw(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of av(t)){const t=0===i.kind?Dw(e,i.fieldPath,e.endAt):Pw(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new tw(n,r)}(s,i),u=this.ln(i,s,l),h=this.ln(i,s,c),d=this.hn(i,s,a),f=this.Pn(i.indexId,o,u,l.inclusive,h,c.inclusive,d);return vv.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=iv.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return vv.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:EE(lw.create(e.filters,"and")).map((t=>kw(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/l]):DE,h=this.Tn(e,a,n[u%l],r),d=this.En(e,a,i[u%l],s),f=o.map((t=>this.Tn(e,a,t,!0)));c.push(...this.createRange(h,d,f))}return c}Tn(e,t,n,r){const i=new vE(e,iv.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new vE(e,iv.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new bE(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return vv.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new gy(rv.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new gE;for(const r of av(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);uE.St.ht(e,i)}return n.Ut()}In(e){const t=new gE;return uE.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new gE;return uE.St.ht(Vy(this.databaseId,t),n.jt(function(e){const t=av(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new gE);let i=0;for(const s of av(e)){const e=n[i++];for(const n of r)if(this.Rn(t,s.fieldPath)&&By(e))r=this.Vn(r,s,e);else{const t=n.jt(s.kind);uE.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new gE;n.seed(e.Ut()),uE.St.ht(s,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof aw&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=ME(e),r=FE(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return vv.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new cv(t.sequenceNumber,new dv(X_(t.readTime),new iv(Fv(t.documentKey)),t.largestBatchId)):cv.empty(),r=e.fields.map((e=>{let[t,n]=e;return new lv(rv.fromServerFormat(t),n)}));return new sv(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Jg(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=ME(e),i=FE(e);return this.fn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>vv.forEach(t,(t=>i.put(iE(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return vv.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?vv.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),vv.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?vv.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return LE(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return LE(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=LE(e);let i=new gy(yE);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new vE(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new gy(yE);const r=this.dn(t,e);if(null==r)return n;const i=ov(t);if(null!=i){const s=e.data.field(i.fieldPath);if(By(s))for(const i of s.arrayValue.values||[])n=n.add(new vE(t.indexId,e.key,this.In(i),r))}else n=n.add(new vE(t.indexId,e.key,DE,r));return n}yn(e,t,n,r,i){Ng("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=yy(s),l=yy(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=yy(o)):t?(i(a),a=yy(s)):(a=yy(s),l=yy(o))}}(r,i,yE,(r=>{s.push(this.wn(e,t,n,r))}),(r=>{s.push(this.Sn(e,t,n,r))})),vv.waitFor(s)}fn(e){let t=1;return FE(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>yE(e,t))).filter(((e,t,n)=>!t||0!==yE(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=yE(s,e),i=yE(s,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(s),r.push(s.Ht());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,DE,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,DE,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return yE(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(jE)}getMinOffset(e,t){return vv.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||Rg())))).next(jE)}}function OE(e){return cy(e,"collectionParents")}function LE(e){return cy(e,"indexEntries")}function ME(e){return cy(e,"indexConfiguration")}function FE(e){return cy(e,"indexState")}function jE(e){Og(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;fv(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new dv(t.readTime,t.documentKey,n)}const UE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class VE{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new VE(e,VE.DEFAULT_COLLECTION_PERCENTILE,VE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zE(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{Og(1===a)})));const c=[];for(const u of n.mutations){const e=Vv(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return vv.waitFor(s).next((()=>c))}function BE(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Rg();t=e.noDocument}return JSON.stringify(t).length}VE.DEFAULT_COLLECTION_PERCENTILE=10,VE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,VE.DEFAULT=new VE(41943040,VE.DEFAULT_COLLECTION_PERCENTILE,VE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),VE.DISABLED=new VE(-1,0,0);class qE{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){Og(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new qE(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return WE(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=GE(e),s=WE(e);return s.add({}).next((o=>{Og("number"==typeof o);const a=new Bb(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>D_(e.ut,t))),i=n.mutations.map((t=>D_(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new gy(((e,t)=>Jg(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Vv(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,zv))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[o]=a.keys()})),vv.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return WE(e).get(t).next((e=>e?(Og(e.userId===this.userId),$_(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?vv.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return WE(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Og(t.batchId>=n),i=$_(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return WE(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return WE(e).U("userMutationsIndex",t).next((e=>e.map((e=>$_(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Uv(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return GE(e).J({range:r},((n,r,s)=>{const[o,a,l]=n,c=Fv(a);if(o===this.userId&&t.path.isEqual(c))return WE(e).get(l).next((e=>{if(!e)throw Rg();Og(e.userId===this.userId),i.push($_(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new gy(Jg);const r=[];return t.forEach((t=>{const i=Uv(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=GE(e).J({range:s},((e,r,i)=>{const[s,o,a]=e,l=Fv(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),vv.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Uv(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new gy(Jg);return GE(e).J({range:s},((e,t,i)=>{const[s,a,l]=e,c=Fv(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()})).next((()=>this.vn(e,o)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(WE(e).get(t).next((e=>{if(null===e)throw Rg();Og(e.userId===this.userId),n.push($_(this.serializer,e))})))})),vv.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return zE(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),vv.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return vv.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return GE(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Fv(e[1]);r.push(t)}else n.done()})).next((()=>{Og(0===r.length)}))}))}containsKey(e,t){return KE(e,this.userId,t)}Mn(e){return HE(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function KE(e,t,n){const r=Uv(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return GE(e).J({range:s,H:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function WE(e){return cy(e,"mutations")}function GE(e){return cy(e,"documentMutations")}function HE(e){return cy(e,"mutationQueues")}class QE{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new QE(0)}static Nn(){return new QE(-1)}}class JE{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new QE(t.highestTargetId);return t.highestTargetId=n.next(),this.Bn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>Zg.fromTimestamp(new $g(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Bn(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Bn(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>YE(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(Og(t.targetCount>0),t.targetCount-=1,this.Bn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return YE(e).J(((s,o)=>{const a=Z_(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>vv.waitFor(i))).next((()=>r))}forEachTarget(e,t){return YE(e).J(((e,n)=>{const r=Z_(n);t(r)}))}Ln(e){return XE(e).get("targetGlobalKey").next((e=>(Og(null!==e),e)))}Bn(e,t){return XE(e).put("targetGlobalKey",t)}kn(e,t){return YE(e).put(eE(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Cw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return YE(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=Z_(n);xw(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=$E(e);return t.forEach((t=>{const s=Ov(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),vv.waitFor(r)}removeMatchingKeys(e,t,n){const r=$E(e);return vv.forEach(t,(t=>{const i=Ov(t.path);return vv.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=$E(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=$E(e);let i=ab();return r.J({range:n,H:!0},((e,t,n)=>{const r=Fv(e[1]),s=new iv(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Ov(t.path),r=IDBKeyRange.bound([n],[Xg(n)],!1,!0);let i=0;return $E(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ot(e,t){return YE(e).get(t).next((e=>e?Z_(e):null))}}function YE(e){return cy(e,"targets")}function XE(e){return cy(e,"targetGlobal")}function $E(e){return cy(e,"targetDocuments")}function ZE(e,t){let[n,r]=e,[i,s]=t;const o=Jg(n,i);return 0===o?Jg(r,s):o}class eI{constructor(e){this.Qn=e,this.buffer=new gy(ZE),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ZE(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tI{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){Ng("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Iv(e)?Ng("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await gv(e)}await this.Gn(3e5)}))}}class nI{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return vv.resolve(Av.oe);const n=new eI(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ng("LruGarbageCollector","Garbage collection skipped; disabled"),vv.resolve(UE)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ng("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),UE):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Ng("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),xg()<=cs.DEBUG&&Ng("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),vv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function rI(e,t){return new nI(e,t)}class iI{constructor(e,t){this.db=e,this.garbageCollector=rI(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return sI(e,n)}removeReference(e,t,n){return sI(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return sI(e,t)}Xn(e,t){return function(e,t){let n=!1;return HE(e).Y((r=>KE(e,r,t).next((e=>(e&&(n=!0),vv.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((s,o)=>{if(o<=t){const t=this.Xn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Zg.min()),$E(e).delete(function(e){return[0,Ov(e.path)]}(s)))))}));r.push(t)}})).next((()=>vv.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return sI(e,t)}Zn(e,t){const n=$E(e);let r,i=Av.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==Av.oe&&t(new iv(Fv(r)),i),i=l,r=a):i=Av.oe})).next((()=>{i!==Av.oe&&t(new iv(Fv(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sI(e,t){return $E(e).put(function(e,t){return{targetId:0,path:Ov(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class oI{constructor(){this.changes=new Yw((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ew.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?vv.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aI{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return hI(e).put(n)}removeEntry(e,t,n){return hI(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],J_(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=ew.newInvalidDocument(t);return hI(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(dI(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:ew.newInvalidDocument(t)};return hI(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(dI(t))},((e,r)=>{n={document:this.tr(t,r),size:BE(r)}})).next((()=>n))}getEntries(e,t){let n=$w();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=$w(),r=new fy(iv.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,BE(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return vv.resolve();let r=new gy(pI);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(dI(r.first()),dI(r.last())),s=r.getIterator();let o=s.getNext();return hI(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=iv.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&pI(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.$(dI(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),J_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hI(e).U(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=$w();for(const i of e){const e=this.tr(iv.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Gw(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=$w();const s=fI(t,n),o=fI(t,dv.max());return hI(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.tr(iv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new cI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return uI(e).get("remoteDocumentGlobalKey").next((e=>(Og(!!e),e)))}er(e,t){return uI(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=P_(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=iv.fromSegments(t.noDocument.path),r=X_(t.noDocument.readTime);n=ew.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Rg();{const e=iv.fromSegments(t.unknownDocument.path),r=X_(t.unknownDocument.version);n=ew.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new $g(e[0],e[1]);return Zg.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Zg.min()))return e}return ew.newInvalidDocument(e)}}function lI(e){return new aI(e)}class cI extends oI{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Yw((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new gy(((e,t)=>Jg(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=Q_(this._r.serializer,s);r=r.add(i.path.popLast());const l=BE(a);n+=l-o.size,t.push(this._r.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=Q_(this._r.serializer,s.convertToNoDocument(Zg.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),vv.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function uI(e){return cy(e,"remoteDocumentGlobal")}function hI(e){return cy(e,"remoteDocumentsV14")}function dI(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function fI(e,t){const n=t.documentKey.path.toArray();return[e,J_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function pI(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Jg(n[s],r[s]),i)return i;return i=Jg(n.length,r.length),i||(i=Jg(n[n.length-2],r[r.length-2]),i||Jg(n[n.length-1],r[r.length-1]))}class mI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gI{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Db(n.mutation,e,wy.empty(),$g.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ab()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ab();const r=nb();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=eb();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=nb();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ab())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=$w();const s=ib(),o=ib();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Mb)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Db(o.mutation,t,o.mutation.getFieldMask(),$g.now())):s.set(t.key,wy.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new mI(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=ib();let r=new fy(((e,t)=>e-t)),i=ab();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||wy.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||ab()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=rb();l.forEach((e=>{if(!i.has(e)){const r=Ab(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return vv.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return iv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Fw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):vv.resolve(nb());let o=-1,a=i;return s.next((t=>vv.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?vv.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,ab()))).next((e=>({batchId:o,changes:tb(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new iv(t)).next((e=>{let t=eb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=eb();return this.indexManager.getCollectionParents(e,i).next((o=>vv.forEach(o,(o=>{const a=function(e,t){return new Rw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,ew.newInvalidDocument(r)))}));let n=eb();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Db(s.mutation,r,wy.empty(),$g.now()),Gw(t,r)&&(n=n.insert(e,r))})),n}))}}class vI{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return vv.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:b_(e.createTime)}}(t)),vv.resolve()}getNamedQuery(e,t){return vv.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:tE(e.bundledQuery),readTime:b_(e.readTime)}}(t)),vv.resolve()}}class yI{constructor(){this.overlays=new fy(iv.comparator),this.lr=new Map}getOverlay(e,t){return vv.resolve(this.overlays.get(t))}getOverlays(e,t){const n=nb();return vv.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),vv.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),vv.resolve()}getOverlaysForCollection(e,t,n){const r=nb(),i=t.length+1,s=new iv(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return vv.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new fy(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=nb(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=nb(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return vv.resolve(o)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Kb(t,n));let i=this.lr.get(t);void 0===i&&(i=ab(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class wI{constructor(){this.hr=new gy(bI.Pr),this.Ir=new gy(bI.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new bI(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new bI(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new iv(new tv([])),n=new bI(t,e),r=new bI(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new iv(new tv([])),n=new bI(t,e),r=new bI(t,e+1);let i=ab();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new bI(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class bI{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return iv.comparator(e.key,t.key)||Jg(e.gr,t.gr)}static Tr(e,t){return Jg(e.gr,t.gr)||iv.comparator(e.key,t.key)}}class _I{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new gy(bI.Pr)}checkEmpty(e){return vv.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Bb(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.yr=this.yr.add(new bI(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return vv.resolve(s)}lookupMutationBatch(e,t){return vv.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return vv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return vv.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return vv.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new bI(t,0),r=new bI(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),vv.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new gy(Jg);return t.forEach((e=>{const t=new bI(e,0),r=new bI(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),vv.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;iv.isDocumentKey(i)||(i=i.child(""));const s=new bI(new iv(i),0);let o=new gy(Jg);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),s),vv.resolve(this.br(o))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Og(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return vv.forEach(t.mutations,(r=>{const i=new bI(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new bI(t,0),r=this.yr.firstAfterOrEqual(n);return vv.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,vv.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class EI{constructor(e){this.Cr=e,this.docs=new fy(iv.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return vv.resolve(n?n.document.mutableCopy():ew.newInvalidDocument(t))}getEntries(e,t){let n=$w();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ew.newInvalidDocument(e))})),vv.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=$w();const s=t.path,o=new iv(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||fv(hv(o),n)<=0||(r.has(o.key)||Gw(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return vv.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Rg()}vr(e,t){return vv.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new II(this)}getSize(e){return vv.resolve(this.size)}}class II extends oI{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),vv.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class SI{constructor(e){this.persistence=e,this.Fr=new Yw((e=>Cw(e)),xw),this.lastRemoteSnapshotVersion=Zg.min(),this.highestTargetId=0,this.Mr=0,this.Or=new wI,this.targetCount=0,this.Nr=QE.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),vv.resolve()}getLastRemoteSnapshotVersion(e){return vv.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return vv.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),vv.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),vv.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new QE(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,vv.resolve()}updateTargetData(e,t){return this.kn(t),vv.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,vv.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Fr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),vv.waitFor(i).next((()=>r))}getTargetCount(e){return vv.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return vv.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),vv.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),vv.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),vv.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return vv.resolve(n)}containsKey(e,t){return vv.resolve(this.Or.containsKey(t))}}class TI{constructor(e,t){this.Lr={},this.overlays={},this.Br=new Av(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new SI(this),this.indexManager=new AE,this.remoteDocumentCache=function(e){return new EI(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new H_(t),this.Kr=new vI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new _I(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Ng("MemoryPersistence","Starting transaction:",e);const r=new kI(this.Br.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return vv.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class kI extends mv{constructor(e){super(),this.currentSequenceNumber=e}}class CI{constructor(e){this.persistence=e,this.Gr=new wI,this.zr=null}static jr(e){return new CI(e)}get Hr(){if(this.zr)return this.zr;throw Rg()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),vv.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),vv.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),vv.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vv.forEach(this.Hr,(n=>{const r=iv.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,Zg.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return vv.or([()=>vv.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class xI{constructor(e){this.serializer=e}O(e,t,n,r){const i=new yv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jv,{unique:!0}),e.createObjectStore("documentMutations")}(e),NI(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=vv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),NI(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jv,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return vv.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Zr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(s=s.next((()=>this.ei(i)))),n<8&&r>=8&&(s=s.next((()=>this.ti(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ni(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Zv});t.createIndex("collectionPathOverlayIndex",ey,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",ty,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Bv});t.createIndex("documentKeyIndex",qv),t.createIndex("collectionGroupIndex",Kv)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.ii(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Jv}).createIndex("sequenceNumberIndex",Yv,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Xv}).createIndex("documentKeyIndex",$v,{unique:!1})}(e)))),n<16&&r>=16&&(s=s.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),s}Xr(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=BE(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>vv.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>vv.forEach(n,(n=>{Og(n.userId===t.userId);const r=$_(this.serializer,n);return zE(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const s=new tv(n),o=function(e){return[0,Ov(e)]}(s);r.push(t.get(o).next((n=>n?vv.resolve():(n=>t.put({targetId:0,path:Ov(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>vv.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Qv});const n=t.store("collectionParents"),r=new PE,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Ov(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new tv(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,s]=e;const o=Fv(r);return i(o.popLast())}))))}ni(e){const t=e.store("targets");return t.J(((e,n)=>{const r=Z_(n),i=eE(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new iv(tv.fromString(e.document.name).popFirst(5)):e.noDocument?iv.fromSegments(e.noDocument.path):e.unknownDocument?iv.fromSegments(e.unknownDocument.path):Rg()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>vv.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=lI(this.serializer),i=new TI(CI.jr,this.serializer.ut);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:ab();$_(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),vv.forEach(n,((e,n)=>{const s=new Tg(n),o=lE.ct(this.serializer,s),a=i.getIndexManager(s),l=qE.ct(s,this.serializer,a,i.referenceDelegate);return new gI(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new ly(t,Av.oe),e).next()}))}))}}function NI(e){e.createObjectStore("targetDocuments",{keyPath:Gv}).createIndex("documentTargetsIndex",Hv,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Wv,{unique:!0}),e.createObjectStore("targetGlobal")}const AI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class PI{constructor(e,t,n,r,i,s,o,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:16;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=s,this.document=o,this.oi=l,this._i=c,this.ai=u,this.Br=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!PI.D())throw new Fg(Mg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new iI(this,r),this.Ii=t+"main",this.serializer=new H_(a),this.Ti=new wv(this.Ii,this.ai,new xI(this.serializer)),this.qr=new JE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lI(this.serializer),this.Kr=new sE,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===c&&Ag("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fg(Mg.FAILED_PRECONDITION,AI);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Br=new Av(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>RI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(Iv(e))return Ng("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ng("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return DI(e).get("owner").next((e=>vv.resolve(this.wi(e))))}Si(e){return RI(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=cy(e,"clientMetadata");return t.U().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return vv.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?vv.resolve(!0):DI(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new Fg(Mg.FAILED_PRECONDITION,AI);return!1}}return!(!this.networkEnabled||!this.inForeground)||RI(e).U().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Ng("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new ly(e,Av.oe);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>RI(e).U().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return qE.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new RE(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return lE.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){Ng("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 16===e?ay:15===e?oy:14===e?sy:13===e?iy:12===e?ry:11===e?ny:void Rg()}(this.ai);let s;return this.Ti.runTransaction(e,r,i,(r=>(s=new ly(r,this.Br?this.Br.next():Av.oe),"readwrite-primary"===t?this.fi(s).next((e=>!!e||this.gi(s))).next((t=>{if(!t)throw Ag("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new Fg(Mg.FAILED_PRECONDITION,pv);return n(s)})).next((e=>this.yi(s).next((()=>e)))):this.Bi(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Bi(e){return DI(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Fg(Mg.FAILED_PRECONDITION,AI)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return DI(e).put("owner",t)}static D(){return wv.D()}pi(e){const t=DI(e);return t.get("owner").next((e=>this.wi(e)?(Ng("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):vv.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Ag("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;qi()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Ng("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ag("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(Hx){Ag("Failed to set zombie client id.",Hx)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(Hx){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function DI(e){return cy(e,"owner")}function RI(e){return cy(e,"clientMetadata")}function OI(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class LI{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=ab(),r=ab();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new LI(e,t.fromCache,n,r)}}class MI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class FI{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=qi()?8:bv(Fi())>0?6:4}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new MI;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(xg()<=cs.DEBUG&&Ng("QueryEngine","SDK will not create cache indexes for query:",Ww(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),vv.resolve()):(xg()<=cs.DEBUG&&Ng("QueryEngine","Query:",Ww(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(xg()<=cs.DEBUG&&Ng("QueryEngine","The SDK decides to create cache indexes for query:",Ww(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Uw(t))):vv.resolve())}zi(e,t){if(Mw(t))return vv.resolve(null);let n=Uw(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Bw(t,null,"F"),n=Uw(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ab(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Yi(t,r);return this.Zi(t,s,i,n.readTime)?this.zi(e,Bw(t,null,"F")):this.Xi(e,s,t,n)}))))})))))}ji(e,t,n,r){return Mw(t)||r.isEqual(Zg.min())?vv.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const s=this.Yi(t,i);return this.Zi(t,s,n,r)?vv.resolve(null):(xg()<=cs.DEBUG&&Ng("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ww(t)),this.Xi(e,s,t,uv(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new gy(Qw(e));return t.forEach(((t,r)=>{Gw(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return xg()<=cs.DEBUG&&Ng("QueryEngine","Using full collection scan to execute query:",Ww(t)),this.Gi.getDocumentsMatchingQuery(e,t,dv.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class jI{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new fy(Jg),this.ns=new Yw((e=>Cw(e)),xw),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gI(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function UI(e,t,n,r){return new jI(e,t,n,r)}async function VI(e,t){const n=Lg(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=ab();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function zI(e){const t=Lg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function BI(e,t,n){let r=ab(),i=ab();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=$w();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Zg.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Ng("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{us:r,cs:i}}))}function qI(e,t){const n=Lg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function KI(e,t){const n=Lg(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,vv.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new G_(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function WI(e,t,n){const r=Lg(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Iv(e))throw e;Ng("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function GI(e,t,n){const r=Lg(e);let i=Zg.min(),s=ab();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Lg(e),i=r.ns.get(n);return void 0!==i?vv.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,Uw(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:Zg.min(),n?s:ab()))).next((e=>(JI(r,Hw(t),e),{documents:e,ls:s})))))}function HI(e,t){const n=Lg(e),r=Lg(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ot(e,t).next((e=>e?e.target:null))))}function QI(e,t){const n=Lg(e),r=n.rs.get(t)||Zg.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,uv(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(JI(n,t,e),e)))}function JI(e,t,n){let r=e.rs.get(t)||Zg.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function YI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ab();const r=await KI(e,Uw(tE(t.bundledQuery))),i=Lg(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=b_(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(e,t);const o=r.withResumeToken(_y.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(o.targetId,o),i.qr.updateTargetData(e,o).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function XI(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function $I(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ZI(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class eS{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Fg(r.error.code,r.error.message))),s?new eS(e,t,r.state,i):(Ag("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tS{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Fg(n.error.code,n.error.message))),i?new tS(e,n.state,r):(Ag("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=cb();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Rv(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new nS(e,i):(Ag("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class rS{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new rS(t.clientId,t.onlineState):(Ag("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class iS{constructor(){this.activeTargetIds=cb()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sS{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new fy(Jg),this.started=!1,this.ps=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=XI(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new iS),this.Ss=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(XI(this.persistenceKey,n));if(e){const t=nS.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(ZI(this.persistenceKey,e));if(n){const r=tS.Ts(e,n);r&&(t=r.state)}}return this.Bs.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Bs.As(e),this.Fs()}isLocalQueryTarget(e){return this.Bs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ZI(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ng("SharedClientState","READ",e,t),t}setItem(e,t){Ng("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ng("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(Ng("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void Ag("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=Av.oe;if(null!=e)try{const n=JSON.parse(e);Og("number"==typeof n),t=n}catch(e){Ag("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Av.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Bs(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Bs.Es())}Ns(e,t,n){const r=new eS(this.currentUser,e,t,n),i=$I(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Ls(e){const t=$I(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=ZI(this.persistenceKey,e),i=new tS(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return nS.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return eS.Ts(new Tg(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return tS.Ts(r,t)}Ms(e){return rS.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Ng("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.Xs(s,o).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=cb();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class oS{constructor(){this.eo=new iS,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new iS,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aS{ro(e){}shutdown(){}}class lS{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ng("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ng("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let cS=null;function uS(){return null===cS?cS=268435456+Math.round(2147483648*Math.random()):cS++,"0x"+cS.toString(16)}const hS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dS{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const fS="WebChannelConnection";class pS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.yo=t+"://"+e.host,this.wo="projects/".concat(n,"/databases/").concat(r),this.So="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get bo(){return!1}Do(e,t,n,r,i){const s=uS(),o=this.Co(e,t.toUriEncodedString());Ng("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(a,r,i),this.Fo(e,o,a,n).then((t=>(Ng("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Pg("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}Mo(e,t,n,r,i,s){return this.Do(e,t,n,r,i)}vo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+kg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Co(e,t){const n=hS[e];return"".concat(this.yo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,t,n,r){const i=uS();return new Promise(((s,o)=>{const a=new _g;a.setWithCredentials(!0),a.listenOnce(gg.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case mg.NO_ERROR:const t=a.getResponseJson();Ng(fS,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case mg.TIMEOUT:Ng(fS,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Fg(Mg.DEADLINE_EXCEEDED,"Request time out"));break;case mg.HTTP_ERROR:const n=a.getStatus();if(Ng(fS,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Mg).indexOf(t)>=0?t:Mg.UNKNOWN}(t.status);o(new Fg(e,t.message))}else o(new Fg(Mg.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Fg(Mg.UNAVAILABLE,"Connection failed."));break;default:Rg()}}finally{Ng(fS,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Ng(fS,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}xo(e,t,n){const r=uS(),i=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fg(),o=pg(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new wg({})),this.vo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Ng(fS,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new dS({co:t=>{d?Ng(fS,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Ng(fS,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Ng(fS,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,bg.EventType.OPEN,(()=>{d||(Ng(fS,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.Vo())})),p(u,bg.EventType.CLOSE,(()=>{d||(d=!0,Ng(fS,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.fo())})),p(u,bg.EventType.ERROR,(t=>{d||(d=!0,Pg(fS,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.fo(new Fg(Mg.UNAVAILABLE,"The operation could not be completed")))})),p(u,bg.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Og(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Ng(fS,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Gb[e];if(void 0!==t)return Jb(t)}(t),i=o.message;void 0===n&&(n=Mg.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.fo(new Fg(n,i)),u.close()}else Ng(fS,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.po(i)}})),p(o,vg.STAT_EVENT,(t=>{t.stat===yg.PROXY?Ng(fS,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===yg.NOPROXY&&Ng(fS,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.mo()}),0),f}}function mS(){return"undefined"!=typeof window?window:null}function gS(){return"undefined"!=typeof document?document:null}function vS(e){return new m_(e,!0)}class yS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Oo=n,this.No=r,this.Lo=i,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const t=Math.floor(this.Bo+this.$o()),n=Math.max(0,Date.now()-this.qo),r=Math.max(0,t-n);r>0&&Ng("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.ko=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.qo=Date.now(),e()))),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class wS{constructor(e,t,n,r,i,s,o,a){this.si=e,this.Wo=n,this.Go=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new yS(e,t)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,(()=>this.n_())))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,t){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,4!==e?this.Jo.reset():t&&t.code===Mg.RESOURCE_EXHAUSTED?(Ag(t.toString()),Ag("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):t&&t.code===Mg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(t)}o_(){}auth(){this.state=1;const e=this.__(this.zo),t=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.zo===t&&this.a_(n,r)}),(t=>{e((()=>{const e=new Fg(Mg.UNKNOWN,"Fetching auth token failed: "+t.message);return this.u_(e)}))}))}a_(e,t){const n=this.__(this.zo);this.stream=this.c_(e,t),this.stream.ho((()=>{n((()=>this.listener.ho()))})),this.stream.Io((()=>{n((()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,(()=>(this.Zo()&&(this.state=3),Promise.resolve()))),this.listener.Io())))})),this.stream.Eo((e=>{n((()=>this.u_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Xo(){this.state=5,this.Jo.Ko((async()=>{this.state=0,this.start()}))}u_(e){return Ng("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}__(e){return t=>{this.si.enqueueAndForget((()=>this.zo===e?t():(Ng("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bS extends wS{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}c_(e,t){return this.connection.xo("Listen",e,t)}onMessage(e){this.Jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Rg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Og(void 0===t||"string"==typeof t),_y.fromBase64String(t||"")):(Og(void 0===t||t instanceof Buffer||t instanceof Uint8Array),_y.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Mg.UNKNOWN:Jb(e.code);return new Fg(t,e.message||"")}(o);n=new a_(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=T_(e,r.document.name),s=b_(r.document.updateTime),o=r.document.createTime?b_(r.document.createTime):Zg.min(),a=new $y({mapValue:{fields:r.document.fields}}),l=ew.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new s_(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=T_(e,r.document),s=r.readTime?b_(r.readTime):Zg.min(),o=ew.newNoDocument(i,s),a=r.removedTargetIds||[];n=new s_([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=T_(e,r.document),s=r.removedTargetIds||[];n=new s_([],s,i,null)}else{if(!("filter"in t))return Rg();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Wb(r,i),o=e.targetId;n=new o_(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Zg.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Zg.min():t.readTime?b_(t.readTime):Zg.min()}(e);return this.listener.l_(t,n)}h_(e){const t={};t.database=x_(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Nw(r)?{documents:O_(e,r)}:{query:L_(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=y_(e,t.resumeToken);const r=g_(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Zg.min())>0){n.readTime=v_(e,t.snapshotVersion.toTimestamp());const r=g_(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rg()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.r_(t)}P_(e){const t={};t.database=x_(this.serializer),t.removeTarget=e,this.r_(t)}}class _S extends wS{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,t){return this.connection.xo("Write",e,t)}onMessage(e){if(Og(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const t=function(e,t){return e&&e.length>0?(Og(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?b_(e.updateTime):b_(t);return n.isEqual(Zg.min())&&(n=b_(t)),new kb(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=b_(e.commitTime);return this.listener.d_(n,t)}return Og(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=x_(this.serializer),this.r_(e)}E_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>D_(this.serializer,e)))};this.r_(t)}}class ES extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.V_=!1}m_(){if(this.V_)throw new Fg(Mg.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,t,n,r){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Do(e,E_(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Mg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Fg(Mg.UNKNOWN,e.toString())}))}Mo(e,t,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Mo(e,E_(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Mg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Fg(Mg.UNKNOWN,e.toString())}))}terminate(){this.V_=!0,this.connection.terminate()}}class IS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(Ag(t),this.y_=!1):Ng("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class SS{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.ro((e=>{n.enqueueAndForget((async()=>{RS(this)&&(Ng("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Lg(e);t.M_.add(4),await kS(t),t.N_.set("Unknown"),t.M_.delete(4),await TS(t)}(this))}))})),this.N_=new IS(n,r)}}async function TS(e){if(RS(e))for(const t of e.x_)await t(!0)}async function kS(e){for(const t of e.x_)await t(!1)}function CS(e,t){const n=Lg(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),DS(n)?PS(n):$S(n).Zo()&&NS(n,t))}function xS(e,t){const n=Lg(e),r=$S(n);n.F_.delete(t),r.Zo()&&AS(n,t),0===n.F_.size&&(r.Zo()?r.t_():RS(n)&&n.N_.set("Unknown"))}function NS(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Zg.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$S(e).h_(t)}function AS(e,t){e.L_.xe(t),$S(e).P_(t)}function PS(e){e.L_=new c_({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),$S(e).start(),e.N_.w_()}function DS(e){return RS(e)&&!$S(e).Yo()&&e.F_.size>0}function RS(e){return 0===Lg(e).M_.size}function OS(e){e.L_=void 0}async function LS(e){e.N_.set("Online")}async function MS(e){e.F_.forEach(((t,n)=>{NS(e,t)}))}async function FS(e,t){OS(e),DS(e)?(e.N_.D_(t),PS(e)):e.N_.set("Unknown")}async function jS(e,t,n){if(e.N_.set("Online"),t instanceof a_&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){Ng("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await US(e,n)}else if(t instanceof s_?e.L_.Ke(t):t instanceof o_?e.L_.He(t):e.L_.We(t),!n.isEqual(Zg.min()))try{const t=await zI(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(_y.EMPTY_BYTE_STRING,r.snapshotVersion)),AS(e,t);const i=new G_(r.target,t,n,r.sequenceNumber);NS(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ng("RemoteStore","Failed to raise snapshot:",t),await US(e,t)}}async function US(e,t,n){if(!Iv(t))throw t;e.M_.add(1),await kS(e),e.N_.set("Offline"),n||(n=()=>zI(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ng("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await TS(e)}))}function VS(e,t){return t().catch((n=>US(e,n,t)))}async function zS(e){const t=Lg(e),n=ZS(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;BS(t);)try{const e=await qI(t.localStore,r);if(null===e){0===t.v_.length&&n.t_();break}r=e.batchId,qS(t,e)}catch(e){await US(t,e)}KS(t)&&WS(t)}function BS(e){return RS(e)&&e.v_.length<10}function qS(e,t){e.v_.push(t);const n=ZS(e);n.Zo()&&n.T_&&n.E_(t.mutations)}function KS(e){return RS(e)&&!ZS(e).Yo()&&e.v_.length>0}function WS(e){ZS(e).start()}async function GS(e){ZS(e).R_()}async function HS(e){const t=ZS(e);for(const n of e.v_)t.E_(n.mutations)}async function QS(e,t,n){const r=e.v_.shift(),i=qb.from(r,t,n);await VS(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await zS(e)}async function JS(e,t){t&&ZS(e).T_&&await async function(e,t){if(function(e){return Qb(e)&&e!==Mg.ABORTED}(t.code)){const n=e.v_.shift();ZS(e).e_(),await VS(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await zS(e)}}(e,t),KS(e)&&WS(e)}async function YS(e,t){const n=Lg(e);n.asyncQueue.verifyOperationInProgress(),Ng("RemoteStore","RemoteStore received new credentials");const r=RS(n);n.M_.add(3),await kS(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await TS(n)}async function XS(e,t){const n=Lg(e);t?(n.M_.delete(2),await TS(n)):t||(n.M_.add(2),await kS(n),n.N_.set("Unknown"))}function $S(e){return e.B_||(e.B_=function(e,t,n){const r=Lg(e);return r.m_(),new bS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:LS.bind(null,e),Io:MS.bind(null,e),Eo:FS.bind(null,e),l_:jS.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.e_(),DS(e)?PS(e):e.N_.set("Unknown")):(await e.B_.stop(),OS(e))}))),e.B_}function ZS(e){return e.k_||(e.k_=function(e,t,n){const r=Lg(e);return r.m_(),new _S(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:()=>Promise.resolve(),Io:GS.bind(null,e),Eo:JS.bind(null,e),A_:HS.bind(null,e),d_:QS.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.e_(),await zS(e)):(await e.k_.stop(),e.v_.length>0&&(Ng("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class eT{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new jg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new eT(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fg(Mg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tT(e,t){if(Ag("AsyncQueue","".concat(t,": ").concat(e)),Iv(e))return new Fg(Mg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class nT{constructor(e){this.comparator=e?(t,n)=>e(t,n)||iv.comparator(t.key,n.key):(e,t)=>iv.comparator(e.key,t.key),this.keyedMap=eb(),this.sortedSet=new fy(this.comparator)}static emptySet(e){return new nT(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nT))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new nT;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class rT{constructor(){this.q_=new fy(iv.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Rg():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class iT{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new iT(e,t,nT.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class sT{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class oT{constructor(){this.queries=new Yw((e=>Kw(e)),qw),this.onlineState="Unknown",this.z_=new Set}}async function aT(e,t){const n=Lg(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.W_()&&t.G_()&&(r=2):(s=new sT,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=tT(e,"Initialization of query '".concat(Ww(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&hT(n)}async function lT(e,t){const n=Lg(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.U_.indexOf(t);e>=0&&(s.U_.splice(e,1),0===s.U_.length?i=t.G_()?0:1:!s.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cT(e,t){const n=Lg(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&hT(n)}function uT(e,t,n){const r=Lg(e),i=r.queries.get(t);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(t)}function hT(e){e.z_.forEach((e=>{e.next()}))}var dT,fT;(fT=dT||(dT={})).J_="default",fT.Cache="cache";class pT{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new iT(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=iT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==dT.Cache}}class mT{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class gT{constructor(e){this.serializer=e}hs(e){return T_(this.serializer,e)}Ps(e){return e.metadata.exists?P_(this.serializer,e.document,!1):ew.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return b_(e)}}class vT{constructor(e,t,n){this.oa=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yT(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const n=tv.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,n=new gT(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||ab()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Lg(e);let s=ab(),o=$w();for(const c of n){const e=t.hs(c.metadata.name);c.document&&(s=s.add(e));const n=t.Ps(c);n.setReadTime(t.Is(c.metadata.readTime)),o=o.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await KI(i,function(e){return Uw(Lw(tv.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>BI(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.qr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new gT(this.serializer),this.documents,this.oa.id),t=this.aa(this.documents);for(const n of this.queries)await YI(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function yT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class wT{constructor(e){this.key=e}}class bT{constructor(e){this.key=e}}class _T{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ab(),this.mutatedKeys=ab(),this.Ia=Qw(e),this.Ta=new nT(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new rT,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Gw(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ra(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ia(u,a)>0||l&&this.Ia(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:s,Aa:n,Zi:o,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rg()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const o=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,l=a!==this.ha;return this.ha=a,0!==s.length||l?{snapshot:new iT(this.query,e.Ta,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:o}:{fa:o}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new rT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ab(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new bT(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new wT(n))})),t}pa(e){this.la=e.ls,this.Pa=ab();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return iT.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class ET{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class IT{constructor(e){this.key=e,this.wa=!1}}class ST{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Yw((e=>Kw(e)),qw),this.Da=new Map,this.Ca=new Set,this.va=new fy(iv.comparator),this.Fa=new Map,this.Ma=new wI,this.xa={},this.Oa=new Map,this.Na=QE.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function TT(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=ek(e);let i;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await CT(r,t,n,!0),i}async function kT(e,t){const n=ek(e);await CT(n,t,!0,!1)}async function CT(e,t,n,r){const i=await KI(e.localStore,Uw(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await xT(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&CS(e.remoteStore,i),a}async function xT(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Zi&&(i=await GI(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return VT(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const s=await GI(e.localStore,t,!0),o=new _T(t,s.ls),a=o.da(s.documents),l=i_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);VT(e,n,c.fa);const u=new ET(t,n,o);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function NT(e,t,n){const r=Lg(e),i=r.ba.get(t),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter((e=>!qw(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await WI(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&xS(r.remoteStore,i.targetId),jT(r,i.targetId)})).catch(gv)):(jT(r,i.targetId),await WI(r.localStore,i.targetId,!0))}async function AT(e,t){const n=Lg(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xS(n.remoteStore,r.targetId))}async function PT(e,t){const n=Lg(e);try{const e=await function(e,t){const n=Lg(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(_y.EMPTY_BYTE_STRING,Zg.min()).withLastLimboFreeSnapshotVersion(Zg.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.qr.updateTargetData(e,c))}));let a=$w(),l=ab();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(BI(e,s,t.documentUpdates).next((e=>{a=e.us,l=e.cs}))),!r.isEqual(Zg.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return vv.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(Og(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?Og(r.wa):e.removedDocuments.size>0&&(Og(r.wa),r.wa=!1))})),await qT(n,e,t)}catch(e){await gv(e)}}function DT(e,t,n){const r=Lg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Lg(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&hT(n)}(r.eventManager,t),e.length&&r.Sa.l_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function RT(e,t,n){const r=Lg(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),s=i&&i.key;if(s){let e=new fy(iv.comparator);e=e.insert(s,ew.newNoDocument(s,Zg.min()));const n=ab().add(s),i=new r_(Zg.min(),new Map,new fy(Jg),e,n);await PT(r,i),r.va=r.va.remove(s),r.Fa.delete(t),BT(r)}else await WI(r.localStore,t,!1).then((()=>jT(r,t,n))).catch(gv)}async function OT(e,t){const n=Lg(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Lg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=vv.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Og(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ab();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);FT(n,r,null),MT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qT(n,e)}catch(e){await gv(e)}}async function LT(e,t,n){const r=Lg(e);try{const e=await function(e,t){const n=Lg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Og(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);FT(r,t,n),MT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await qT(r,e)}catch(n){await gv(n)}}function MT(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function FT(e,t,n){const r=Lg(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function jT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Rr(t).forEach((t=>{e.Ma.containsKey(t)||UT(e,t)}))}function UT(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(xS(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),BT(e))}function VT(e,t,n){for(const r of n)r instanceof wT?(e.Ma.addReference(r.key,t),zT(e,r)):r instanceof bT?(Ng("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||UT(e,r.key)):Rg()}function zT(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(Ng("SyncEngine","New document in limbo: "+n),e.Ca.add(r),BT(e))}function BT(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new iv(tv.fromString(t)),r=e.Na.next();e.Fa.set(r,new IT(n)),e.va=e.va.insert(n,r),CS(e.remoteStore,new G_(Uw(Lw(n.path)),r,"TargetPurposeLimboResolution",Av.oe))}}async function qT(e,t,n){const r=Lg(e),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{o.push(r.Ba(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=LI.Qi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Sa.l_(i),await async function(e,t){const n=Lg(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>vv.forEach(t,(t=>vv.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>vv.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Iv(e))throw e;Ng("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,s))}async function KT(e,t){const n=Lg(e);if(!n.currentUser.isEqual(t)){Ng("SyncEngine","User change. New user:",t.toKey());const e=await VI(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new Fg(Mg.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await qT(n,e._s)}}function WT(e,t){const n=Lg(e),r=n.Fa.get(t);if(r&&r.wa)return ab().add(r.key);{let e=ab();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}async function GT(e,t){const n=Lg(e),r=await GI(n.localStore,t.query,!0),i=t.view.pa(r);return n.isPrimaryClient&&VT(n,t.targetId,i.fa),i}async function HT(e,t){const n=Lg(e);return QI(n.localStore,t).then((e=>qT(n,e)))}async function QT(e,t,n,r){const i=Lg(e),s=await function(e,t){const n=Lg(e),r=Lg(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):vv.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await zS(i.remoteStore):"acknowledged"===n||"rejected"===n?(FT(i,t,r||null),MT(i,t),function(e,t){Lg(Lg(e).mutationQueue).Fn(t)}(i.localStore,t)):Rg(),await qT(i,s)):Ng("SyncEngine","Cannot apply mutation batch with id: "+t)}async function JT(e,t,n){const r=Lg(e),i=[],s=[];for(const o of t){let e;const t=r.Da.get(o);if(t&&0!==t.length){e=await KI(r.localStore,Uw(t[0]));for(const e of t){const t=r.ba.get(e),n=await GT(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await HI(r.localStore,o);e=await KI(r.localStore,t),await xT(r,YT(t),o,!1,e.resumeToken)}i.push(e)}return r.Sa.l_(s),i}function YT(e){return Ow(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function XT(e){return function(e){return Lg(Lg(e).persistence).Li()}(Lg(e).localStore)}async function $T(e,t,n,r){const i=Lg(e);if(i.La)return void Ng("SyncEngine","Ignoring unexpected query state notification.");const s=i.Da.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await QI(i.localStore,Hw(s[0])),r=r_.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,_y.EMPTY_BYTE_STRING);await qT(i,e,r);break}case"rejected":await WI(i.localStore,t,!0),jT(i,t,r);break;default:Rg()}}async function ZT(e,t,n){const r=ek(e);if(r.La){for(const e of t){if(r.Da.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Ng("SyncEngine","Adding an already active target "+e);continue}const t=await HI(r.localStore,e),n=await KI(r.localStore,t);await xT(r,YT(t),n.targetId,!1,n.resumeToken),CS(r.remoteStore,n)}for(const e of n)r.Da.has(e)&&await WI(r.localStore,e,!1).then((()=>{xS(r.remoteStore,e),jT(r,e)})).catch(gv)}}function ek(e){const t=Lg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=PT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RT.bind(null,t),t.Sa.l_=cT.bind(null,t.eventManager),t.Sa.ka=uT.bind(null,t.eventManager),t}function tk(e){const t=Lg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LT.bind(null,t),t}class nk{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=vS(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return UI(this.persistence,new FI,e.initialUser,this.serializer)}createPersistence(e){return new TI(CI.jr,this.serializer)}createSharedClientState(e){return new oS}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class rk extends nk{constructor(e,t,n){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await tk(this.Qa.syncEngine),await zS(this.Qa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return UI(this.persistence,new FI,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new tI(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Nv(t,this.persistence);return new xv(e.asyncQueue,n)}createPersistence(e){const t=OI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?VE.withCacheSize(this.cacheSizeBytes):VE.DEFAULT;return new PI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,mS(),gS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new oS}}class ik extends rk{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Qa.syncEngine;this.sharedClientState instanceof sS&&(this.sharedClientState.syncEngine={Ys:QT.bind(null,t),Zs:$T.bind(null,t),Xs:ZT.bind(null,t),Li:XT.bind(null,t),Js:HT.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=Lg(e);if(ek(n),tk(n),!0===t&&!0!==n.La){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await JT(n,e.toArray());n.La=!0,await XS(n.remoteStore,!0);for(const r of t)CS(n.remoteStore,r)}else if(!1===t&&!1!==n.La){const e=[];let t=Promise.resolve();n.Da.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(jT(n,i),WI(n.localStore,i,!0)))),xS(n.remoteStore,i)})),await t,await JT(n,e),function(e){const t=Lg(e);t.Fa.forEach(((e,n)=>{xS(t.remoteStore,n)})),t.Ma.Vr(),t.Fa=new Map,t.va=new fy(iv.comparator)}(n),n.La=!1,await XS(n.remoteStore,!1)}}(this.Qa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=mS();if(!sS.D(t))throw new Fg(Mg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=OI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class sk{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>DT(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=KT.bind(null,this.syncEngine),await XS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new oT}createDatastore(e){const t=vS(e.databaseInfo.databaseId),n=function(e){return new pS(e)}(e.databaseInfo);return function(e,t,n,r){return new ES(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new SS(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>DT(this.syncEngine,e,0)),lS.D()?new lS:new aS)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new ST(e,t,n,r,i,s);return o&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Lg(e);Ng("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await kS(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function ok(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class ak{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ag("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class lk{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new jg,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then((e=>{e&&e.sa()?this.metadata.resolve(e.ia.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ia))))}),(e=>this.metadata.reject(e)))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(null===e)return null;const t=this.Wa.decode(e),n=Number(t);isNaN(n)&&this.ja("length string (".concat(t,") is not valid number"));const r=await this.Ha(n);return new mT(JSON.parse(r),e.length+n)}Ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async za(){for(;this.Ja()<0&&!await this.Ya(););if(0===this.buffer.length)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const t=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ja(e){throw this.Ua.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ya(){const e=await this.Ua.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class ck{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Fg(Mg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Lg(e),r={documents:t.map((e=>S_(n.serializer,e)))},i=await n.Mo("BatchGetDocuments",n.serializer.databaseId,tv.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Og(!!t.found),t.found.name,t.found.updateTime;const n=T_(e,t.found.name),r=b_(t.found.updateTime),i=t.found.createTime?b_(t.found.createTime):Zg.min(),s=new $y({mapValue:{fields:t.found.fields}});return ew.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Og(!!t.missing),Og(!!t.readTime);const n=T_(e,t.missing),r=b_(t.readTime);return ew.newNoDocument(n,r)}(e,t):Rg()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());Og(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=iv.fromPath(t);this.mutations.push(new zb(n,this.precondition(n)))})),await async function(e,t){const n=Lg(e),r={writes:t.map((e=>D_(n.serializer,e)))};await n.Do("Commit",n.serializer.databaseId,tv.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Rg();t=Zg.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Fg(Mg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Zg.min())?Cb.exists(!1):Cb.updateTime(t):Cb.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Zg.min()))throw new Fg(Mg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cb.updateTime(t)}return Cb.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uk{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Za=n.maxAttempts,this.Jo=new yS(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Jo.Ko((async()=>{const e=new ck(this.datastore),t=this.tu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.nu(e)}))))})).catch((e=>{this.nu(e)}))}))}tu(e){try{const t=this.updateFunction(e);return!Pv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget((()=>(this.eu(),Promise.resolve())))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Qb(t)}return!1}}class hk{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Tg.UNAUTHENTICATED,this.clientId=Qg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Ng("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ng("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fg(Mg.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=tT(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function dk(e,t){e.asyncQueue.verifyOperationInProgress(),Ng("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await VI(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function fk(e,t){e.asyncQueue.verifyOperationInProgress();const n=await mk(e);Ng("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>YS(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>YS(t.remoteStore,n))),e._onlineComponents=t}function pk(e){return"FirebaseError"===e.name?e.code===Mg.FAILED_PRECONDITION||e.code===Mg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function mk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ng("FirestoreClient","Using user provided OfflineComponentProvider");try{await dk(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!pk(n))throw n;Pg("Error using user provided cache. Falling back to memory cache: "+n),await dk(e,new nk)}}else Ng("FirestoreClient","Using default OfflineComponentProvider"),await dk(e,new nk);return e._offlineComponents}async function gk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ng("FirestoreClient","Using user provided OnlineComponentProvider"),await fk(e,e._uninitializedComponentsProvider._online)):(Ng("FirestoreClient","Using default OnlineComponentProvider"),await fk(e,new sk))),e._onlineComponents}function vk(e){return mk(e).then((e=>e.persistence))}function yk(e){return mk(e).then((e=>e.localStore))}function wk(e){return gk(e).then((e=>e.remoteStore))}function bk(e){return gk(e).then((e=>e.syncEngine))}function _k(e){return gk(e).then((e=>e.datastore))}async function Ek(e){const t=await gk(e),n=t.eventManager;return n.onListen=TT.bind(null,t.syncEngine),n.onUnlisten=NT.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=kT.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=AT.bind(null,t.syncEngine),n}function Ik(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new jg;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ak({next:s=>{t.enqueueAndForget((()=>lT(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Fg(Mg.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Fg(Mg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new pT(Lw(n.path),s,{includeMetadataChanges:!0,ra:!0});return aT(e,o)}(await Ek(e),e.asyncQueue,t,n,r))),r.promise}function Sk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new jg;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ak({next:n=>{t.enqueueAndForget((()=>lT(e,o))),n.fromCache&&"server"===r.source?i.reject(new Fg(Mg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new pT(n,s,{includeMetadataChanges:!0,ra:!0});return aT(e,o)}(await Ek(e),e.asyncQueue,t,n,r))),r.promise}function Tk(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Xb().encode(e):e,function(e,t){return new lk(e,t)}(function(e,t){if(e instanceof Uint8Array)return ok(e,t);if(e instanceof ArrayBuffer)return ok(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,vS(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Lg(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Lg(e),r=b_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(yT(r));const i=new vT(r,e.localStore,t.serializer);let s=await t.qa();for(;s;){const e=await i._a(s);e&&n._updateProgress(e),s=await t.qa()}const o=await i.complete();return await qT(e,o.ca,void 0),await function(e,t){const n=Lg(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.ua)}catch(e){return Pg("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await bk(e),i,r)}))}function kk(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ck=new Map;function xk(e,t,n){if(!n)throw new Fg(Mg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Nk(e,t,n,r){if(!0===t&&!0===r)throw new Fg(Mg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Ak(e){if(!iv.isDocumentKey(e))throw new Fg(Mg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Pk(e){if(iv.isDocumentKey(e))throw new Fg(Mg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Dk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Rg()}function Rk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fg(Mg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dk(e);throw new Fg(Mg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Ok(e,t){if(t<=0)throw new Fg(Mg.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Lk{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Fg(Mg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fg(Mg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kk(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Fg(Mg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Fg(Mg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Fg(Mg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mk{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fg(Mg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fg(Mg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vg;switch(e.type){case"firstParty":return new Kg(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Fg(Mg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ck.get(e);t&&(Ng("ComponentProvider","Removing Datastore"),Ck.delete(e),t.terminate())}(this),Promise.resolve()}}function Fk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Rk(e,Mk))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Pg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Tg.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ai(JSON.stringify({alg:"none",type:"JWT"})),Ai(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Fg(Mg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Tg(s)}e._authCredentials=new zg(new Ug(t,n))}}class jk{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new jk(this.firestore,e,this._query)}}class Uk{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vk(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Uk(this.firestore,e,this._key)}}class Vk extends jk{constructor(e,t,n){super(e,t,Lw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Uk(this.firestore,null,new iv(e))}withConverter(e){return new Vk(this.firestore,e,this._path)}}function zk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=rs(e),xk("collection","path",t),e instanceof Mk){const n=tv.fromString(t,...r);return Pk(n),new Vk(e,null,n)}{if(!(e instanceof Uk||e instanceof Vk))throw new Fg(Mg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(tv.fromString(t,...r));return Pk(n),new Vk(e.firestore,null,n)}}function Bk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=rs(e),1===arguments.length&&(t=Qg.newId()),xk("doc","path",t),e instanceof Mk){const n=tv.fromString(t,...r);return Ak(n),new Uk(e,null,new iv(n))}{if(!(e instanceof Uk||e instanceof Vk))throw new Fg(Mg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(tv.fromString(t,...r));return Ak(n),new Uk(e.firestore,e instanceof Vk?e.converter:null,new iv(n))}}function qk(e,t){return e=rs(e),t=rs(t),(e instanceof Uk||e instanceof Vk)&&(t instanceof Uk||t instanceof Vk)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Kk(e,t){return e=rs(e),t=rs(t),e instanceof jk&&t instanceof jk&&e.firestore===t.firestore&&qw(e._query,t._query)&&e.converter===t.converter}class Wk{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new yS(this,"async_queue_retry"),this.hu=()=>{const e=gS();e&&Ng("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Jo.Uo()};const e=gS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=gS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new jg;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(Hx){if(!Iv(Hx))throw Hx;Ng("AsyncQueue","Operation failed with retryable error: "+Hx)}this.su.length>0&&this.Jo.Ko((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ag("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=eT.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&Rg()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function Gk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Hk{constructor(){this._progressObserver={},this._taskCompletionResolver=new jg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qk extends Mk{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Wk,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Yk(this),this._firestoreClient.terminate()}}function Jk(e){return e._firestoreClient||Yk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Yk(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Ny(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,kk(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new hk(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Xk(e,t,n){const r=new jg;return e.asyncQueue.enqueue((async()=>{try{await dk(e,n),await fk(e,t),r.resolve()}catch(e){const n=e;if(!pk(n))throw n;Pg("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function $k(e){return function(e){const t=new jg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Lg(e);RS(n.remoteStore)||Ng("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Lg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Oa.get(e)||[];r.push(t),n.Oa.set(e,r)}catch(e){const n=tT(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await bk(e),t))),t.promise}(Jk(e=Rk(e,Qk)))}function Zk(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await vk(e),n=await wk(e);return t.setNetworkEnabled(!0),function(e){const t=Lg(e);return t.M_.delete(0),TS(t)}(n)}))}(Jk(e=Rk(e,Qk)))}function eC(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await vk(e),n=await wk(e);return t.setNetworkEnabled(!1),async function(e){const t=Lg(e);t.M_.add(0),await kS(t),t.N_.set("Offline")}(n)}))}(Jk(e=Rk(e,Qk)))}function tC(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Lg(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await yk(e),t)))}(Jk(e=Rk(e,Qk)),t).then((t=>t?new jk(e,null,t.query):null))}function nC(e){if(e._initialized||e._terminated)throw new Fg(Mg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class rC{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rC(_y.fromBase64String(e))}catch(e){throw new Fg(Mg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new rC(_y.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class iC{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rv(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sC{constructor(e){this._methodName=e}}class oC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fg(Mg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fg(Mg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jg(this._lat,e._lat)||Jg(this._long,e._long)}}const aC=/^__.*__$/;class lC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Mb(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lb(e,this.data,t,this.fieldTransforms)}}class cC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Mb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function uC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rg()}}class hC{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new hC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return PC(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(uC(this.fu)&&aC.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class dC{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||vS(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new hC({fu:e,methodName:t,vu:n,path:rv.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fC(e){const t=e._freezeSettings(),n=vS(e._databaseId);return new dC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pC(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);CC("Data must be an object, but it was:",o,r);const a=TC(r,o);let l,c;if(s.merge)l=new wy(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=xC(t,r,n);if(!o.contains(i))throw new Fg(Mg.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));DC(e,i)||e.push(i)}l=new wy(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new lC(new $y(a),l,c)}class mC extends sC{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mC}}function gC(e,t,n){return new hC({fu:3,vu:t.settings.vu,methodName:e._methodName,yu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class vC extends sC{_toFieldTransform(e){return new Tb(e.path,new vb)}isEqual(e){return e instanceof vC}}class yC extends sC{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=gC(this,e,!0),n=this.Mu.map((e=>SC(e,t))),r=new yb(n);return new Tb(e.path,r)}isEqual(e){return e instanceof yC&&Ji(this.Mu,e.Mu)}}class wC extends sC{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=gC(this,e,!0),n=this.Mu.map((e=>SC(e,t))),r=new bb(n);return new Tb(e.path,r)}isEqual(e){return e instanceof wC&&Ji(this.Mu,e.Mu)}}class bC extends sC{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new Eb(e.serializer,db(e.serializer,this.xu));return new Tb(e.path,t)}isEqual(e){return e instanceof bC&&this.xu===e.xu}}function _C(e,t,n,r){const i=e.Fu(1,t,n);CC("Data must be an object, but it was:",i,r);const s=[],o=$y.empty();hy(r,((e,r)=>{const a=AC(t,e,n);r=rs(r);const l=i.Su(a);if(r instanceof mC)s.push(a);else{const e=SC(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new wy(s);return new cC(o,a,i.fieldTransforms)}function EC(e,t,n,r,i,s){const o=e.Fu(1,t,n),a=[xC(t,r,n)],l=[i];if(s.length%2!=0)throw new Fg(Mg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(xC(t,s[d])),l.push(s[d+1]);const c=[],u=$y.empty();for(let d=a.length-1;d>=0;--d)if(!DC(c,a[d])){const e=a[d];let t=l[d];t=rs(t);const n=o.Su(e);if(t instanceof mC)c.push(e);else{const r=SC(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new wy(c);return new cC(u,h,o.fieldTransforms)}function IC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return SC(n,e.Fu(r?4:3,t))}function SC(e,t){if(kC(e=rs(e)))return CC("Unsupported field value:",t,e),TC(e,t);if(e instanceof sC)return function(e,t){if(!uC(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=SC(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=rs(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return db(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=$g.fromDate(e);return{timestampValue:v_(t.serializer,n)}}if(e instanceof $g){const n=new $g(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:v_(t.serializer,n)}}if(e instanceof oC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof rC)return{bytesValue:y_(t.serializer,e._byteString)};if(e instanceof Uk){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:__(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(Dk(e)))}(e,t)}function TC(e,t){const n={};return dy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hy(e,((e,r)=>{const i=SC(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function kC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof $g||e instanceof oC||e instanceof rC||e instanceof Uk||e instanceof sC)}function CC(e,t,n){if(!kC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Dk(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function xC(e,t,n){if((t=rs(t))instanceof iC)return t._internalPath;if("string"==typeof t)return AC(e,t);throw PC("Field path arguments must be of type string or ",e,!1,void 0,n)}const NC=new RegExp("[~\\*/\\[\\]]");function AC(e,t,n){if(t.search(NC)>=0)throw PC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new iC(...t.split("."))._internalPath}catch(gd){throw PC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function PC(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Fg(Mg.INVALID_ARGUMENT,a+e+l)}function DC(e,t){return e.some((e=>e.isEqual(t)))}class RC{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Uk(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new OC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(LC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class OC extends RC{data(){return super.data()}}function LC(e,t){return"string"==typeof t?AC(e,t):t instanceof iC?t._internalPath:t._delegate._internalPath}function MC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Fg(Mg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FC{}class jC extends FC{}function UC(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof FC&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof zC)).length,n=e.filter((e=>e instanceof VC)).length;if(t>1||t>0&&n>0)throw new Fg(Mg.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class VC extends jC{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new VC(e,t,n)}_apply(e){const t=this._parse(e);return JC(e._query,t),new jk(e.firestore,e.converter,zw(e._query,t))}_parse(e){const t=fC(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){QC(o,s);const t=[];for(const n of o)t.push(HC(r,e,n));a={arrayValue:{values:t}}}else a=HC(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||QC(o,s),a=IC(n,t,o,"in"===s||"not-in"===s);return aw.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class zC extends FC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zC(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:lw.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)JC(n,i),n=zw(n,i)}(e._query,t),new jk(e.firestore,e.converter,zw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class BC extends jC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new BC(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iw(t,n)}(e._query,this._field,this._direction);return new jk(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Rw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class qC extends jC{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new qC(e,t,n)}_apply(e){return new jk(e.firestore,e.converter,Bw(e._query,this._limit,this._limitType))}}class KC extends jC{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new KC(e,t,n)}_apply(e){const t=GC(e,this.type,this._docOrFields,this._inclusive);return new jk(e.firestore,e.converter,function(e,t){return new Rw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class WC extends jC{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new WC(e,t,n)}_apply(e){const t=GC(e,this.type,this._docOrFields,this._inclusive);return new jk(e.firestore,e.converter,function(e,t){return new Rw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function GC(e,t,n,r){if(n[0]=rs(n[0]),n[0]instanceof RC)return function(e,t,n,r,i){if(!r)throw new Fg(Mg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of jw(e))if(o.field.isKeyField())s.push(Vy(t,r.key));else{const e=r.data.field(o.field);if(ky(e))throw new Fg(Mg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new tw(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=fC(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Fg(Mg.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Fw(e)&&-1!==s.indexOf("/"))throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(tv.fromString(s));if(!iv.isDocumentKey(n))throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new iv(n);a.push(Vy(t,i))}else{const e=IC(n,r,s);a.push(e)}}return new tw(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function HC(e,t,n){if("string"==typeof(n=rs(n))){if(""===n)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fw(t)&&-1!==n.indexOf("/"))throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(tv.fromString(n));if(!iv.isDocumentKey(r))throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Vy(e,new iv(r))}if(n instanceof Uk)return Vy(e,n._key);throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Dk(n),"."))}function QC(e,t){if(!Array.isArray(e)||0===e.length)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function JC(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Fg(Mg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Fg(Mg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class YC{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ry(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ty(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Rg()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return hy(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new oC(Sy(e.latitude),Sy(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Cy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xy(e));default:return null}}convertTimestamp(e){const t=Iy(e);return new $g(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=tv.fromString(e);Og(W_(n));const r=new Ay(n.get(1),n.get(3)),i=new iv(n.popFirst(5));return r.isEqual(t)||Ag("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function XC(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class $C extends YC{constructor(e){super(),this.firestore=e}convertBytes(e){return new rC(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Uk(this.firestore,null,t)}}class ZC{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ex extends RC{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new tx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(LC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class tx extends ex{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class nx{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ZC(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new tx(this._firestore,this._userDataWriter,n.key,n,new ZC(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Fg(Mg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new tx(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ZC(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new tx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ZC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:rx(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function rx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rg()}}function ix(e,t){return e instanceof ex&&t instanceof ex?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof nx&&t instanceof nx&&e._firestore===t._firestore&&Kk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class sx extends YC{constructor(e){super(),this.firestore=e}convertBytes(e){return new rC(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Uk(this.firestore,null,t)}}function ox(e){e=Rk(e,Uk);const t=Rk(e.firestore,Qk),n=Jk(t),r=new sx(t);return function(e,t){const n=new jg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Lg(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Fg(Mg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=tT(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await yk(e),t,n))),n.promise}(n,e._key).then((n=>new ex(t,r,e._key,n,new ZC(null!==n&&n.hasLocalMutations,!0),e.converter)))}function ax(e){e=Rk(e,jk);const t=Rk(e.firestore,Qk),n=Jk(t),r=new sx(t);return function(e,t){const n=new jg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await GI(e,t,!0),i=new _T(t,r.ls),s=i.da(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=tT(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await yk(e),t,n))),n.promise}(n,e._query).then((n=>new nx(t,r,e,n)))}function lx(e,t,n){e=Rk(e,Uk);const r=Rk(e.firestore,Qk),i=XC(e.converter,t,n);return dx(r,[pC(fC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Cb.none())])}function cx(e,t,n){e=Rk(e,Uk);const r=Rk(e.firestore,Qk),i=fC(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=rs(t))||t instanceof iC?EC(i,"updateDoc",e._key,t,n,a):_C(i,"updateDoc",e._key,t),dx(r,[s.toMutation(e._key,Cb.exists(!0))])}function ux(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=rs(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Gk(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Gk(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof Uk)h=Rk(e.firestore,Qk),d=Lw(e._key.path),u={next:t=>{n[l]&&n[l](fx(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Rk(e,jk);h=Rk(t.firestore,Qk),d=t._query;const r=new sx(h);u={next:e=>{n[l]&&n[l](new nx(h,r,t,e))},error:n[l+1],complete:n[l+2]},MC(e._query)}return function(e,t,n,r){const i=new ak(r),s=new pT(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>aT(await Ek(e),s))),()=>{i.$a(),e.asyncQueue.enqueueAndForget((async()=>lT(await Ek(e),s)))}}(Jk(h),d,c,u)}function hx(e,t){return function(e,t){const n=new ak(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Lg(e).z_.add(t),t.next()}(await Ek(e),n))),()=>{n.$a(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Lg(e).z_.delete(t)}(await Ek(e),n)))}}(Jk(e=Rk(e,Qk)),Gk(t)?t:{next:t})}function dx(e,t){return function(e,t){const n=new jg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=tk(e);try{const e=await function(e,t){const n=Lg(e),r=$g.now(),i=t.reduce(((e,t)=>e.add(t.key)),ab());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=$w(),l=ab();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Rb(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Mb(e.key,t,Zy(t.value.mapValue),Cb.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:tb(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new fy(Jg)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await qT(r,e.changes),await zS(r.remoteStore)}catch(e){const t=tT(e,"Failed to persist write");n.reject(t)}}(await bk(e),t,n))),n.promise}(Jk(e),t)}function fx(e,t,n){const r=n.docs.get(t._key),i=new sx(e);return new ex(e,i,t._key,r,new ZC(n.hasPendingWrites,n.fromCache),t.converter)}const px={maxAttempts:5};class mx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=fC(e)}set(e,t,n){this._verifyNotCommitted();const r=gx(e,this._firestore),i=XC(r.converter,t,n),s=pC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Cb.none())),this}update(e,t,n){this._verifyNotCommitted();const r=gx(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=rs(t))||t instanceof iC?EC(this._dataReader,"WriteBatch.update",r._key,t,n,o):_C(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Cb.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=gx(e,this._firestore);return this._mutations=this._mutations.concat(new Vb(t._key,Cb.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fg(Mg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gx(e,t){if((e=rs(e)).firestore!==t)throw new Fg(Mg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class vx extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=fC(e)}get(e){const t=gx(e,this._firestore),n=new $C(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Rg();const r=e[0];if(r.isFoundDocument())return new RC(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new RC(this._firestore,n,t._key,null,t.converter);throw Rg()}))}set(e,t,n){const r=gx(e,this._firestore),i=XC(r.converter,t,n),s=pC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=gx(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=rs(t))||t instanceof iC?EC(this._dataReader,"Transaction.update",r._key,t,n,o):_C(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=gx(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=gx(e,this._firestore),n=new sx(this._firestore);return super.get(e).then((e=>new ex(this._firestore,n,t._key,e._document,new ZC(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){kg=e}(Io),po(new is("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Qk(new Bg(e.getProvider("auth-internal")),new Gg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fg(Mg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ay(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),No(Sg,"4.6.1",e),No(Sg,"4.6.1","esm2017")}();function yx(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Fg("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function wx(){if("undefined"===typeof Uint8Array)throw new Fg("unimplemented","Uint8Arrays are not available in this environment.")}function bx(){if("undefined"==typeof atob)throw new Fg("unimplemented","Blobs are unavailable in Firestore in this environment.")}class _x{constructor(e){this._delegate=e}static fromBase64String(e){return bx(),new _x(rC.fromBase64String(e))}static fromUint8Array(e){return wx(),new _x(rC.fromUint8Array(e))}toBase64(){return bx(),this._delegate.toBase64()}toUint8Array(){return wx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ex(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Ix{enableIndexedDbPersistence(e,t){return function(e,t){nC(e=Rk(e,Qk));const n=Jk(e);if(n._uninitializedComponentsProvider)throw new Fg(Mg.FAILED_PRECONDITION,"SDK cache is already specified.");Pg("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new sk;return Xk(n,i,new rk(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){nC(e=Rk(e,Qk));const t=Jk(e);if(t._uninitializedComponentsProvider)throw new Fg(Mg.FAILED_PRECONDITION,"SDK cache is already specified.");Pg("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new sk;return Xk(t,r,new ik(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Fg(Mg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new jg;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!wv.D())return Promise.resolve();const t=e+"main";await wv.delete(t)}(OI(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Sx{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ay||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Pg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Fk(this._delegate,e,t,n)}enableNetwork(){return Zk(this._delegate)}disableNetwork(){return eC(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Nk("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return $k(this._delegate)}onSnapshotsInSync(e){return hx(this._delegate,e)}get app(){if(!this._appCompat)throw new Fg("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new jx(this,zk(this._delegate,e))}catch(Hx){throw Ax(Hx,"collection()","Firestore.collection()")}}doc(e){try{return new Nx(this,Bk(this._delegate,e))}catch(Hx){throw Ax(Hx,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Lx(this,function(e,t){if(e=Rk(e,Mk),xk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new jk(e,null,function(e){return new Rw(tv.emptyPath(),e)}(t))}(this._delegate,e))}catch(Hx){throw Ax(Hx,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Rk(e,Qk);const r=Object.assign(Object.assign({},px),n);return function(e){if(e.maxAttempts<1)throw new Fg(Mg.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new jg;return e.asyncQueue.enqueueAndForget((async()=>{const i=await _k(e);new uk(e.asyncQueue,i,n,t,r).Xa()})),r.promise}(Jk(e),(n=>t(new vx(e,n))),r)}(this._delegate,(t=>e(new kx(this,t))))}batch(){return Jk(this._delegate),new Cx(new mx(this._delegate,(e=>dx(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Jk(e=Rk(e,Qk)),r=new Hk;return Tk(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return tC(this._delegate,e).then((e=>e?new Lx(this,e):null))}}class Tx extends YC{constructor(e){super(),this.firestore=e}convertBytes(e){return new _x(new rC(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Nx.forKey(t,this.firestore,null)}}class kx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Tx(e)}get(e){const t=Ux(e);return this._delegate.get(t).then((e=>new Rx(this._firestore,new ex(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Ux(e);return n?(yx("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=Ux(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=Ux(e);return this._delegate.delete(t),this}}class Cx{constructor(e){this._delegate=e}set(e,t,n){const r=Ux(e);return n?(yx("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=Ux(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=Ux(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class xx{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new tx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ox(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=xx.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new xx(e,new Tx(e),t),r.set(t,i)),i}}xx.INSTANCES=new WeakMap;class Nx{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tx(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Fg("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new Nx(t,new Uk(t._delegate,n,new iv(e)))}static forKey(e,t,n){return new Nx(t,new Uk(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new jx(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new jx(this.firestore,zk(this._delegate,e))}catch(Hx){throw Ax(Hx,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=rs(e))instanceof Uk&&qk(this._delegate,e)}set(e,t){t=yx("DocumentReference.set",t);try{return t?lx(this._delegate,e,t):lx(this._delegate,e)}catch(Hx){throw Ax(Hx,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?cx(this._delegate,e):cx(this._delegate,e,t,...r)}catch(Hx){throw Ax(Hx,"updateDoc()","DocumentReference.update()")}}delete(){return dx(Rk((e=this._delegate).firestore,Qk),[new Vb(e._key,Cb.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Px(t),i=Dx(t,(e=>new Rx(this.firestore,new ex(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return ux(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?ox(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Rk(e,Uk);const t=Rk(e.firestore,Qk);return Ik(Jk(t),e._key,{source:"server"}).then((n=>fx(t,e,n)))}(this._delegate):function(e){e=Rk(e,Uk);const t=Rk(e.firestore,Qk);return Ik(Jk(t),e._key).then((n=>fx(t,e,n)))}(this._delegate),t.then((e=>new Rx(this.firestore,new ex(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Nx(this.firestore,e?this._delegate.withConverter(xx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ax(e,t,n){return e.message=e.message.replace(t,n),e}function Px(e){for(const t of e)if("object"===typeof t&&!Ex(t))return t;return{}}function Dx(e,t){var n,r;let i;return i=Ex(e[0])?e[0]:Ex(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Rx{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Nx(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ix(this._delegate,e._delegate)}}class Ox extends Rx{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Rg(),t}}class Lx{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tx(e)}where(e,t,n){try{return new Lx(this.firestore,UC(this._delegate,function(e,t,n){const r=t,i=LC("where",e);return VC._create(i,r,n)}(e,t,n)))}catch(Hx){throw Ax(Hx,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Lx(this.firestore,UC(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=LC("orderBy",e);return BC._create(n,t)}(e,t)))}catch(Hx){throw Ax(Hx,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Lx(this.firestore,UC(this._delegate,(Ok("limit",t=e),qC._create("limit",t,"F"))))}catch(t){throw Ax(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new Lx(this.firestore,UC(this._delegate,(Ok("limitToLast",t=e),qC._create("limitToLast",t,"L"))))}catch(t){throw Ax(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new Lx(this.firestore,UC(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return KC._create("startAt",t,!0)}(...arguments)))}catch(Hx){throw Ax(Hx,"startAt()","Query.startAt()")}}startAfter(){try{return new Lx(this.firestore,UC(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return KC._create("startAfter",t,!1)}(...arguments)))}catch(Hx){throw Ax(Hx,"startAfter()","Query.startAfter()")}}endBefore(){try{return new Lx(this.firestore,UC(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return WC._create("endBefore",t,!1)}(...arguments)))}catch(Hx){throw Ax(Hx,"endBefore()","Query.endBefore()")}}endAt(){try{return new Lx(this.firestore,UC(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return WC._create("endAt",t,!0)}(...arguments)))}catch(Hx){throw Ax(Hx,"endAt()","Query.endAt()")}}isEqual(e){return Kk(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?ax(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Rk(e,jk);const t=Rk(e.firestore,Qk),n=Jk(t),r=new sx(t);return Sk(n,e._query,{source:"server"}).then((n=>new nx(t,r,e,n)))}(this._delegate):function(e){e=Rk(e,jk);const t=Rk(e.firestore,Qk),n=Jk(t),r=new sx(t);return MC(e._query),Sk(n,e._query).then((n=>new nx(t,r,e,n)))}(this._delegate),t.then((e=>new Fx(this.firestore,new nx(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Px(t),i=Dx(t,(e=>new Fx(this.firestore,new nx(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return ux(this._delegate,r,i)}withConverter(e){return new Lx(this.firestore,e?this._delegate.withConverter(xx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Mx{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ox(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Fx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Lx(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Ox(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Mx(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Ox(this._firestore,n))}))}isEqual(e){return ix(this._delegate,e._delegate)}}class jx extends Lx{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Nx(this.firestore,e):null}doc(e){try{return new Nx(this.firestore,void 0===e?Bk(this._delegate):Bk(this._delegate,e))}catch(Hx){throw Ax(Hx,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Rk(e.firestore,Qk),r=Bk(e),i=XC(e.converter,t);return dx(n,[pC(fC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Cb.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new Nx(this.firestore,e)))}isEqual(e){return qk(this._delegate,e._delegate)}withConverter(e){return new jx(this.firestore,e?this._delegate.withConverter(xx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ux(e){return Rk(e,Uk)}class Vx{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new iC(...t)}static documentId(){return new Vx(rv.keyField().canonicalString())}isEqual(e){return(e=rs(e))instanceof iC&&this._delegate._internalPath.isEqual(e._internalPath)}}class zx{constructor(e){this._delegate=e}static serverTimestamp(){const e=new vC("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new zx(e)}static delete(){const e=new mC("deleteField");return e._methodName="FieldValue.delete",new zx(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yC("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new zx(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wC("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new zx(e)}static increment(e){const t=new bC("increment",e);return t._methodName="FieldValue.increment",new zx(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Bx={Firestore:Sx,GeoPoint:oC,Timestamp:$g,Blob:_x,Transaction:kx,WriteBatch:Cx,DocumentReference:Nx,DocumentSnapshot:Rx,Query:Lx,QueryDocumentSnapshot:Ox,QuerySnapshot:Fx,CollectionReference:jx,FieldPath:Vx,FieldValue:zx,setLogLevel:function(e){var t;t=e,Cg.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new is("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Bx)))}(e,((e,t)=>new Sx(e,t,new Ix))),e.registerVersion("@firebase/firestore-compat","0.3.30")}(Qo);const qx=Qo.initializeApp({apiKey:"AIzaSyC_2onAH_uiyDOSQr7NKp4ZEvToQGA7F84",authDomain:"portfolio-website-contac-59b6d.firebaseapp.com",projectId:"portfolio-website-contac-59b6d",storageBucket:"portfolio-website-contac-59b6d.appspot.com",messagingSenderId:"202055918571",appId:"1:202055918571:web:0dd75a9a19c50116beefae"}).firestore(),Kx=()=>{const[e,n]=(0,t.useState)({firstName:"",lastName:"",email:"",phone:"",message:""}),r=(t,r)=>{n({...e,[t]:r})},i=async t=>{t.preventDefault(),qx.collection("contact").add({formDetails:e}).then((()=>{alert("Sent successfully.")})).catch((e=>{alert(e.message)}))};return(0,v.jsx)("section",{className:"contact",id:"connect",children:(0,v.jsx)(Bt,{children:(0,v.jsxs)(Nr,{className:"align-items-center",children:[(0,v.jsx)(Pr,{size:12,md:6,children:(0,v.jsx)(jr.A,{children:e=>{let{isVisible:t}=e;return(0,v.jsx)("img",{className:t?"animate__animated animate__zoomIn":"",src:ki,alt:"Contact Us"})}})}),(0,v.jsx)(Pr,{size:12,md:6,children:(0,v.jsx)(jr.A,{children:t=>{let{isVisible:n}=t;return(0,v.jsxs)("div",{className:n?"animate__animated animate__fadeIn":"",children:[(0,v.jsx)("h2",{children:"Get In Touch"}),(0,v.jsx)("form",{onSubmit:i,children:(0,v.jsxs)(Nr,{children:[(0,v.jsx)(Pr,{size:12,sm:6,className:"px-1",children:(0,v.jsx)("input",{type:"text",value:e.firstName,placeholder:"First Name",onChange:e=>r("firstName",e.target.value)})}),(0,v.jsx)(Pr,{size:12,sm:6,className:"px-1",children:(0,v.jsx)("input",{type:"text",value:e.lasttName,placeholder:"Last Name",onChange:e=>r("lastName",e.target.value)})}),(0,v.jsx)(Pr,{size:12,sm:6,className:"px-1",children:(0,v.jsx)("input",{type:"email",value:e.email,placeholder:"Email Address",onChange:e=>r("email",e.target.value)})}),(0,v.jsx)(Pr,{size:12,sm:6,className:"px-1",children:(0,v.jsx)("input",{type:"tel",value:e.phone,placeholder:"Phone No.",onChange:e=>r("phone",e.target.value)})}),(0,v.jsxs)(Pr,{size:12,className:"px-1",children:[(0,v.jsx)("textarea",{rows:"6",value:e.message,placeholder:"Message",onChange:e=>r("message",e.target.value)}),(0,v.jsx)("button",{type:"submit",children:"Submit"})]})]})})]})}})})]})})})};const Wx=function(){return(0,t.useEffect)((()=>{document.title="Home"}),[]),(0,v.jsxs)("div",{className:"App",children:[(0,v.jsx)(Cr,{}),(0,v.jsx)(Ur,{}),(0,v.jsx)(Wr,{}),(0,v.jsx)(Ti,{}),(0,v.jsx)(Kx,{})]})},Gx=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,v.jsx)(t.StrictMode,{children:(0,v.jsx)(Wx,{})})),Gx()})()})();
//# sourceMappingURL=main.c9fb35a4.js.map